<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Couture&#39;s Blog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-04-13T05:57:40.285Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Couture</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MacÔºàM1ProÂÆâË£ÖRedisÔºâ</title>
    <link href="http://example.com/2023/04/13/Mac%EF%BC%88M1Pro%E5%AE%89%E8%A3%85Redis%EF%BC%89/"/>
    <id>http://example.com/2023/04/13/Mac%EF%BC%88M1Pro%E5%AE%89%E8%A3%85Redis%EF%BC%89/</id>
    <published>2023-04-13T05:53:29.000Z</published>
    <updated>2023-04-13T05:57:40.285Z</updated>
    
    <content type="html"><![CDATA[<p>ÈááÁî®<code>homebrew</code>ÂÆâË£ÖRedisÔºåÂâçÊèêÊòØMacÂ∑≤ÁªèÂÆâË£ÖRedis</p><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">~ brew install redis <span class="comment"># ÊâßË°åËøô‰∏™ÂëΩ‰ª§Êù•ÂÆâË£ÖRedis</span></span><br><span class="line">Running `brew update --auto-update`...</span><br><span class="line">==&gt; Downloading https://formulae.brew.sh/api/formula.jws.json</span><br><span class="line"></span><br><span class="line"><span class="comment">######################################################################## 100.0%</span></span><br><span class="line">==&gt; Fetching redis</span><br><span class="line">==&gt; Downloading https://mirrors.aliyun.com/homebrew/homebrew-bottles/redis-7.0.1</span><br><span class="line"><span class="comment">######################################################################## 100.0%</span></span><br><span class="line">==&gt; Pouring redis-7.0.10.arm64_monterey.bottle.tar.gz</span><br><span class="line">==&gt; Caveats</span><br><span class="line">To start redis now and restart at login:</span><br><span class="line">  brew services start redis</span><br><span class="line">==&gt; Summary</span><br><span class="line">üç∫  /opt/homebrew/Cellar/redis/7.0.10: 14 files, 2.7MB</span><br><span class="line">==&gt; Running `brew cleanup redis`...</span><br><span class="line">Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.</span><br><span class="line">Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).</span><br><span class="line">‚ûú  ~ brew services start redis</span><br><span class="line">==&gt; Downloading https://formulae.brew.sh/api/formula.jws.json</span><br><span class="line"><span class="comment">##O=#  #</span></span><br><span class="line">Warning: Calling formula.plist_path is deprecated! Use formula.launchd_service_path instead.</span><br><span class="line">Please report this issue to the homebrew/services tap (not Homebrew/brew or Homebrew/homebrew-core), or even better, submit a PR to fix it:</span><br><span class="line">  /opt/homebrew/Library/Taps/homebrew/homebrew-services/lib/service/formula_wrapper.rb:58</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">‚ûú  ~ redis-cli <span class="comment"># ÂêØÂä®redis</span></span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">set</span> name couture</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line"><span class="string">&quot;couture&quot;</span></span><br><span class="line">127.0.0.1:6379&gt; shutdown <span class="comment"># ÂÖ≥Èó≠</span></span><br><span class="line">not connected&gt; quit  <span class="comment"># ÈÄÄÂá∫</span></span><br></pre></td></tr></table></figure><p>Âú®<code>homebrew</code>ÂÆâË£ÖÁöÑÊó∂ÂÄô‰πüÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢ò</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Warning: Calling formula.plist_path is deprecated! Use formula.launchd_service_path instead.</span><br><span class="line">Please report this issue to the homebrew/services tap (not Homebrew/brew or Homebrew/homebrew-core), or even better, submit a PR to fix it:</span><br><span class="line">  /opt/homebrew/Library/Taps/homebrew/homebrew-services/lib/service/formula_wrapper.rb:58</span><br></pre></td></tr></table></figure><p>ÈúÄË¶Å‰øÆÂ§ç‰ªÄ‰πà‰∏úË•ø</p><p>ÁÑ∂ÂêéÂè™ÈúÄË¶ÅÊâßË°åÂëΩ‰ª§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">‚ûú  ~ <span class="built_in">unset</span> HOMEBREW_BOTTLE_DOMAIN</span><br></pre></td></tr></table></figure><p>ÈóÆÈ¢òËß£ÂÜ≥~</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ÈááÁî®&lt;code&gt;homebrew&lt;/code&gt;ÂÆâË£ÖRedisÔºåÂâçÊèêÊòØMacÂ∑≤ÁªèÂÆâË£ÖRedis&lt;/p&gt;</summary>
    
    
    
    <category term="redis" scheme="http://example.com/categories/redis/"/>
    
    <category term="Mac" scheme="http://example.com/categories/redis/Mac/"/>
    
    <category term="Homebrew" scheme="http://example.com/categories/redis/Mac/Homebrew/"/>
    
    
    <category term="redis" scheme="http://example.com/tags/redis/"/>
    
    <category term="Homebrew" scheme="http://example.com/tags/Homebrew/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 8 Â≠óÁ¨¶ÈõÜÊä•ÈîôËß£ÂÜ≥ÊñπÊ≥ï</title>
    <link href="http://example.com/2023/04/08/CentOS-8-%E5%AD%97%E7%AC%A6%E9%9B%86%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <id>http://example.com/2023/04/08/CentOS-8-%E5%AD%97%E7%AC%A6%E9%9B%86%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</id>
    <published>2023-04-08T06:36:45.000Z</published>
    <updated>2023-04-08T06:38:51.055Z</updated>
    
    <content type="html"><![CDATA[<h5 id="È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö"><a href="#È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö" class="headerlink" title="È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö"></a>È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-3-centos ~]<span class="comment"># yum install -y yum-utils</span></span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8     <span class="comment"># ËøôÈáåÊòØÂá∫Áé∞‰∫Ü UTF-8Â≠óÁ¨¶ÈõÜÁöÑÈóÆÈ¢ò</span></span><br><span class="line">Last metadata expiration check: 0:02:34 ago on Fri Apr  7 17:29:02 2023.</span><br></pre></td></tr></table></figure><span id="more"></span><h5 id="Ëß£ÂÜ≥ÊñπÂºèÔºö"><a href="#Ëß£ÂÜ≥ÊñπÂºèÔºö" class="headerlink" title="Ëß£ÂÜ≥ÊñπÂºèÔºö"></a>Ëß£ÂÜ≥ÊñπÂºèÔºö</h5><p>ÊâßË°å‰∏Ä‰∏ãÂëΩ‰ª§Ôºö</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export LC_ALL=en_US.UTF-8&quot;</span>  &gt;&gt;  /etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export LC_CTYPE=en_US.UTF-8&quot;</span>  &gt;&gt;  /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure><p>Âú®ÂÆâË£ÖËΩØ‰ª∂Ôºå‰∏ç‰ºöÊúâÊä•ÈîôÊèêÁ§∫ÔºåÈóÆÈ¢òÂæóÂà∞‰∫ÜËß£ÂÜ≥~</p>]]></content>
    
    
    <summary type="html">&lt;h5 id=&quot;È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö&quot;&gt;&lt;a href=&quot;#È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö&quot; class=&quot;headerlink&quot; title=&quot;È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö&quot;&gt;&lt;/a&gt;È¶ñÂÖàÊòØÈîôËØØÂ¶Ç‰∏ãÔºö&lt;/h5&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[root@VM-4-3-centos ~]&lt;span class=&quot;comment&quot;&gt;# yum install -y yum-utils&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Failed to &lt;span class=&quot;built_in&quot;&gt;set&lt;/span&gt; locale, defaulting to C.UTF-8     &lt;span class=&quot;comment&quot;&gt;# ËøôÈáåÊòØÂá∫Áé∞‰∫Ü UTF-8Â≠óÁ¨¶ÈõÜÁöÑÈóÆÈ¢ò&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Last metadata expiration check: 0:02:34 ago on Fri Apr  7 17:29:02 2023.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="CentOS 8" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/CentOS-8/"/>
    
    <category term="Linux" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/CentOS-8/Linux/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="CentOS 8" scheme="http://example.com/tags/CentOS-8/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 8 ÂÆâË£ÖDocker</title>
    <link href="http://example.com/2023/04/08/CentOS-8-%E5%AE%89%E8%A3%85Docker/"/>
    <id>http://example.com/2023/04/08/CentOS-8-%E5%AE%89%E8%A3%85Docker/</id>
    <published>2023-04-08T01:56:14.000Z</published>
    <updated>2023-04-08T02:08:55.455Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ÂÆâË£ÖËøáÁ®ã"><a href="#ÂÆâË£ÖËøáÁ®ã" class="headerlink" title="ÂÆâË£ÖËøáÁ®ã"></a>ÂÆâË£ÖËøáÁ®ã</h3><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-3-centos ~]<span class="comment"># yum remove docker</span></span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8</span><br><span class="line">No match <span class="keyword">for</span> argument: docker</span><br><span class="line">No packages marked <span class="keyword">for</span> removal.</span><br><span class="line">Dependencies resolved.</span><br><span class="line">Nothing to <span class="keyword">do</span>.</span><br><span class="line">Complete!</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># yum remove docker *</span></span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8</span><br><span class="line">No match <span class="keyword">for</span> argument: docker</span><br><span class="line">Error:</span><br><span class="line">Problem: The operation would result <span class="keyword">in</span> removing the following protected packages: dnf, kernel-core, setup, sudo, systemd, systemd-udev, yum</span><br><span class="line">(try to add <span class="string">&#x27;--skip-broken&#x27;</span> to skip uninstallable packages or <span class="string">&#x27;--nobest&#x27;</span> to use not only best candidate packages)</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># yum install -y yum-utils</span></span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8</span><br><span class="line">Last metadata expiration check: 0:02:34 ago on Fri Apr  7 17:29:02 2023.</span><br><span class="line">Dependencies resolved.</span><br><span class="line">================================================================================================</span><br><span class="line">Package                          Architecture   Version                Repository         Size</span><br><span class="line">================================================================================================</span><br><span class="line">Installing:</span><br><span class="line">yum-utils                        noarch         4.0.21-18.el8          baseos             75 k</span><br><span class="line">Upgrading:</span><br><span class="line">dnf                              noarch         4.7.0-15.el8           baseos            542 k</span><br><span class="line">dnf-data                         noarch         4.7.0-15.el8           baseos            156 k</span><br><span class="line">dnf-plugins-core                 noarch         4.0.21-18.el8          baseos             75 k</span><br><span class="line">libdnf                           x86_64         0.63.0-13.el8          baseos            704 k</span><br><span class="line">libsolv                          x86_64         0.7.20-4.el8           baseos            376 k</span><br><span class="line">python3-dnf                      noarch         4.7.0-15.el8           baseos            550 k</span><br><span class="line">python3-dnf-plugins-core         noarch         4.0.21-18.el8          baseos            258 k</span><br><span class="line">python3-hawkey                   x86_64         0.63.0-13.el8          baseos            117 k</span><br><span class="line">python3-libdnf                   x86_64         0.63.0-13.el8          baseos            779 k</span><br><span class="line">yum                              noarch         4.7.0-15.el8           baseos            208 k</span><br><span class="line">Installing dependencies:</span><br><span class="line">python3-systemd                  x86_64         234-8.el8              appstream          81 k</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">================================================================================================</span><br><span class="line">Install   2 Packages</span><br><span class="line">Upgrade  10 Packages</span><br><span class="line"></span><br><span class="line">Total download size: 3.8 M</span><br><span class="line">Downloading Packages:</span><br><span class="line">(1/12): python3-systemd-234-8.el8.x86_64.rpm                    2.9 MB/s |  81 kB     00:00</span><br><span class="line">(2/12): yum-utils-4.0.21-18.el8.noarch.rpm                      2.2 MB/s |  75 kB     00:00</span><br><span class="line">(3/12): dnf-plugins-core-4.0.21-18.el8.noarch.rpm               4.2 MB/s |  75 kB     00:00</span><br><span class="line">(4/12): dnf-4.7.0-15.el8.noarch.rpm                             8.0 MB/s | 542 kB     00:00</span><br><span class="line">(5/12): dnf-data-4.7.0-15.el8.noarch.rpm                        3.1 MB/s | 156 kB     00:00</span><br><span class="line">(6/12): libsolv-0.7.20-4.el8.x86_64.rpm                          10 MB/s | 376 kB     00:00</span><br><span class="line">(7/12): python3-dnf-plugins-core-4.0.21-18.el8.noarch.rpm       8.2 MB/s | 258 kB     00:00</span><br><span class="line">(8/12): libdnf-0.63.0-13.el8.x86_64.rpm                         6.5 MB/s | 704 kB     00:00</span><br><span class="line">(9/12): python3-hawkey-0.63.0-13.el8.x86_64.rpm                 3.2 MB/s | 117 kB     00:00</span><br><span class="line">(10/12): python3-dnf-4.7.0-15.el8.noarch.rpm                    4.7 MB/s | 550 kB     00:00</span><br><span class="line">(11/12): yum-4.7.0-15.el8.noarch.rpm                            5.4 MB/s | 208 kB     00:00</span><br><span class="line">(12/12): python3-libdnf-0.63.0-13.el8.x86_64.rpm                9.5 MB/s | 779 kB     00:00</span><br><span class="line">------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                            16 MB/s | 3.8 MB     00:00</span><br><span class="line">Running transaction check</span><br><span class="line">Transaction check succeeded.</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded.</span><br><span class="line">Running transaction</span><br><span class="line">Preparing        :                                                                        1/1</span><br><span class="line">Running scriptlet: libsolv-0.7.20-4.el8.x86_64                                            1/1</span><br><span class="line">Upgrading        : libsolv-0.7.20-4.el8.x86_64                                           1/22</span><br><span class="line">Upgrading        : libdnf-0.63.0-13.el8.x86_64                                           2/22</span><br><span class="line">Upgrading        : python3-libdnf-0.63.0-13.el8.x86_64                                   3/22</span><br><span class="line">Upgrading        : python3-hawkey-0.63.0-13.el8.x86_64                                   4/22</span><br><span class="line">Upgrading        : dnf-data-4.7.0-15.el8.noarch                                          5/22</span><br><span class="line">Upgrading        : python3-dnf-4.7.0-15.el8.noarch                                       6/22</span><br><span class="line">Upgrading        : dnf-4.7.0-15.el8.noarch                                               7/22</span><br><span class="line">Running scriptlet: dnf-4.7.0-15.el8.noarch                                               7/22</span><br><span class="line">Installing       : python3-systemd-234-8.el8.x86_64                                      8/22</span><br><span class="line">Upgrading        : python3-dnf-plugins-core-4.0.21-18.el8.noarch                         9/22</span><br><span class="line">Upgrading        : dnf-plugins-core-4.0.21-18.el8.noarch                                10/22</span><br><span class="line">Installing       : yum-utils-4.0.21-18.el8.noarch                                       11/22</span><br><span class="line">Upgrading        : yum-4.7.0-15.el8.noarch                                              12/22</span><br><span class="line">Cleanup          : yum-4.7.0-5.el8.noarch                                               13/22</span><br><span class="line">Running scriptlet: dnf-4.7.0-5.el8.noarch                                               14/22</span><br><span class="line">Cleanup          : dnf-4.7.0-5.el8.noarch                                               14/22</span><br><span class="line">Running scriptlet: dnf-4.7.0-5.el8.noarch                                               14/22</span><br><span class="line">Cleanup          : dnf-plugins-core-4.0.21-7.el8.noarch                                 15/22</span><br><span class="line">Cleanup          : python3-dnf-plugins-core-4.0.21-7.el8.noarch                         16/22</span><br><span class="line">Cleanup          : python3-dnf-4.7.0-5.el8.noarch                                       17/22</span><br><span class="line">Cleanup          : python3-hawkey-0.63.0-5.el8.x86_64                                   18/22</span><br><span class="line">Cleanup          : dnf-data-4.7.0-5.el8.noarch                                          19/22</span><br><span class="line">Cleanup          : python3-libdnf-0.63.0-5.el8.x86_64                                   20/22</span><br><span class="line">Cleanup          : libdnf-0.63.0-5.el8.x86_64                                           21/22</span><br><span class="line">Cleanup          : libsolv-0.7.20-1.el8.x86_64                                          22/22</span><br><span class="line">Running scriptlet: libsolv-0.7.20-1.el8.x86_64                                          22/22</span><br><span class="line">Verifying        : python3-systemd-234-8.el8.x86_64                                      1/22</span><br><span class="line">Verifying        : yum-utils-4.0.21-18.el8.noarch                                        2/22</span><br><span class="line">Verifying        : dnf-4.7.0-15.el8.noarch                                               3/22</span><br><span class="line">Verifying        : dnf-4.7.0-5.el8.noarch                                                4/22</span><br><span class="line">Verifying        : dnf-data-4.7.0-15.el8.noarch                                          5/22</span><br><span class="line">Verifying        : dnf-data-4.7.0-5.el8.noarch                                           6/22</span><br><span class="line">Verifying        : dnf-plugins-core-4.0.21-18.el8.noarch                                 7/22</span><br><span class="line">Verifying        : dnf-plugins-core-4.0.21-7.el8.noarch                                  8/22</span><br><span class="line">Verifying        : libdnf-0.63.0-13.el8.x86_64                                           9/22</span><br><span class="line">Verifying        : libdnf-0.63.0-5.el8.x86_64                                           10/22</span><br><span class="line">Verifying        : libsolv-0.7.20-4.el8.x86_64                                          11/22</span><br><span class="line">Verifying        : libsolv-0.7.20-1.el8.x86_64                                          12/22</span><br><span class="line">Verifying        : python3-dnf-4.7.0-15.el8.noarch                                      13/22</span><br><span class="line">Verifying        : python3-dnf-4.7.0-5.el8.noarch                                       14/22</span><br><span class="line">Verifying        : python3-dnf-plugins-core-4.0.21-18.el8.noarch                        15/22</span><br><span class="line">Verifying        : python3-dnf-plugins-core-4.0.21-7.el8.noarch                         16/22</span><br><span class="line">Verifying        : python3-hawkey-0.63.0-13.el8.x86_64                                  17/22</span><br><span class="line">Verifying        : python3-hawkey-0.63.0-5.el8.x86_64                                   18/22</span><br><span class="line">Verifying        : python3-libdnf-0.63.0-13.el8.x86_64                                  19/22</span><br><span class="line">Verifying        : python3-libdnf-0.63.0-5.el8.x86_64                                   20/22</span><br><span class="line">Verifying        : yum-4.7.0-15.el8.noarch                                              21/22</span><br><span class="line">Verifying        : yum-4.7.0-5.el8.noarch                                               22/22</span><br><span class="line"></span><br><span class="line">Upgraded:</span><br><span class="line">dnf-4.7.0-15.el8.noarch                             dnf-data-4.7.0-15.el8.noarch</span><br><span class="line">dnf-plugins-core-4.0.21-18.el8.noarch               libdnf-0.63.0-13.el8.x86_64</span><br><span class="line">libsolv-0.7.20-4.el8.x86_64                         python3-dnf-4.7.0-15.el8.noarch</span><br><span class="line">python3-dnf-plugins-core-4.0.21-18.el8.noarch       python3-hawkey-0.63.0-13.el8.x86_64</span><br><span class="line">python3-libdnf-0.63.0-13.el8.x86_64                 yum-4.7.0-15.el8.noarch</span><br><span class="line">Installed:</span><br><span class="line">python3-systemd-234-8.el8.x86_64                yum-utils-4.0.21-18.el8.noarch</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line"></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># yum-config-manager \</span></span><br><span class="line">&gt; --add-repo \</span><br><span class="line">&gt; http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8</span><br><span class="line">Adding repo from: http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo yum install -y docker-ce docker-ce-cli containerd.io</span></span><br><span class="line">Failed to <span class="built_in">set</span> locale, defaulting to C.UTF-8</span><br><span class="line">Docker CE Stable - x86_64                                       153 kB/s |  40 kB     00:00</span><br><span class="line">Dependencies resolved.</span><br><span class="line">================================================================================================</span><br><span class="line">Package                 Arch   Version                                  Repository        Size</span><br><span class="line">================================================================================================</span><br><span class="line">Installing:</span><br><span class="line">containerd.io           x86_64 1.6.20-3.1.el8                           docker-ce-stable  34 M</span><br><span class="line">docker-ce               x86_64 3:23.0.3-1.el8                           docker-ce-stable  23 M</span><br><span class="line">docker-ce-cli           x86_64 1:23.0.3-1.el8                           docker-ce-stable 7.1 M</span><br><span class="line">Installing dependencies:</span><br><span class="line">checkpolicy             x86_64 2.9-1.el8                                baseos           348 k</span><br><span class="line">container-selinux       noarch 2:2.195.1-1.module_el8.8.0+1254+78119b6e appstream         63 k</span><br><span class="line">docker-ce-rootless-extras</span><br><span class="line">x86_64 23.0.3-1.el8                             docker-ce-stable 4.8 M</span><br><span class="line">fuse-common             x86_64 3.3.0-16.el8                             baseos            22 k</span><br><span class="line">fuse-overlayfs          x86_64 1.10-1.module_el8.8.0+1254+78119b6e      appstream         74 k</span><br><span class="line">fuse3                   x86_64 3.3.0-16.el8                             baseos            54 k</span><br><span class="line">fuse3-libs              x86_64 3.3.0-16.el8                             baseos            95 k</span><br><span class="line">libcgroup               x86_64 0.41-19.el8                              baseos            70 k</span><br><span class="line">libslirp                x86_64 4.4.0-1.module_el8.7.0+1216+b022c01d     appstream         70 k</span><br><span class="line">policycoreutils-python-utils</span><br><span class="line">noarch 2.9-17.el8                               baseos           252 k</span><br><span class="line">python3-audit           x86_64 3.0-0.17.20191104git1c2f876.el8          baseos            86 k</span><br><span class="line">python3-libsemanage     x86_64 2.9-6.el8                                baseos           127 k</span><br><span class="line">python3-policycoreutils noarch 2.9-17.el8                               baseos           2.2 M</span><br><span class="line">python3-setools         x86_64 4.3.0-3.el8                              baseos           624 k</span><br><span class="line">slirp4netns             x86_64 1.2.0-2.module_el8.7.0+1216+b022c01d     appstream         54 k</span><br><span class="line">Installing weak dependencies:</span><br><span class="line">docker-buildx-plugin    x86_64 0.10.4-1.el8                             docker-ce-stable  12 M</span><br><span class="line">docker-compose-plugin   x86_64 2.17.2-1.el8                             docker-ce-stable  12 M</span><br><span class="line">Enabling module streams:</span><br><span class="line">container-tools                rhel8</span><br><span class="line"></span><br><span class="line">Transaction Summary</span><br><span class="line">================================================================================================</span><br><span class="line">Install  20 Packages</span><br><span class="line"></span><br><span class="line">Total download size: 97 M</span><br><span class="line">Installed size: 367 M</span><br><span class="line">Downloading Packages:</span><br><span class="line">(1/20): container-selinux-2.195.1-1.module_el8.8.0+1254+78119b6 1.6 MB/s |  63 kB     00:00</span><br><span class="line">(2/20): fuse-overlayfs-1.10-1.module_el8.8.0+1254+78119b6e.x86_ 1.6 MB/s |  74 kB     00:00</span><br><span class="line">(3/20): libslirp-4.4.0-1.module_el8.7.0+1216+b022c01d.x86_64.rp 1.3 MB/s |  70 kB     00:00</span><br><span class="line">(4/20): slirp4netns-1.2.0-2.module_el8.7.0+1216+b022c01d.x86_64 2.6 MB/s |  54 kB     00:00</span><br><span class="line">(5/20): fuse-common-3.3.0-16.el8.x86_64.rpm                     1.6 MB/s |  22 kB     00:00</span><br><span class="line">(6/20): fuse3-3.3.0-16.el8.x86_64.rpm                           3.2 MB/s |  54 kB     00:00</span><br><span class="line">(7/20): fuse3-libs-3.3.0-16.el8.x86_64.rpm                      4.0 MB/s |  95 kB     00:00</span><br><span class="line">(8/20): libcgroup-0.41-19.el8.x86_64.rpm                        3.0 MB/s |  70 kB     00:00</span><br><span class="line">(9/20): checkpolicy-2.9-1.el8.x86_64.rpm                        4.3 MB/s | 348 kB     00:00</span><br><span class="line">(10/20): python3-audit-3.0-0.17.20191104git1c2f876.el8.x86_64.r 2.8 MB/s |  86 kB     00:00</span><br><span class="line">(11/20): policycoreutils-python-utils-2.9-17.el8.noarch.rpm     4.6 MB/s | 252 kB     00:00</span><br><span class="line">(12/20): python3-libsemanage-2.9-6.el8.x86_64.rpm               3.6 MB/s | 127 kB     00:00</span><br><span class="line">(13/20): python3-setools-4.3.0-3.el8.x86_64.rpm                 6.8 MB/s | 624 kB     00:00</span><br><span class="line">(14/20): python3-policycoreutils-2.9-17.el8.noarch.rpm          7.9 MB/s | 2.2 MB     00:00</span><br><span class="line">(15/20): docker-buildx-plugin-0.10.4-1.el8.x86_64.rpm           634 kB/s |  12 MB     00:19</span><br><span class="line">(16/20): docker-ce-cli-23.0.3-1.el8.x86_64.rpm                  623 kB/s | 7.1 MB     00:11</span><br><span class="line">(17/20): docker-ce-23.0.3-1.el8.x86_64.rpm                      661 kB/s |  23 MB     00:36</span><br><span class="line">(18/20): docker-ce-rootless-extras-23.0.3-1.el8.x86_64.rpm      676 kB/s | 4.8 MB     00:07</span><br><span class="line">(19/20): containerd.io-1.6.20-3.1.el8.x86_64.rpm                714 kB/s |  34 MB     00:48</span><br><span class="line">(20/20): docker-compose-plugin-2.17.2-1.el8.x86_64.rpm          761 kB/s |  12 MB     00:15</span><br><span class="line">------------------------------------------------------------------------------------------------</span><br><span class="line">Total                                                           1.9 MB/s |  97 MB     00:52</span><br><span class="line">Docker CE Stable - x86_64                                        18 kB/s | 1.6 kB     00:00</span><br><span class="line">Importing GPG key 0x621E9F35:</span><br><span class="line">Userid     : <span class="string">&quot;Docker Release (CE rpm) &lt;docker@docker.com&gt;&quot;</span></span><br><span class="line">Fingerprint: 060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35</span><br><span class="line">From       : https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span><br><span class="line">Key imported successfully</span><br><span class="line">Running transaction check</span><br><span class="line">Transaction check succeeded.</span><br><span class="line">Running transaction <span class="built_in">test</span></span><br><span class="line">Transaction <span class="built_in">test</span> succeeded.</span><br><span class="line">Running transaction</span><br><span class="line">Preparing        :                                                                        1/1</span><br><span class="line">Installing       : docker-compose-plugin-2.17.2-1.el8.x86_64                             1/20</span><br><span class="line">Running scriptlet: docker-compose-plugin-2.17.2-1.el8.x86_64                             1/20</span><br><span class="line">Installing       : fuse3-libs-3.3.0-16.el8.x86_64                                        2/20</span><br><span class="line">Running scriptlet: fuse3-libs-3.3.0-16.el8.x86_64                                        2/20</span><br><span class="line">Installing       : docker-buildx-plugin-0.10.4-1.el8.x86_64                              3/20</span><br><span class="line">Running scriptlet: docker-buildx-plugin-0.10.4-1.el8.x86_64                              3/20</span><br><span class="line">Installing       : docker-ce-cli-1:23.0.3-1.el8.x86_64                                   4/20</span><br><span class="line">Running scriptlet: docker-ce-cli-1:23.0.3-1.el8.x86_64                                   4/20</span><br><span class="line">Installing       : python3-setools-4.3.0-3.el8.x86_64                                    5/20</span><br><span class="line">Installing       : python3-libsemanage-2.9-6.el8.x86_64                                  6/20</span><br><span class="line">Installing       : python3-audit-3.0-0.17.20191104git1c2f876.el8.x86_64                  7/20</span><br><span class="line">Running scriptlet: libcgroup-0.41-19.el8.x86_64                                          8/20</span><br><span class="line">Installing       : libcgroup-0.41-19.el8.x86_64                                          8/20</span><br><span class="line">Running scriptlet: libcgroup-0.41-19.el8.x86_64                                          8/20</span><br><span class="line">Installing       : fuse-common-3.3.0-16.el8.x86_64                                       9/20</span><br><span class="line">Installing       : fuse3-3.3.0-16.el8.x86_64                                            10/20</span><br><span class="line">Installing       : fuse-overlayfs-1.10-1.module_el8.8.0+1254+78119b6e.x86_64            11/20</span><br><span class="line">Running scriptlet: fuse-overlayfs-1.10-1.module_el8.8.0+1254+78119b6e.x86_64            11/20</span><br><span class="line">Installing       : checkpolicy-2.9-1.el8.x86_64                                         12/20</span><br><span class="line">Installing       : python3-policycoreutils-2.9-17.el8.noarch                            13/20</span><br><span class="line">Installing       : policycoreutils-python-utils-2.9-17.el8.noarch                       14/20</span><br><span class="line">Running scriptlet: container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch    15/20</span><br><span class="line">Installing       : container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch    15/20</span><br><span class="line">Running scriptlet: container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch    15/20</span><br><span class="line"></span><br><span class="line">Installing       : containerd.io-1.6.20-3.1.el8.x86_64                                  16/20</span><br><span class="line">Running scriptlet: containerd.io-1.6.20-3.1.el8.x86_64                                  16/20</span><br><span class="line">Installing       : libslirp-4.4.0-1.module_el8.7.0+1216+b022c01d.x86_64                 17/20</span><br><span class="line">Installing       : slirp4netns-1.2.0-2.module_el8.7.0+1216+b022c01d.x86_64              18/20</span><br><span class="line">Installing       : docker-ce-rootless-extras-23.0.3-1.el8.x86_64                        19/20</span><br><span class="line">Running scriptlet: docker-ce-rootless-extras-23.0.3-1.el8.x86_64                        19/20</span><br><span class="line">Installing       : docker-ce-3:23.0.3-1.el8.x86_64                                      20/20</span><br><span class="line">Running scriptlet: docker-ce-3:23.0.3-1.el8.x86_64                                      20/20</span><br><span class="line">Running scriptlet: container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch    20/20</span><br><span class="line">Running scriptlet: docker-ce-3:23.0.3-1.el8.x86_64                                      20/20</span><br><span class="line">Verifying        : container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch     1/20</span><br><span class="line">Verifying        : fuse-overlayfs-1.10-1.module_el8.8.0+1254+78119b6e.x86_64             2/20</span><br><span class="line">Verifying        : libslirp-4.4.0-1.module_el8.7.0+1216+b022c01d.x86_64                  3/20</span><br><span class="line">Verifying        : slirp4netns-1.2.0-2.module_el8.7.0+1216+b022c01d.x86_64               4/20</span><br><span class="line">Verifying        : checkpolicy-2.9-1.el8.x86_64                                          5/20</span><br><span class="line">Verifying        : fuse-common-3.3.0-16.el8.x86_64                                       6/20</span><br><span class="line">Verifying        : fuse3-3.3.0-16.el8.x86_64                                             7/20</span><br><span class="line">Verifying        : fuse3-libs-3.3.0-16.el8.x86_64                                        8/20</span><br><span class="line">Verifying        : libcgroup-0.41-19.el8.x86_64                                          9/20</span><br><span class="line">Verifying        : policycoreutils-python-utils-2.9-17.el8.noarch                       10/20</span><br><span class="line">Verifying        : python3-audit-3.0-0.17.20191104git1c2f876.el8.x86_64                 11/20</span><br><span class="line">Verifying        : python3-libsemanage-2.9-6.el8.x86_64                                 12/20</span><br><span class="line">Verifying        : python3-policycoreutils-2.9-17.el8.noarch                            13/20</span><br><span class="line">Verifying        : python3-setools-4.3.0-3.el8.x86_64                                   14/20</span><br><span class="line">Verifying        : containerd.io-1.6.20-3.1.el8.x86_64                                  15/20</span><br><span class="line">Verifying        : docker-buildx-plugin-0.10.4-1.el8.x86_64                             16/20</span><br><span class="line">Verifying        : docker-ce-3:23.0.3-1.el8.x86_64                                      17/20</span><br><span class="line">Verifying        : docker-ce-cli-1:23.0.3-1.el8.x86_64                                  18/20</span><br><span class="line">Verifying        : docker-ce-rootless-extras-23.0.3-1.el8.x86_64                        19/20</span><br><span class="line">Verifying        : docker-compose-plugin-2.17.2-1.el8.x86_64                            20/20</span><br><span class="line"></span><br><span class="line">Installed:</span><br><span class="line">checkpolicy-2.9-1.el8.x86_64</span><br><span class="line">container-selinux-2:2.195.1-1.module_el8.8.0+1254+78119b6e.noarch</span><br><span class="line">containerd.io-1.6.20-3.1.el8.x86_64</span><br><span class="line">docker-buildx-plugin-0.10.4-1.el8.x86_64</span><br><span class="line">docker-ce-3:23.0.3-1.el8.x86_64</span><br><span class="line">docker-ce-cli-1:23.0.3-1.el8.x86_64</span><br><span class="line">docker-ce-rootless-extras-23.0.3-1.el8.x86_64</span><br><span class="line">docker-compose-plugin-2.17.2-1.el8.x86_64</span><br><span class="line">fuse-common-3.3.0-16.el8.x86_64</span><br><span class="line">fuse-overlayfs-1.10-1.module_el8.8.0+1254+78119b6e.x86_64</span><br><span class="line">fuse3-3.3.0-16.el8.x86_64</span><br><span class="line">fuse3-libs-3.3.0-16.el8.x86_64</span><br><span class="line">libcgroup-0.41-19.el8.x86_64</span><br><span class="line">libslirp-4.4.0-1.module_el8.7.0+1216+b022c01d.x86_64</span><br><span class="line">policycoreutils-python-utils-2.9-17.el8.noarch</span><br><span class="line">python3-audit-3.0-0.17.20191104git1c2f876.el8.x86_64</span><br><span class="line">python3-libsemanage-2.9-6.el8.x86_64</span><br><span class="line">python3-policycoreutils-2.9-17.el8.noarch</span><br><span class="line">python3-setools-4.3.0-3.el8.x86_64</span><br><span class="line">slirp4netns-1.2.0-2.module_el8.7.0+1216+b022c01d.x86_64</span><br><span class="line"></span><br><span class="line">Complete!</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment">#</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># systemctl enable docker --now</span></span><br><span class="line">Created symlink /etc/systemd/system/multi-user.target.wants/docker.service ‚Üí /usr/lib/systemd/system/docker.service.</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># echo &quot;export LC_ALL=en_US.UTF8&quot; &gt;&gt; /etc/profile</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># source /etc/profile</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID   CREATED   SIZE</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># mkdir -p /etc/docker</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span></span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;   <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://82m9ar63.mirror.aliyuncs.com&quot;</span>],</span><br><span class="line">&gt;   <span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line">&gt;   <span class="string">&quot;log-driver&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line">&gt;   <span class="string">&quot;log-opts&quot;</span>: &#123;</span><br><span class="line">&gt;     <span class="string">&quot;max-size&quot;</span>: <span class="string">&quot;100m&quot;</span></span><br><span class="line">&gt;   &#125;,</span><br><span class="line">&gt;   <span class="string">&quot;storage-driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt; EOF</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://82m9ar63.mirror.aliyuncs.com&quot;</span>],</span><br><span class="line"><span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line"><span class="string">&quot;log-driver&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line"><span class="string">&quot;log-opts&quot;</span>: &#123;</span><br><span class="line"><span class="string">&quot;max-size&quot;</span>: <span class="string">&quot;100m&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;storage-driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo systemctl daemon-reload</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo systemctl restart docker</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment">#</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ÂÆâË£ÖËøáÁ®ã&quot;&gt;&lt;a href=&quot;#ÂÆâË£ÖËøáÁ®ã&quot; class=&quot;headerlink&quot; title=&quot;ÂÆâË£ÖËøáÁ®ã&quot;&gt;&lt;/a&gt;ÂÆâË£ÖËøáÁ®ã&lt;/h3&gt;</summary>
    
    
    
    <category term="Docker" scheme="http://example.com/categories/Docker/"/>
    
    <category term="DevOps" scheme="http://example.com/categories/Docker/DevOps/"/>
    
    <category term="Linux" scheme="http://example.com/categories/Docker/DevOps/Linux/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="Docker" scheme="http://example.com/tags/Docker/"/>
    
    <category term="DevOps" scheme="http://example.com/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>ÈòøÈáå‰∫ëDockerÈïúÂÉèÂä†ÈÄü</title>
    <link href="http://example.com/2023/04/08/%E9%98%BF%E9%87%8C%E4%BA%91Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/"/>
    <id>http://example.com/2023/04/08/%E9%98%BF%E9%87%8C%E4%BA%91Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/</id>
    <published>2023-04-08T01:51:36.000Z</published>
    <updated>2023-04-08T02:08:55.451Z</updated>
    
    <content type="html"><![CDATA[<h4 id="ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê"><a href="#ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê" class="headerlink" title="ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê"></a>ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê</h4><span id="more"></span><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-3-centos ~]<span class="comment"># mkdir -p /etc/docker</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span></span><br><span class="line">&gt; &#123;</span><br><span class="line">&gt;   <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://82m9ar63.mirror.aliyuncs.com&quot;</span>],</span><br><span class="line">&gt;   <span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line">&gt;   <span class="string">&quot;log-driver&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line">&gt;   <span class="string">&quot;log-opts&quot;</span>: &#123;</span><br><span class="line">&gt;     <span class="string">&quot;max-size&quot;</span>: <span class="string">&quot;100m&quot;</span></span><br><span class="line">&gt;   &#125;,</span><br><span class="line">&gt;   <span class="string">&quot;storage-driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt; EOF</span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://82m9ar63.mirror.aliyuncs.com&quot;</span>],</span><br><span class="line">  <span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line">  <span class="string">&quot;log-driver&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line">  <span class="string">&quot;log-opts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;max-size&quot;</span>: <span class="string">&quot;100m&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;storage-driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo systemctl daemon-reload</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># sudo systemctl restart docker</span></span><br><span class="line">[root@VM-4-3-centos ~]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h4 id=&quot;ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê&quot;&gt;&lt;a href=&quot;#ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê&quot; class=&quot;headerlink&quot; title=&quot;ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê&quot;&gt;&lt;/a&gt;ÈòøÈáå‰∫ëÈïúÂÉèÊ∫ê&lt;/h4&gt;</summary>
    
    
    
    <category term="docker" scheme="http://example.com/categories/docker/"/>
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/docker/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="DevOps" scheme="http://example.com/categories/docker/%E8%BF%90%E7%BB%B4/DevOps/"/>
    
    
    <category term="Docker" scheme="http://example.com/tags/Docker/"/>
    
    <category term="ËøêÁª¥" scheme="http://example.com/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>Windows10&amp;11ÂÆòÊñπÁ≥ªÁªüÁõòÂà∂‰ΩúÊïôÁ®ã</title>
    <link href="http://example.com/2023/04/03/Windows10-11%E5%AE%98%E6%96%B9%E7%B3%BB%E7%BB%9F%E7%9B%98%E5%88%B6%E4%BD%9C%E6%95%99%E7%A8%8B/"/>
    <id>http://example.com/2023/04/03/Windows10-11%E5%AE%98%E6%96%B9%E7%B3%BB%E7%BB%9F%E7%9B%98%E5%88%B6%E4%BD%9C%E6%95%99%E7%A8%8B/</id>
    <published>2023-04-03T06:21:44.000Z</published>
    <updated>2023-04-03T06:23:46.058Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Êú¨Ê¨°ÂÅöÁ≥ªÁªüÁõòÔºåÈááÁî®ÂÆòÊñπÁöÑÊñπÂºèÂà∂‰ΩúÔºö</p><p>Ê≥®ÊÑèÔºöUÁõòÊúÄÂ∞ëË¶Å<code>8G</code>ÂèäÂÖ∂‰ª•‰∏äÁöÑÁ©∫UÁõòÔºå‰∏∫‰∫ÜÈÅøÂÖçÂá∫ÈîôÔºåÂú®ÂºÄÂ±ï‰∏Ä‰∏ãÊ≠•È™§‰πãÂâçËøòÊòØÂÖàÁªôUÁõòÊï∞ÊçÆÂ§á‰ªΩÂ•ΩÔºåÁÑ∂ÂêéÂØπUÁõòËøõË°åÊ†ºÂºèÂåñ</p></blockquote><span id="more"></span><h3 id="Á¨¨‰∏ÄÊ≠•ÔºöÂéªÂæÆËΩØÈïúÂÉèÂÆòÊñπ‰∏ãËΩΩÁΩëÁ´ô"><a href="#Á¨¨‰∏ÄÊ≠•ÔºöÂéªÂæÆËΩØÈïúÂÉèÂÆòÊñπ‰∏ãËΩΩÁΩëÁ´ô" class="headerlink" title="Á¨¨‰∏ÄÊ≠•ÔºöÂéªÂæÆËΩØÈïúÂÉèÂÆòÊñπ‰∏ãËΩΩÁΩëÁ´ô"></a>Á¨¨‰∏ÄÊ≠•ÔºöÂéªÂæÆËΩØÈïúÂÉèÂÆòÊñπ‰∏ãËΩΩÁΩëÁ´ô</h3><h4 id="Window10ÈïúÂÉè-https-www-microsoft-com-zh-cn-software-download-windows10"><a href="#Window10ÈïúÂÉè-https-www-microsoft-com-zh-cn-software-download-windows10" class="headerlink" title="Window10ÈïúÂÉè: https://www.microsoft.com/zh-cn/software-download/windows10/"></a><code>Window10</code>ÈïúÂÉè: <a href="https://www.microsoft.com/zh-cn/software-download/windows10/">https://www.microsoft.com/zh-cn/software-download/windows10/</a></h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031022123.png" alt="image-20230403102222753"></p><h4 id="Window11ÈïúÂÉè-https-www-microsoft-com-zh-cn-software-download-windows11"><a href="#Window11ÈïúÂÉè-https-www-microsoft-com-zh-cn-software-download-windows11" class="headerlink" title="Window11ÈïúÂÉè:https://www.microsoft.com/zh-cn/software-download/windows11/"></a><code>Window11ÈïúÂÉè</code>:<a href="https://www.microsoft.com/zh-cn/software-download/windows11/">https://www.microsoft.com/zh-cn/software-download/windows11/</a></h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031022354.png" alt="image-20230403102242020"></p><h3 id="Á¨¨‰∫åÊ≠•Ôºö‰ª•Windows10‰∏∫‰æãÔºåÂºÄÂßãÂà∂‰ΩúÁ≥ªÁªüÁõòÔºå‰∏ãËΩΩÂà∂‰ΩúÂ∑•ÂÖ∑ÔºåÁÇπÂáªÁ´ãÂç≥‰∏ãËΩΩÂ∑•ÂÖ∑"><a href="#Á¨¨‰∫åÊ≠•Ôºö‰ª•Windows10‰∏∫‰æãÔºåÂºÄÂßãÂà∂‰ΩúÁ≥ªÁªüÁõòÔºå‰∏ãËΩΩÂà∂‰ΩúÂ∑•ÂÖ∑ÔºåÁÇπÂáªÁ´ãÂç≥‰∏ãËΩΩÂ∑•ÂÖ∑" class="headerlink" title="Á¨¨‰∫åÊ≠•Ôºö‰ª•Windows10‰∏∫‰æãÔºåÂºÄÂßãÂà∂‰ΩúÁ≥ªÁªüÁõòÔºå‰∏ãËΩΩÂà∂‰ΩúÂ∑•ÂÖ∑ÔºåÁÇπÂáªÁ´ãÂç≥‰∏ãËΩΩÂ∑•ÂÖ∑"></a>Á¨¨‰∫åÊ≠•Ôºö‰ª•<code>Windows10</code>‰∏∫‰æãÔºåÂºÄÂßãÂà∂‰ΩúÁ≥ªÁªüÁõòÔºå‰∏ãËΩΩÂà∂‰ΩúÂ∑•ÂÖ∑ÔºåÁÇπÂáª<code>Á´ãÂç≥‰∏ãËΩΩÂ∑•ÂÖ∑</code></h3><p>‚Äã<img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031025068.png" alt="image-20230403102511706"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031027631.png" alt="image-20230403102712343"></p><h3 id="Á¨¨‰∏âÊ≠•Ôºö‰∏ãËΩΩÂ•Ω‰ª•ÂêéÂèåÂáªÊâìÂºÄËøêË°åÔºå‰ºöÂá∫Áé∞‰∏ãÂõæÁïåÈù¢"><a href="#Á¨¨‰∏âÊ≠•Ôºö‰∏ãËΩΩÂ•Ω‰ª•ÂêéÂèåÂáªÊâìÂºÄËøêË°åÔºå‰ºöÂá∫Áé∞‰∏ãÂõæÁïåÈù¢" class="headerlink" title="Á¨¨‰∏âÊ≠•Ôºö‰∏ãËΩΩÂ•Ω‰ª•ÂêéÂèåÂáªÊâìÂºÄËøêË°åÔºå‰ºöÂá∫Áé∞‰∏ãÂõæÁïåÈù¢"></a>Á¨¨‰∏âÊ≠•Ôºö‰∏ãËΩΩÂ•Ω‰ª•ÂêéÂèåÂáªÊâìÂºÄËøêË°åÔºå‰ºöÂá∫Áé∞‰∏ãÂõæÁïåÈù¢</h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031028052.png" alt="image-20230403102836981"></p><h4 id="Á¨¨ÂõõÊ≠•ÔºöÈÄâÊã©Êé•Âèó-gt-ÂÜçÈÄâÊã©‰∏∫Âè¶‰∏ÄÂè∞ÁîµËÑëÂàõÂª∫ÂÆâË£Ö‰ªãË¥®ÔºàUÁõò„ÄÅDVD„ÄÅÊàñISOÊñá‰ª∂Ôºâ-gt-‰∏ã‰∏ÄÊ≠•-gt-‰∏ã‰∏ÄÊ≠•"><a href="#Á¨¨ÂõõÊ≠•ÔºöÈÄâÊã©Êé•Âèó-gt-ÂÜçÈÄâÊã©‰∏∫Âè¶‰∏ÄÂè∞ÁîµËÑëÂàõÂª∫ÂÆâË£Ö‰ªãË¥®ÔºàUÁõò„ÄÅDVD„ÄÅÊàñISOÊñá‰ª∂Ôºâ-gt-‰∏ã‰∏ÄÊ≠•-gt-‰∏ã‰∏ÄÊ≠•" class="headerlink" title="Á¨¨ÂõõÊ≠•ÔºöÈÄâÊã©Êé•Âèó-&gt;ÂÜçÈÄâÊã©‰∏∫Âè¶‰∏ÄÂè∞ÁîµËÑëÂàõÂª∫ÂÆâË£Ö‰ªãË¥®ÔºàUÁõò„ÄÅDVD„ÄÅÊàñISOÊñá‰ª∂Ôºâ-&gt;‰∏ã‰∏ÄÊ≠•-&gt;‰∏ã‰∏ÄÊ≠•"></a>Á¨¨ÂõõÊ≠•ÔºöÈÄâÊã©<code>Êé•Âèó</code>-&gt;ÂÜçÈÄâÊã©<code>‰∏∫Âè¶‰∏ÄÂè∞ÁîµËÑëÂàõÂª∫ÂÆâË£Ö‰ªãË¥®ÔºàUÁõò„ÄÅDVD„ÄÅÊàñISOÊñá‰ª∂Ôºâ</code>-&gt;‰∏ã‰∏ÄÊ≠•-&gt;‰∏ã‰∏ÄÊ≠•</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031029150.png" alt="image-20230403102942082"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031034181.png" alt="image-20230403103408109"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031034314.png" alt="image-20230403103447243"></p><h3 id="Á¨¨‰∫îÊ≠•ÔºöÈÄâÊã©‰Ω†Ë¶ÅÂÆâË£ÖÁ≥ªÁªüÁöÑUÁõòÔºå‰∏ã‰∏ÄÊ≠•ÔºåÁ≠âÂæÖUÁõòÂÜôÂÖ•ÂÆåÊàê"><a href="#Á¨¨‰∫îÊ≠•ÔºöÈÄâÊã©‰Ω†Ë¶ÅÂÆâË£ÖÁ≥ªÁªüÁöÑUÁõòÔºå‰∏ã‰∏ÄÊ≠•ÔºåÁ≠âÂæÖUÁõòÂÜôÂÖ•ÂÆåÊàê" class="headerlink" title="Á¨¨‰∫îÊ≠•ÔºöÈÄâÊã©‰Ω†Ë¶ÅÂÆâË£ÖÁ≥ªÁªüÁöÑUÁõòÔºå‰∏ã‰∏ÄÊ≠•ÔºåÁ≠âÂæÖUÁõòÂÜôÂÖ•ÂÆåÊàê"></a>Á¨¨‰∫îÊ≠•ÔºöÈÄâÊã©‰Ω†Ë¶ÅÂÆâË£ÖÁ≥ªÁªüÁöÑUÁõòÔºå‰∏ã‰∏ÄÊ≠•ÔºåÁ≠âÂæÖUÁõòÂÜôÂÖ•ÂÆåÊàê</h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202304031037842.png" alt="image-20230403103728772"></p><h3 id="Á¨¨ÂÖ≠Ê≠•ÔºöÁ≠âÂæÖUÁõòÂÜôÂÖ•ÁôæÂàÜ‰πãÁôæÔºåÊàêÂäü‰ª•Âêé‰ºöÊúâÊèêÁ§∫ÔºåUÁõòÂà∂‰ΩúÂÆåÊàê"><a href="#Á¨¨ÂÖ≠Ê≠•ÔºöÁ≠âÂæÖUÁõòÂÜôÂÖ•ÁôæÂàÜ‰πãÁôæÔºåÊàêÂäü‰ª•Âêé‰ºöÊúâÊèêÁ§∫ÔºåUÁõòÂà∂‰ΩúÂÆåÊàê" class="headerlink" title="Á¨¨ÂÖ≠Ê≠•ÔºöÁ≠âÂæÖUÁõòÂÜôÂÖ•ÁôæÂàÜ‰πãÁôæÔºåÊàêÂäü‰ª•Âêé‰ºöÊúâÊèêÁ§∫ÔºåUÁõòÂà∂‰ΩúÂÆåÊàê~"></a>Á¨¨ÂÖ≠Ê≠•ÔºöÁ≠âÂæÖUÁõòÂÜôÂÖ•ÁôæÂàÜ‰πãÁôæÔºåÊàêÂäü‰ª•Âêé‰ºöÊúâÊèêÁ§∫ÔºåUÁõòÂà∂‰ΩúÂÆåÊàê~</h3><blockquote><p>Ê≥®ÊÑèÂú®UÁõòÂÜôÂÖ•ËøáÁ®ã‰∏≠Ôºå‰∏çË¶ÅÂØπUÁõòËøõË°åÊèíÊãîÊàñËÄÖÊòØÂºπÂá∫Êìç‰ΩúÔºå‰∏çÁÑ∂‰ºöÂÜôÂÖ•‰∏çÊàêÂäüÔºå‰∏çÊàêÂäüÂàôÈúÄË¶ÅÈáçÊñ∞Êìç‰Ωú</p><p>‰∏äËØâËøáÁ®ã‰∏≠Êà™ÂõæÁöÑÊòØ<code>Windows10</code>ÁöÑÂà∂‰ΩúËøáÁ®ãÔºå<code>Windows11</code>‰πüÊòØ‰∏ÄÊ®°‰∏ÄÊ†∑ÔºåÊ≤°ÊúâÂ∑ÆÂà´</p></blockquote><p>‰ª•‰∏äÂ∞±ÊòØ<code>Windows10&amp;11</code>ÂÆòÊñπÁ≥ªÁªüÁõòÂà∂‰ΩúËøáÁ®ãÔºåÂΩìÁÑ∂Á≥ªÁªüÁõòÁöÑÂà∂‰Ωú‰∏ç‰ªÖ‰ªÖÊòØËøô‰∏ÄÁßçÔºå‰ΩÜÊòØËøôÁßçÊòØÊúÄÂÇªÁìúÂºèÁöÑÔºåÂ∏åÊúõÂ∞èÁôΩ‰πüÈÉΩËÉΩÁúãÊáÇ~</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Êú¨Ê¨°ÂÅöÁ≥ªÁªüÁõòÔºåÈááÁî®ÂÆòÊñπÁöÑÊñπÂºèÂà∂‰ΩúÔºö&lt;/p&gt;
&lt;p&gt;Ê≥®ÊÑèÔºöUÁõòÊúÄÂ∞ëË¶Å&lt;code&gt;8G&lt;/code&gt;ÂèäÂÖ∂‰ª•‰∏äÁöÑÁ©∫UÁõòÔºå‰∏∫‰∫ÜÈÅøÂÖçÂá∫ÈîôÔºåÂú®ÂºÄÂ±ï‰∏Ä‰∏ãÊ≠•È™§‰πãÂâçËøòÊòØÂÖàÁªôUÁõòÊï∞ÊçÆÂ§á‰ªΩÂ•ΩÔºåÁÑ∂ÂêéÂØπUÁõòËøõË°åÊ†ºÂºèÂåñ&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Windows10" scheme="http://example.com/categories/Windows10/"/>
    
    <category term="Á≥ªÁªüÂÆâË£Ö" scheme="http://example.com/categories/Windows10/%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85/"/>
    
    
    <category term="Windows 10" scheme="http://example.com/tags/Windows-10/"/>
    
    <category term="Windows 11" scheme="http://example.com/tags/Windows-11/"/>
    
  </entry>
  
  <entry>
    <title>HomebrewÂÆâË£ÖÊä•ÈîôError:Command failed with exit 128: git</title>
    <link href="http://example.com/2023/04/02/Homebrew%E5%AE%89%E8%A3%85%E6%8A%A5%E9%94%99Error-Command-failed-with-exit-128-git/"/>
    <id>http://example.com/2023/04/02/Homebrew%E5%AE%89%E8%A3%85%E6%8A%A5%E9%94%99Error-Command-failed-with-exit-128-git/</id>
    <published>2023-04-02T00:03:36.000Z</published>
    <updated>2023-04-15T05:16:53.913Z</updated>
    
    <content type="html"><![CDATA[<p>ÂÆâË£ÖÂëΩ‰ª§Ôºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install telnet</span><br></pre></td></tr></table></figure><span id="more"></span><p>ÊâìÂç∞Êä•Èîô‰ø°ÊÅØÔºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fatal: not in a git directory</span><br><span class="line"></span><br><span class="line">Error: Command failed with exit 128: git</span><br></pre></td></tr></table></figure><p>Ëß£ÂÜ≥ÊñπÂºèÔºö</p><p>È¶ñÂÖàÊâßË°åÂëΩ‰ª§Ôºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset HOMEBREW_BOTTLE_DOMAIN</span><br></pre></td></tr></table></figure><p>ÁÑ∂ÂêéÊâßË°åÂëΩ‰ª§Ôºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --add safe.directory /opt/homebrew/Library/Taps/homebrew/homebrew-core</span><br><span class="line">git config --global --add safe.directory /opt/homebrew/Library/Taps/homebrew/homebrew-cask</span><br></pre></td></tr></table></figure><p>ÂΩìÁÑ∂ÊâßË°åËøô‰∏™‰∏§‰∏™ÂëΩ‰ª§ÊòØ‰∏çÂàÜÂâçÂêéÁöÑÔºåÈÉΩÂèØ‰ª•Ôºå‰ΩÜÊòØÈÉΩË¶ÅÊâßË°åÔºåÁÑ∂ÂêéÂ∞±ÊòØÊàêÂäüËß£ÂÜ≥‰∫ÜÊä•ÈîôÈóÆÈ¢ò!</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ÂÆâË£ÖÂëΩ‰ª§Ôºö&lt;/p&gt;
&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;brew install telnet&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="macOS" scheme="http://example.com/categories/macOS/"/>
    
    <category term="Homebrew" scheme="http://example.com/categories/macOS/Homebrew/"/>
    
    
    <category term="Mac" scheme="http://example.com/tags/Mac/"/>
    
    <category term="homebrew" scheme="http://example.com/tags/homebrew/"/>
    
  </entry>
  
  <entry>
    <title>Windows‰øÆÊîπÂõ∫ÂÆöIPÂíåÁΩëÁªú</title>
    <link href="http://example.com/2023/04/01/Windows%E4%BF%AE%E6%94%B9%E5%9B%BA%E5%AE%9AIP%E5%92%8C%E7%BD%91%E7%BB%9C/"/>
    <id>http://example.com/2023/04/01/Windows%E4%BF%AE%E6%94%B9%E5%9B%BA%E5%AE%9AIP%E5%92%8C%E7%BD%91%E7%BB%9C/</id>
    <published>2023-04-01T08:56:57.000Z</published>
    <updated>2023-04-01T09:00:05.825Z</updated>
    
    <content type="html"><![CDATA[<h2 id="‰øÆÊîπÂõ∫ÂÆöIP"><a href="#‰øÆÊîπÂõ∫ÂÆöIP" class="headerlink" title="‰øÆÊîπÂõ∫ÂÆöIP"></a>‰øÆÊîπÂõ∫ÂÆöIP</h2><p>‚Äã<strong>‰øÆÊîπÂíåÂõ∫ÂÆö<code>IP</code>ÔºåÂ∞±ÊòØÊü•ÊâæÁöÑIPÁöÑÁ¨¨‰∫åÁßçÊñπÂºèÁöÑÂü∫Á°Ä‰∏äËøõË°åÊìç‰Ωú</strong></p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401161930369.png" alt="image-20230401161930369"></p><p>‚Äã<strong>Â¶Ç‰∏äÂõæÁöÑÊõ¥ÊîπÈÄÇÈÖçÂô®ÔºåËøõË°åÊìç‰ΩúÔºå<code>ÈÄâÊã©‰ª•Â§™ÁΩë</code>-&gt;<code>Èº†Ê†áÂè≥ÈîÆ</code> -&gt;<code>ÁÇπÂáªÂ±ûÊÄß</code></strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401162239432.png" alt="image-20230401162239432"></p><p>‚Äã<strong>ÂèåÂáª‰∏ãÂõæÊ†áÊ≥®ÁöÑ<code>IPv4</code></strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401162323793-20230401163312323.png"></p><p>‚Äã<strong>ÂèåÂáª‰ª•Âêé‰ºöÂá∫Áé∞‰∏ãÈù¢ÁöÑËøôÁßçÊÉÖÂÜµ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401163413779.png" alt="image-20230401163413779"></p><p><strong>ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÈÉΩÊòØËá™Âä®Ëé∑Âèñ<code>DHCP</code>ÔºåÂèåÂáª‰ª•Âêé‰πüÂ∞±ÊòØÁ©∫ÁôΩÁöÑÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂõ∫ÂÆöIPÔºåÈúÄË¶ÅÁªôÂØπÂ∫îÁöÑ<code>ip</code>„ÄÅ<code>Â≠êÁΩëÊé©Á†Å</code>„ÄÅ<code>ÁΩëÂÖ≥</code>Â°´ÂÜôÂç≥ÂèØ„ÄÇ</strong></p><h2 id="ÈáçÁΩÆÁΩëÁªú"><a href="#ÈáçÁΩÆÁΩëÁªú" class="headerlink" title="ÈáçÁΩÆÁΩëÁªú"></a>ÈáçÁΩÆÁΩëÁªú</h2><blockquote><p>Ê≥®ÔºöÂÜçÈùûÂøÖË¶ÅÊÉÖÂÜµ‰∏ãÊúÄÂ•Ω‰∏çË¶ÅËøõË°åÁΩëÁªúÈáçÁΩÆ</p></blockquote><p><strong>ÊêúÁ¥¢<code>cmd</code>,ÁÑ∂ÂêéÂè≥ÈîÆ<code>ÁÆ°ÁêÜÂëò</code>ËøêË°å</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401164745531.png" alt="image-20230401164745531"></p><p><strong>ÊâìÂºÄ‰ª•ÂêéËæìÂÖ•<code>netsh winsock reset</code>,ÁÑ∂ÂêéËøõË°åÂõûËΩ¶Âç≥ÂèØ„ÄÇ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401165032282.png" alt="image-20230401165032282"></p><p><strong>Âá∫Áé∞‰∏äÈù¢ËøôÁßçÊÉÖÂÜµ‰πüÂ∞±‰ª£Ë°®‰Ω†ÁöÑÁΩëÁªúÈáçÁΩÆÊàêÂäüÔºåËøôÊó∂ÂÄôÁîµËÑëÈúÄË¶ÅÈáçÂêØÔºåÁÑ∂ÂêéÂ∞ÜÁîµËÑëÈáçÂêØÂç≥ÂèØ„ÄÇ</strong></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;‰øÆÊîπÂõ∫ÂÆöIP&quot;&gt;&lt;a href=&quot;#‰øÆÊîπÂõ∫ÂÆöIP&quot; class=&quot;headerlink&quot; title=&quot;‰øÆÊîπÂõ∫ÂÆöIP&quot;&gt;&lt;/a&gt;‰øÆÊîπÂõ∫ÂÆöIP&lt;/h2&gt;&lt;p&gt;‚Äã	&lt;strong&gt;‰øÆÊîπÂíåÂõ∫ÂÆö&lt;code&gt;IP&lt;/code&gt;ÔºåÂ∞±ÊòØÊü•ÊâæÁöÑIPÁöÑÁ¨¨‰∫åÁßçÊñπÂºèÁöÑÂü∫Á°Ä‰∏äËøõË°åÊìç‰Ωú&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="IP" scheme="http://example.com/categories/IP/"/>
    
    <category term="Windows" scheme="http://example.com/categories/IP/Windows/"/>
    
    <category term="ÁΩëÁªú" scheme="http://example.com/categories/IP/Windows/%E7%BD%91%E7%BB%9C/"/>
    
    
    <category term="Windows" scheme="http://example.com/tags/Windows/"/>
    
    <category term="IP" scheme="http://example.com/tags/IP/"/>
    
    <category term="ÁΩëÁªú" scheme="http://example.com/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>Êü•ËØ¢Windows IP</title>
    <link href="http://example.com/2023/04/01/%E6%9F%A5%E8%AF%A2Windows-IP/"/>
    <id>http://example.com/2023/04/01/%E6%9F%A5%E8%AF%A2Windows-IP/</id>
    <published>2023-04-01T08:54:10.000Z</published>
    <updated>2023-04-01T09:00:05.829Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ÊñπÂºè‰∏ÄÔºö"><a href="#ÊñπÂºè‰∏ÄÔºö" class="headerlink" title="ÊñπÂºè‰∏ÄÔºö"></a>ÊñπÂºè‰∏ÄÔºö</h2><h3 id="‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ"><a href="#‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ" class="headerlink" title="‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ"></a>‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ</h3><h4 id="Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin-R"><a href="#Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin-R" class="headerlink" title="Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin + R"></a>Á¨¨‰∏ÄÊ≠•Ôºö<strong>È¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆ<code>win</code> + <code>R</code></strong></h4><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401155701051.png" alt="image-20230401155701051"></p><h4 id="Á¨¨‰∫åÊ≠•ÔºöÁÑ∂ÂêéÂú®ÊâìÂºÄËøô‰∏™ÈÄâÈ°π‰∏≠ËæìÂÖ•cmd-ÁÑ∂ÂêéÂõûËΩ¶"><a href="#Á¨¨‰∫åÊ≠•ÔºöÁÑ∂ÂêéÂú®ÊâìÂºÄËøô‰∏™ÈÄâÈ°π‰∏≠ËæìÂÖ•cmd-ÁÑ∂ÂêéÂõûËΩ¶" class="headerlink" title="Á¨¨‰∫åÊ≠•ÔºöÁÑ∂ÂêéÂú®ÊâìÂºÄËøô‰∏™ÈÄâÈ°π‰∏≠ËæìÂÖ•cmd,ÁÑ∂ÂêéÂõûËΩ¶"></a>Á¨¨‰∫åÊ≠•Ôºö<strong>ÁÑ∂ÂêéÂú®ÊâìÂºÄËøô‰∏™ÈÄâÈ°π‰∏≠ËæìÂÖ•<code>cmd</code>,ÁÑ∂ÂêéÂõûËΩ¶</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401155900762.png" alt="image-20230401155900762"></p><h4 id="Á¨¨‰∏âÊ≠•ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºöipconfig-ÁÑ∂ÂêéËøõË°åÂõûËΩ¶"><a href="#Á¨¨‰∏âÊ≠•ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºöipconfig-ÁÑ∂ÂêéËøõË°åÂõûËΩ¶" class="headerlink" title="Á¨¨‰∏âÊ≠•ÔºöËæìÂÖ•ÂëΩ‰ª§Ôºöipconfig,ÁÑ∂ÂêéËøõË°åÂõûËΩ¶"></a>Á¨¨‰∏âÊ≠•Ôºö<strong>ËæìÂÖ•ÂëΩ‰ª§Ôºö<code>ipconfig</code>,ÁÑ∂ÂêéËøõË°åÂõûËΩ¶</strong></h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401160113210.png" alt="image-20230401160113210"></p><blockquote><p>Ê≥®ÊÑèËøôÊó∂ÂÄôÊàëÊ†áÊ≥®Âá∫Êù•ÁöÑIPv4ÁöÑÂú∞ÂùÄÂ∞±ÊòØ‰∏ÄËà¨ÊâÄÈúÄË¶ÅÁöÑÂú∞ÂùÄ</p></blockquote><h2 id="ÊñπÂºè‰∫åÔºö"><a href="#ÊñπÂºè‰∫åÔºö" class="headerlink" title="ÊñπÂºè‰∫åÔºö"></a>ÊñπÂºè‰∫åÔºö</h2><h4 id="Á¨¨‰∏ÄÊ≠•ÔºöÊêúÁ¥¢ÊéßÂà∂Èù¢ÊùøÔºåÁÑ∂ÂêéËøõË°åÂõûËΩ¶"><a href="#Á¨¨‰∏ÄÊ≠•ÔºöÊêúÁ¥¢ÊéßÂà∂Èù¢ÊùøÔºåÁÑ∂ÂêéËøõË°åÂõûËΩ¶" class="headerlink" title="Á¨¨‰∏ÄÊ≠•ÔºöÊêúÁ¥¢ÊéßÂà∂Èù¢ÊùøÔºåÁÑ∂ÂêéËøõË°åÂõûËΩ¶"></a>Á¨¨‰∏ÄÊ≠•ÔºöÊêúÁ¥¢ÊéßÂà∂Èù¢ÊùøÔºåÁÑ∂ÂêéËøõË°åÂõûËΩ¶</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401160747545.png" alt="image-20230401160747545"></p><h4 id="Á¨¨‰∫åÊ≠•ÔºöÈÄâÊã©ÁΩëÁªúÂíåInternet"><a href="#Á¨¨‰∫åÊ≠•ÔºöÈÄâÊã©ÁΩëÁªúÂíåInternet" class="headerlink" title="Á¨¨‰∫åÊ≠•ÔºöÈÄâÊã©ÁΩëÁªúÂíåInternet"></a>Á¨¨‰∫åÊ≠•ÔºöÈÄâÊã©<code>ÁΩëÁªúÂíåInternet</code></h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401160937333.png" alt="image-20230401160937333"></p><h4 id="Á¨¨‰∏âÊ≠•ÔºöÁÇπÂáªÁΩëÁªúÂÖ±‰∫´‰∏≠ÂøÉ"><a href="#Á¨¨‰∏âÊ≠•ÔºöÁÇπÂáªÁΩëÁªúÂÖ±‰∫´‰∏≠ÂøÉ" class="headerlink" title="Á¨¨‰∏âÊ≠•ÔºöÁÇπÂáªÁΩëÁªúÂÖ±‰∫´‰∏≠ÂøÉ"></a>Á¨¨‰∏âÊ≠•ÔºöÁÇπÂáªÁΩëÁªúÂÖ±‰∫´‰∏≠ÂøÉ</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401161048431.png" alt="image-20230401161048431"></p><p>‚ÄãÁ¨¨ÂõõÊ≠•ÔºöÁÇπÂáª<code>Êõ¥ÊîπÈÄÇÈÖçÂô®</code>-&gt;<code>ÂèåÂáª‰ª•Â§™ÁΩë</code>-&gt;ÁÇπÂºÄ<code>ËØ¶ÁªÜ‰ø°ÊÅØ</code>Â∞±ÂèØ‰ª•ÁúãÂà∞IPÂú∞ÂùÄ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/MacPicuture/image/image-20230401161421970.png" alt="image-20230401161421970"></p><blockquote><p>‰ª•‰∏äÂ∞±ÊòØÂ¶Ç‰ΩïÊü•ÁúãÁîµËÑëIPÁöÑÊñπÂºèÔºåÂΩìÁÑ∂Êü•ÁúãÁöÑIPÁöÑÊñπÂºè‰∏ç‰ªÖ‰ªÖÊòØËøôËøô‰∏§ÁßçÔºå‰πüÂèØ‰ª•Âú®ËÆæÁΩÆÁΩëÁªúÈáåÈù¢ËøõË°åÁõ¥Êé•ÁöÑÊü•ÁúãÔºåËøòÊúâÂÖ∂‰ªñÊñπÂºèÁ≠âÁ≠â‚Ä¶</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ÊñπÂºè‰∏ÄÔºö&quot;&gt;&lt;a href=&quot;#ÊñπÂºè‰∏ÄÔºö&quot; class=&quot;headerlink&quot; title=&quot;ÊñπÂºè‰∏ÄÔºö&quot;&gt;&lt;/a&gt;ÊñπÂºè‰∏ÄÔºö&lt;/h2&gt;&lt;h3 id=&quot;‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ&quot;&gt;&lt;a href=&quot;#‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ&quot; class=&quot;headerlink&quot; title=&quot;‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ&quot;&gt;&lt;/a&gt;‰∏Ä„ÄÅÂ¶Ç‰ΩïÁü•ÈÅìÊàë‰ª¨Êú¨Êú∫ÁöÑIPÂú∞ÂùÄ&lt;/h3&gt;&lt;h4 id=&quot;Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin-R&quot;&gt;&lt;a href=&quot;#Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin-R&quot; class=&quot;headerlink&quot; title=&quot;Á¨¨‰∏ÄÊ≠•ÔºöÈ¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆwin + R&quot;&gt;&lt;/a&gt;Á¨¨‰∏ÄÊ≠•Ôºö&lt;strong&gt;È¶ñÂÖàÁîµËÑë‰∏äÈù¢ÁöÑÂø´Êç∑ÈîÆ&lt;code&gt;win&lt;/code&gt; + &lt;code&gt;R&lt;/code&gt;&lt;/strong&gt;&lt;/h4&gt;</summary>
    
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="Windows" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/Windows/"/>
    
    
    <category term="Windows" scheme="http://example.com/tags/Windows/"/>
    
    <category term="IP" scheme="http://example.com/tags/IP/"/>
    
  </entry>
  
  <entry>
    <title>Mac ConsoleËøûÊé•‰∫§Êç¢Êú∫</title>
    <link href="http://example.com/2023/04/01/Mac-Console%E8%BF%9E%E6%8E%A5%E4%BA%A4%E6%8D%A2%E6%9C%BA/"/>
    <id>http://example.com/2023/04/01/Mac-Console%E8%BF%9E%E6%8E%A5%E4%BA%A4%E6%8D%A2%E6%9C%BA/</id>
    <published>2023-04-01T03:54:59.000Z</published>
    <updated>2023-04-01T09:15:56.918Z</updated>
    
    <content type="html"><![CDATA[<h3 id="‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫"><a href="#‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫" class="headerlink" title="‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫"></a>‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫</h3><p>È¶ñÂÖà‰ΩøÁî®consoleÁ∫øÂíåMacËøûÊé•ÔºåËøôÊó∂ÂÄôÈúÄË¶ÅÁî®Âà∞ËΩ¨Êç¢Âô®typeCËΩ¨USB-A</p><span id="more"></span><p>Mac‰∏äÈù¢Êü•ÁúãÊòØÂê¶comÂè£ÁöÑÈ©±Âä®ÂÆâË£ÖÊàêÂäü</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ëøô‰∏™tty.usbserial-A9KXFHCDÂ∞±ÊòØÊàë‰ª¨comÂè£ÁöÑËÆæÂ§á</span></span><br><span class="line">$ <span class="built_in">ls</span> /dev/* |grep usb</span><br><span class="line">/dev/tty.usbserial-A9KXFHCD</span><br></pre></td></tr></table></figure><p>ÂÆâË£ÖminicomÊù•ÈÄöËøácomËøûÊé•‰∫§Êç¢Êú∫</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">‚ûú  ~ brew install minicom</span><br></pre></td></tr></table></figure><p>ÈÖçÁΩÆminicom</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ËøõÂÖ•Âà∞ÈÖçÁΩÆ</span></span><br><span class="line">$ minicom -s</span><br><span class="line">            +-----[configuration]------+</span><br><span class="line">            | Filenames and paths      |</span><br><span class="line">            | File transfer protocols  |</span><br><span class="line">            | Serial port setup        |<span class="comment"># ÈÄâÊã©Ê≠§È°πÂõûËΩ¶</span></span><br><span class="line">            | Modem and dialing        |</span><br><span class="line">            | Screen and keyboard      |</span><br><span class="line">            | Save setup as dfl        |</span><br><span class="line">            | Save setup as..          |</span><br><span class="line">            | Exit                     |</span><br><span class="line">            | Exit from Minicom        |</span><br><span class="line">            +--------------------------+</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------------------------------------------------------+</span><br><span class="line">| A -    Serial Device      : /dev/tty.usbserial-A9KXFHCD               |<span class="comment"># Â∞ÜÊ≠§ËÆæÂ§áÂêçÁß∞Êîπ‰∏∫ÂâçÈù¢lsÊü•ÁúãÂà∞ÁöÑËÆæÂ§áÂêçÁß∞</span></span><br><span class="line">| B - Lockfile Location     : /opt/homebrew/Cellar/minicom/2.8/var      |</span><br><span class="line">| C -   Callin Program      :                                           |</span><br><span class="line">| D -  Callout Program      :                                           |</span><br><span class="line">| E -    Bps/Par/Bits       : 9600 8N1                                  |<span class="comment"># Â∞ÜÊ≠§È°πÊîπ‰∏∫9600 8N1</span></span><br><span class="line">| F - Hardware Flow Control : No                                        |<span class="comment"># Â∞ÜÊ≠§È°πÊîπ‰∏∫No</span></span><br><span class="line">| G - Software Flow Control : No                                        |</span><br><span class="line">| H -     RS485 Enable      : No                                        |</span><br><span class="line">| I -   RS485 Rts On Send   : No                                        |</span><br><span class="line">| J -  RS485 Rts After Send : No                                        |</span><br><span class="line">| K -  RS485 Rx During Tx   : No                                        |</span><br><span class="line">| L -  RS485 Terminate Bus  : No                                        |</span><br><span class="line">| M - RS485 Delay Rts Before: 0                                         |</span><br><span class="line">| N - RS485 Delay Rts After : 0                                         |</span><br><span class="line">|                                                                       |</span><br><span class="line">|    Change <span class="built_in">which</span> setting?                                              |</span><br><span class="line">+-----------------------------------------------------------------------+</span><br><span class="line"><span class="comment"># ÂõûËΩ¶</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+-----[configuration]------+</span><br><span class="line">| Filenames and paths      |</span><br><span class="line">| File transfer protocols  |</span><br><span class="line">| Serial port setup        |</span><br><span class="line">| Modem and dialing        |</span><br><span class="line">| Screen and keyboard      |</span><br><span class="line">| Save setup as dfl        |<span class="comment"># ÈÄâÊã©Ê≠§È°π‰øùÂ≠ò</span></span><br><span class="line">| Save setup as..          |</span><br><span class="line">| Exit                     |</span><br><span class="line">| Exit from Minicom        |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+-----[configuration]------+</span><br><span class="line">| Filenames and paths      |</span><br><span class="line">| File transfer protocols  |</span><br><span class="line">| Serial port setup        |</span><br><span class="line">| Modem and dialing        |</span><br><span class="line">| Screen and keyboard      |</span><br><span class="line">| Save setup as dfl        |</span><br><span class="line">| Save setup as..          |</span><br><span class="line">| Exit                     |<span class="comment"># ÈÄâÊã©Ê≠§È°πËøõÂÖ•Âà∞ÁªàÁ´Ø</span></span><br><span class="line">| Exit from Minicom        |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><p>ËøõÂÖ•ÁªàÁ´Ø‰ª•ÂêéËæìÂÖ•ÂØÜÁ†ÅÂç≥ÂèØ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ Login authentication</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Password:</span><br><span class="line">&lt;Quidway&gt;</span><br></pre></td></tr></table></figure><h3 id="‰∫å„ÄÅÈÖçÁΩÆÂçé‰∏∫‰∫§Êç¢Êú∫webËÆøÈóÆ"><a href="#‰∫å„ÄÅÈÖçÁΩÆÂçé‰∏∫‰∫§Êç¢Êú∫webËÆøÈóÆ" class="headerlink" title="‰∫å„ÄÅÈÖçÁΩÆÂçé‰∏∫‰∫§Êç¢Êú∫webËÆøÈóÆ"></a>‰∫å„ÄÅÈÖçÁΩÆÂçé‰∏∫‰∫§Êç¢Êú∫webËÆøÈóÆ</h3><p>ÈÖçÁΩÆvlanifÁöÑÁÆ°ÁêÜiPÔºåÂú®ËøôÈáåÊàëÁöÑÊâÄÊúâÁÆ°ÁêÜiPÈÉΩÂú®vlan100ÁöÑÁÆ°ÁêÜiP</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Quidway&gt;system-view(ËøõÂÖ•Á≥ªÁªüËßÜÂõæ)</span><br><span class="line">[Quidway]int vlanif 100ÔºàËøõÂÖ•vlan100Êé•Âè£Ôºâ</span><br><span class="line">[Quidway-Vlanif100]ip add 192.168.99.200 24Ôºà‰∏∫vlan100ÈÖçÁΩÆÁÆ°ÁêÜipÔºâ</span><br><span class="line">[Quidway-Vlanif100]q</span><br><span class="line">[Quidway]q</span><br></pre></td></tr></table></figure><p>Êü•ÁúãwebÁÆ°ÁêÜÁöÑÊñá‰ª∂ÂåÖÂú∞ÂùÄ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Quidway&gt;sys    (ËøõÂÖ•Á≥ªÁªüËßÜÂõæ)</span><br><span class="line">[Quidway]http server load web.7z   (Âä†ËΩΩwebÂåÖ)</span><br><span class="line">[Quidway]http server <span class="built_in">enable</span>    (ÂºÄÂêØhttpÊúçÂä°)</span><br><span class="line">[Quidway]aaa    (ËøõÂÖ•aaaËßÜÂõæ)</span><br><span class="line">[Quidway-aaa]local-user admin password cipher Admin123  (ÈÖçÁΩÆÁÆ°ÁêÜË¥¶Âè∑‰∏éÂØÜÁ†Å)</span><br><span class="line">[Quidway-aaa]local-user admin privilege level 3   (ÈÖçÁΩÆÁÆ°ÁêÜË¥¶Âè∑Á∫ßÂà´)</span><br><span class="line">[Quidway-aaa]local-user admin service-type http   (ÈÖçÁΩÆÊé•ÂÖ•Á±ªÂûã‰∏∫http)</span><br><span class="line">[Quidway-aaa]q   (ÈÄÄÂá∫)</span><br><span class="line">[Quidway]q    (ÈÄÄÂá∫)</span><br><span class="line">&lt;Quidway&gt;save    (‰øùÂ≠ò)</span><br><span class="line">Y   (Á°ÆËÆ§)</span><br></pre></td></tr></table></figure><p>Ëá≥Ê≠§Â∞±ÈÖçÁΩÆÂÆåÊàê‰∫ÜÔºå‰ΩøÁî®ÊµèËßàÂô®ÊâìÂºÄÈÖçÁΩÆÁöÑÁÆ°ÁêÜvlanipÔºåÂç≥ÂèØËÆøÈóÆÂà∞‰∫§Êç¢Êú∫ÁöÑÁÆ°ÁêÜwebÈ°µÈù¢„ÄÇ</p><h3 id="‰∏â„ÄÅ‰∫§Êç¢Êú∫Â∏∏Áî®vlanÈÖçÁΩÆÔºå"><a href="#‰∏â„ÄÅ‰∫§Êç¢Êú∫Â∏∏Áî®vlanÈÖçÁΩÆÔºå" class="headerlink" title="‰∏â„ÄÅ‰∫§Êç¢Êú∫Â∏∏Áî®vlanÈÖçÁΩÆÔºå"></a>‰∏â„ÄÅ‰∫§Êç¢Êú∫Â∏∏Áî®vlanÈÖçÁΩÆÔºå</h3><p>vlanÈÖçÁΩÆÁõ∏ÂÖ≥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Êü•Áúã‰∫§Êç¢Êú∫vlanÈÖçÁΩÆ‰ø°ÊÅØ</span></span><br><span class="line">[Quidway]display vlan</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂàõÂª∫vlan100</span></span><br><span class="line">[Quidway]vlan 100</span><br><span class="line">[Quidway-vlan100]q</span><br><span class="line"></span><br><span class="line"><span class="comment"># Â∞Ü0/0/21Á´ØÂè£‰ªéÂéüÊúâvlan‰∏≠ÁßªÈô§</span></span><br><span class="line">[Quidway]int GigabitEthernet 0/0/21</span><br><span class="line">[Quidway-GigabitEthernet0/0/21]undo port default vlan</span><br></pre></td></tr></table></figure><p>ÂàõÂª∫Á´ØÂè£ÁªÑÔºå‰ª•ÂèäÊ∑ªÂä†Á´ØÂè£ÁªÑ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Êü•ÁúãÁ´ØÂè£ÁªÑ‰∏≠ÁöÑÊàêÂëò</span></span><br><span class="line">[Quidway-port-group-200]display this</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂàõÂª∫Á´ØÂè£ÁªÑ</span></span><br><span class="line">[Quidway]port-group 100<span class="comment"># ÂàõÂª∫Á´ØÂè£ÁªÑ100Ôºå100‰∏∫Á´ØÂè£ÁªÑÂêçÁß∞</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â∞ÜÁ´ØÂè£Ê∑ªÂä†Âà∞Á´ØÂè£ÁªÑ,Â∞Üg0/0/1-g0/0/15Ê∑ªÂä†Âà∞Á´ØÂè£ÁªÑ100</span></span><br><span class="line">[Quidway-port-group-100]group-member GigabitEthernet 0/0/1 to GigabitEthernet 0/0/15</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÖçÁΩÆÁ´ØÂè£ÁªÑ‰∏≠ÁöÑÁ´ØÂè£ËÆøÈóÆÊ®°Âºè</span></span><br><span class="line">[Quidway-port-group-100]port link-type access<span class="comment"># (ËøôÈáåËÆæÁΩÆ‰∏∫accessÊ®°ÂºèÔºå‰πüÂèØ‰ª•ÊòØtrunkÊ®°ÂºèÁöÑ)Ôºõ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â∞ÜÁ´ØÂè£ÁªÑÂä†ÂÖ•Âà∞vlan</span></span><br><span class="line">[Quidway-port-group-100]port default vlan 100</span><br><span class="line"></span><br><span class="line"><span class="comment"># Â∞Ü22Âíå21Á´ØÂè£‰ªéÁ´ØÂè£ÁªÑ200‰∏≠ÁßªÈô§</span></span><br><span class="line">[Quidway]port-group 200</span><br><span class="line">[Quidway-port-group-200]undo  group-member GigabitEthernet 0/0/22 GigabitEthernet 0/0/21</span><br></pre></td></tr></table></figure><h3 id="Âõõ„ÄÅÂ∏∏Áî®Ë∑ØÁî±ÈÖçÁΩÆ"><a href="#Âõõ„ÄÅÂ∏∏Áî®Ë∑ØÁî±ÈÖçÁΩÆ" class="headerlink" title="Âõõ„ÄÅÂ∏∏Áî®Ë∑ØÁî±ÈÖçÁΩÆ"></a>Âõõ„ÄÅÂ∏∏Áî®Ë∑ØÁî±ÈÖçÁΩÆ</h3><p>Â∏∏Áî®ÈÖçÁΩÆÂëΩ‰ª§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Â∏∏Áî®ÈÖçÁΩÆÂëΩ‰ª§Ôºö</span><br><span class="line">1.ËøõÂÖ•ËßÜÂõæÊ®°Âºè</span><br><span class="line">&lt;Huawei&gt;sys</span><br><span class="line">2.ËøõÂÖ•Êé•Âè£</span><br><span class="line">[Huawei]int g0/0/1<span class="comment">#ËøõÂÖ•ÊåáÂÆöÊé•Âè£</span></span><br><span class="line">[Huawei]user-interface console 0<span class="comment">#ËøõÂÖ•consoleÂè£</span></span><br><span class="line">[Huawei-ui-console0]authentication-mode password<span class="comment">#ÈÖçÁΩÆconsoleÂè£ÂØÜÁ†ÅÈ™åËØÅ</span></span><br><span class="line">3.Êü•ÁúãÊåáÂÆöÊé•Âè£‰ø°ÊÅØÂåÖÊã¨ipÂú∞ÂùÄ</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]display ip interface g0/0/1</span><br><span class="line">4.‰∏∫ÊåáÂÆöÊé•Âè£ÈÖçÁΩÆipÂú∞ÂùÄ</span><br><span class="line">[Huawei-GigabitEthernet0/0/1]ip add 192.168.1.111 24<span class="comment">#ÈÖçip</span></span><br><span class="line">[Huawei-GigabitEthernet0/0/1]undo ip add 192.168.1.111 24<span class="comment">#Âà†Èô§ÈÖçÁΩÆÁöÑip</span></span><br><span class="line">5.Êü•ÁúãË∑ØÁî±Âô®ipÈÖçÁΩÆË°®</span><br><span class="line">[Huawei]display current-configuration<span class="comment">#Êü•Áúãip</span></span><br><span class="line">[Huawei]display  ip routing-table<span class="comment">#Êü•ÁúãË∑ØÁî±Ë°®</span></span><br><span class="line">[Huawei]display  nat  session  all<span class="comment">#Êü•ÁúãnatÂú∞ÂùÄËΩ¨Êç¢Ë°®</span></span><br></pre></td></tr></table></figure><p>natÈÖçÁΩÆÂëΩ‰ª§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈùôÊÄÅnatÔºöÂú®ÂÖ¨ÁΩëÂÖ•Á´ôÊé•Âè£ÈÖçÁΩÆ</span></span><br><span class="line">[Huawei]interface  g0/0/0</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]nat server global 39.105.70.100 inside 192.168.1.254<span class="comment">#Â∞Ü70.100ÈùôÊÄÅnatÂà∞1.254</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Âä®ÊÄÅpatÔºö</span></span><br><span class="line">[Huawei]acl number 2000<span class="comment">#‰ΩøÁî®aclÂåπÈÖçÊâÄÊúâipÊµÅÈáè</span></span><br><span class="line">[Huawei-acl-basic-2000]rule  1 permit</span><br><span class="line">[Huawei]interface  g0/0/0</span><br><span class="line">[Huawei-GigabitEthernet0/0/0]nat outbound  2000<span class="comment">#Âú®Âá∫Êé•Âè£Â∫îÁî®Ëøô‰∏™PATËßÑÂàô</span></span><br></pre></td></tr></table></figure><p>ÂºÄÂêØtelnetÈÖçÁΩÆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ë∑ØÁî±Âô®ÂºÄÂêØtelnetÈÖçÁΩÆÔºö</span></span><br><span class="line">user-interface maximum-vty 15</span><br><span class="line">user-interface vty 0 4</span><br><span class="line">authentication-mode aaa         <span class="comment"># ÈÖçÁΩÆËÆ§ËØÅÊ®°Âºè‰∏∫aaa</span></span><br><span class="line">q</span><br><span class="line">aaa                                  <span class="comment"># ËøõÂÖ•aaaËßÜÂõæ</span></span><br><span class="line">local-user admin password cipher huawei    <span class="comment"># ÈÖçÁΩÆÁî®Êà∑Âêç‰∏∫adminÔºåÂØÜÁ†Å‰∏∫huawei</span></span><br><span class="line">local-user admin privilege level 3               <span class="comment"># ËÆæÁΩÆÁî®Êà∑ÊùÉÈôê‰∏∫3</span></span><br><span class="line">local-user admin service-type telnet  ssh     <span class="comment">#  ÂÆö‰πâÁî®Êà∑Êé•ÂÖ•Á±ªÂûã‰∏∫telnet</span></span><br><span class="line">dis this                                     <span class="comment">#Êü•ÁúãÈÖçÁΩÆ</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫&quot;&gt;&lt;a href=&quot;#‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫&quot; class=&quot;headerlink&quot; title=&quot;‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫&quot;&gt;&lt;/a&gt;‰∏Ä„ÄÅMac‰ΩøÁî®consoleËøûÊé•‰∫§Êç¢Êú∫&lt;/h3&gt;&lt;p&gt;È¶ñÂÖà‰ΩøÁî®consoleÁ∫øÂíåMacËøûÊé•ÔºåËøôÊó∂ÂÄôÈúÄË¶ÅÁî®Âà∞ËΩ¨Êç¢Âô®typeCËΩ¨USB-A&lt;/p&gt;</summary>
    
    
    
    <category term="Switch" scheme="http://example.com/categories/Switch/"/>
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/Switch/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Mac" scheme="http://example.com/tags/Mac/"/>
    
    <category term="Switch" scheme="http://example.com/tags/Switch/"/>
    
  </entry>
  
  <entry>
    <title>Êñ∞Ë£ÖÁöÑWindows10,11Á≥ªÁªüÂíåOfficeÊøÄÊ¥ªÊïôÁ®ã</title>
    <link href="http://example.com/2023/03/29/%E6%96%B0%E8%A3%85%E7%9A%84Windows10-11-%E7%B3%BB%E7%BB%9F%E5%92%8COffice-2016%E6%BF%80%E6%B4%BB%E6%95%99%E7%A8%8B/"/>
    <id>http://example.com/2023/03/29/%E6%96%B0%E8%A3%85%E7%9A%84Windows10-11-%E7%B3%BB%E7%BB%9F%E5%92%8COffice-2016%E6%BF%80%E6%B4%BB%E6%95%99%E7%A8%8B/</id>
    <published>2023-03-29T12:15:37.000Z</published>
    <updated>2023-04-01T02:55:06.715Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Á¨¨‰∏ÄÊ≠•Ôºö"><a href="#Á¨¨‰∏ÄÊ≠•Ôºö" class="headerlink" title="Á¨¨‰∏ÄÊ≠•Ôºö"></a>Á¨¨‰∏ÄÊ≠•Ôºö</h3><p>È¶ñÂÖàÊàë‰ª¨Ë¶ÅÂáÜÂ§áÂ•ΩÊøÄÊ¥ªËΩØ‰ª∂Ôºå<code>HEU_KMS_Activator</code>Ëøô‰∏™ËΩØ‰ª∂ÁöÑ‰∏ãËΩΩÂú∞ÂùÄÂ¶Ç‰∏ãÔºö<a href="https://github.com/zbezj/HEU_KMS_Activator/releases/tag/26.1.0">https://github.com/zbezj/HEU_KMS_Activator/releases/tag/26.1.0</a></p><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071525532.png" alt="image-20221102093603191"><br>Ê†áÂøóÁöÑÂéãÁº©ÂåÖÂ∞±ÊòØË¶Å‰∏ãËΩΩÁöÑËΩØ‰ª∂ÔºåËß£ÂéãÂç≥ÂèØÁî®ÔºåËß£ÂéãÂØÜÁ†Å‰πüÂú®Âõæ‰∏≠ÊúâÂ±ïÁ§∫„ÄÇ</p><h3 id="Á¨¨‰∫åÊ≠•Ôºö"><a href="#Á¨¨‰∫åÊ≠•Ôºö" class="headerlink" title="Á¨¨‰∫åÊ≠•Ôºö"></a>Á¨¨‰∫åÊ≠•Ôºö</h3><p>‰∏ãËΩΩÂπ∂Ëß£ÂéãËøô‰∏™ËΩØ‰ª∂Ôºö</p><p>ÂèåÂáªËøêË°åÊ≠§ËΩØ‰ª∂ÔºÅ</p><h3 id="Á¨¨‰∏âÊ≠•Ôºö"><a href="#Á¨¨‰∏âÊ≠•Ôºö" class="headerlink" title="Á¨¨‰∏âÊ≠•Ôºö"></a>Á¨¨‰∏âÊ≠•Ôºö</h3><p>ÊâìÂºÄËøô‰∏™ËΩØ‰ª∂ÔºåÂØπÁîµËÑëÁ≥ªÁªüÂíåofficeËøõË°åÊøÄÊ¥ªÂç≥ÂèØ</p><p>ËøêË°å‰∏äÈù¢ÁöÑ <code>HEU_KMS_Activator_v26.0.0.exe</code>Â¶ÇÂõæÊâÄÁ§∫Ôºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071525536.png" alt="image-20221102094027301"></p><p>ÁÑ∂ÂêéÂ∞±ÊòØÁÇπÂáªÂºÄÂßãÂ∞±Ë°å‰∫ÜÔºåËÄêÂøÉÁ≠âÂæÖËøõÂ∫¶Êù°Ëµ∞ÂÆåÔºåÊøÄÊ¥ªÂÆåÊàêÂç≥ÂèØ„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071525986.png" alt="image-20221102094233468"></p><h3 id="ÊúÄÂêéÔºö"><a href="#ÊúÄÂêéÔºö" class="headerlink" title="ÊúÄÂêéÔºö"></a>ÊúÄÂêéÔºö</h3><p>Á≠âÁôæÂàÜ‰πãÁôæÁöÑÊó∂ÂÄô‰ºöÊúâÂºπÁ™óÂá∫Êù•ÔºåÂç≥ÊøÄÊ¥ªÂÆåÊØï„ÄÇ</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;Á¨¨‰∏ÄÊ≠•Ôºö&quot;&gt;&lt;a href=&quot;#Á¨¨‰∏ÄÊ≠•Ôºö&quot; class=&quot;headerlink&quot; title=&quot;Á¨¨‰∏ÄÊ≠•Ôºö&quot;&gt;&lt;/a&gt;Á¨¨‰∏ÄÊ≠•Ôºö&lt;/h3&gt;&lt;p&gt;È¶ñÂÖàÊàë‰ª¨Ë¶ÅÂáÜÂ§áÂ•ΩÊøÄÊ¥ªËΩØ‰ª∂Ôºå&lt;code&gt;HEU_KMS_Activator&lt;/code&gt;Ëøô‰∏™ËΩØ‰ª∂ÁöÑ‰∏ãËΩΩÂú∞ÂùÄÂ¶Ç‰∏ãÔºö&lt;a href=&quot;https://github.com/zbezj/HEU_KMS_Activator/releases/tag/26.1.0&quot;&gt;https://github.com/zbezj/HEU_KMS_Activator/releases/tag/26.1.0&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="WindowsÊïôÁ®ã ËøêÁª¥" scheme="http://example.com/categories/Windows%E6%95%99%E7%A8%8B-%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Windows10&amp;Windows11" scheme="http://example.com/tags/Windows10-Windows11/"/>
    
  </entry>
  
  <entry>
    <title>ÂÖ≥‰∫éÁΩëÁªúÊâìÂç∞Êú∫ÊïôÁ®ãÔºà‰∫åÔºâ</title>
    <link href="http://example.com/2023/03/29/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%BB%9C%E6%89%93%E5%8D%B0%E6%9C%BA%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://example.com/2023/03/29/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%BB%9C%E6%89%93%E5%8D%B0%E6%9C%BA%E6%95%99%E7%A8%8B%EF%BC%88%E4%BA%8C%EF%BC%89/</id>
    <published>2023-03-29T12:07:01.000Z</published>
    <updated>2023-03-30T00:30:46.911Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Êú¨Ê¨°ÊïôÁ®ã‰∏ªË¶ÅÊòØÈíàÂØπ‰∫é<code>Windows11</code>ÊâìÂç∞Êú∫ËøûÊé•Ôºå‰ª•ÂèäÊâ´Êèè‰ª™ÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢òËß£Á≠î</p></blockquote><p>Âú®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÁΩëÁªúÊâìÂç∞Êú∫Â∏¶Êâ´Êèè‰ª™ÂäüËÉΩÔºåÂØπ‰∫é<code>Windows7</code>Âíå<code>Windows10</code>Êìç‰ΩúÁ≥ªÁªüÊù•ËØ¥ÔºåÁõ¥Êé•ÂéªÂØπÂ∫îÁöÑÂÆòÁΩëÂíåÂØπÂ∫îÁöÑÊâìÂç∞Êú∫È©±Âä®ÁΩëÁ´ôÁõ¥Êé•‰∏ãËΩΩÂØπÂ∫îÁöÑÈ©±Âä®Âç≥ÂèØÔºå‰ΩÜÊòØ<code>Windows11</code>ÊúâÁÇπ‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ</p><span id="more"></span><p>È¶ñÂÖàÂ∞±ÊòØ<code>Windows11</code>ÊÄé‰πàÊ∑ªÂä†ÊâìÂç∞Êú∫Ôºå<code>ËÆæÁΩÆ</code>-&gt;<code>ËìùÁâôÂíåÂÖ∂‰ªñËÆæÂ§á</code>-&gt;<code>ÊâìÂç∞Êú∫ÂíåÊâ´Êèè‰ª™</code>-&gt;<code>Ê∑ªÂä†ËÆæÂ§á</code></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211250929234.png" alt="win1101"></p><p>Â¶ÇÊûú‰Ω†ÊòØÂ∑≤ÁªèËøûÊé•Âà∞‰∫ÜÊâìÂç∞Êú∫ÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•Âà∑Êñ∞Ê£ÄÊµãÂà∞‰∫Ü</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211250932931.png" alt="win1102"></p><p>Â¶ÇÊûúÊâãÊ≤°ÊúâÊ£ÄÊµãÂà∞Ê£ÄÊü•Á∫øË∑ØËøûÊé•ÁöÑÂêåÊó∂ÔºåÊâãÂä®Ê∑ªÂä†ËÆæÂ§áÔºåÊâãÂä®Ê∑ªÂä†ËÆæÂ§áÂ¶ÇÊûú‰Ω†‰∏çÁü•ÈÅìÊµÅÁ®ãÔºåÂèØ‰ª•ÂõûÁúãÊàëÁöÑÊïôÁ®ãÔºà‰∏ÄÔºâÔºåÊåâÁÖßÊµÅÁ®ãËµ∞ÂÆåÔºåÊ£ÄÊµãÂà∞È©±Âä®‰ª•Âêé‰ºöËá™Âä®ÂÆâË£ÖÈ©±Âä®„ÄÇËá™Ê≠§ÊâìÂç∞Êú∫ÁöÑÈ©±Âä®ÁÆóÊòØÂÆåÊàê‰∫Ü„ÄÇ</p><p>ÈáçÁÇπÊòØÊâ´Êèè‰ª™ÔºåÂ¶ÇÊûúÊâìÂç∞Êú∫Â∏¶Êâ´Êèè‰ª™ÂäüËÉΩÔºå<code>Windows10</code>Êìç‰ΩúÁ≥ªÁªüÈúÄË¶Å‰Ω†ÂéªÂÆòÁΩëÊàñËÄÖÊòØÊâìÂç∞Êú∫È©±Âä®ÁΩë‰∏ãËΩΩÈ©±Âä®ÂÆâË£ÖÔºå<code>Windows11</code>ÂàôÊòØË£ÖÂÆåÈ©±Âä®‰ª•ÂêéÔºåËá™Âä®Êâ´ÊèèÔºåÂ¶ÇÊûúÊ£ÄÊµã‰∏çÂà∞Êâ´Êèè‰ª™ÔºåÂéüÂõ†ÂèØËÉΩÊòØÊâìÂç∞Êú∫È©±Âä®ÈóÆÈ¢òÔºåËøòÊúâÂèØËÉΩÂ∞±ÊòØÁ≥ªÁªüÈóÆÈ¢òÔºåÂõ†‰∏∫Ëøô‰∏™‰∏çÁ°ÆÂÆöÂõ†Á¥†Â§™Â§öÔºåÈúÄË¶ÅÈÄê‰∏ÄÊéíÊü•„ÄÇ</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Êú¨Ê¨°ÊïôÁ®ã‰∏ªË¶ÅÊòØÈíàÂØπ‰∫é&lt;code&gt;Windows11&lt;/code&gt;ÊâìÂç∞Êú∫ËøûÊé•Ôºå‰ª•ÂèäÊâ´Êèè‰ª™ÁöÑÁõ∏ÂÖ≥ÈóÆÈ¢òËß£Á≠î&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Âú®‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÁΩëÁªúÊâìÂç∞Êú∫Â∏¶Êâ´Êèè‰ª™ÂäüËÉΩÔºåÂØπ‰∫é&lt;code&gt;Windows7&lt;/code&gt;Âíå&lt;code&gt;Windows10&lt;/code&gt;Êìç‰ΩúÁ≥ªÁªüÊù•ËØ¥ÔºåÁõ¥Êé•ÂéªÂØπÂ∫îÁöÑÂÆòÁΩëÂíåÂØπÂ∫îÁöÑÊâìÂç∞Êú∫È©±Âä®ÁΩëÁ´ôÁõ¥Êé•‰∏ãËΩΩÂØπÂ∫îÁöÑÈ©±Âä®Âç≥ÂèØÔºå‰ΩÜÊòØ&lt;code&gt;Windows11&lt;/code&gt;ÊúâÁÇπ‰∏çÂ§™‰∏ÄÊ†∑„ÄÇ&lt;/p&gt;</summary>
    
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="ÊâìÂç∞Êú∫" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/%E6%89%93%E5%8D%B0%E6%9C%BA/"/>
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="ÊâìÂç∞Êú∫" scheme="http://example.com/tags/%E6%89%93%E5%8D%B0%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>ÂÖ≥‰∫éÁΩëÁªúÊâìÂç∞Êú∫ÊïôÁ®ãÔºà‰∏ÄÔºâ</title>
    <link href="http://example.com/2023/03/29/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%BB%9C%E6%89%93%E5%8D%B0%E6%9C%BA%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://example.com/2023/03/29/%E5%85%B3%E4%BA%8E%E7%BD%91%E7%BB%9C%E6%89%93%E5%8D%B0%E6%9C%BA%E6%95%99%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2023-03-29T12:05:42.000Z</published>
    <updated>2023-04-01T00:31:40.153Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Ê≥®ÊÑèÔºöÊú¨ÊïôÁ®ãÂè™ÈÄÇÂêàÁΩëÁªúÊâìÂç∞Êú∫‰∏îÂêå‰∏ÄÂ±ÄÂüüÁΩëÊâìÂç∞Êú∫</p></blockquote><h3 id="Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ"><a href="#Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ" class="headerlink" title="Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ"></a>Èº†Ê†áÂè≥ÈîÆÈÄâÊã©<code>‰∏™ÊÄßÂåñ</code></h3><span id="more"></span><h3 id="È¶ñÂÖàÈÄâÊã©‰∏ªÈ°µÔºö"><a href="#È¶ñÂÖàÈÄâÊã©‰∏ªÈ°µÔºö" class="headerlink" title="È¶ñÂÖàÈÄâÊã©‰∏ªÈ°µÔºö"></a>È¶ñÂÖàÈÄâÊã©<code>‰∏ªÈ°µ</code>Ôºö</h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211929625.png" alt="image-20221121192919409"></p><h3 id="ÂÖ∂Ê¨°ÈÄâÊã©ËÆæÂ§á"><a href="#ÂÖ∂Ê¨°ÈÄâÊã©ËÆæÂ§á" class="headerlink" title="ÂÖ∂Ê¨°ÈÄâÊã©ËÆæÂ§á"></a>ÂÖ∂Ê¨°ÈÄâÊã©<code>ËÆæÂ§á</code></h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211930726.png" alt="image-20221121193024629"></p><h3 id="ÂÜçÈÄâÊã©ËÆæÂ§á‰∏éÊâìÂç∞Êú∫"><a href="#ÂÜçÈÄâÊã©ËÆæÂ§á‰∏éÊâìÂç∞Êú∫" class="headerlink" title="ÂÜçÈÄâÊã©ËÆæÂ§á‰∏éÊâìÂç∞Êú∫"></a>ÂÜçÈÄâÊã©<code>ËÆæÂ§á‰∏éÊâìÂç∞Êú∫</code></h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211933448.png" alt="image-20221121193302298"></p><h3 id="ÁÑ∂ÂêéÈÄâÊã©Ê∑ªÂä†ÊâìÂç∞Êú∫"><a href="#ÁÑ∂ÂêéÈÄâÊã©Ê∑ªÂä†ÊâìÂç∞Êú∫" class="headerlink" title="ÁÑ∂ÂêéÈÄâÊã©Ê∑ªÂä†ÊâìÂç∞Êú∫"></a>ÁÑ∂ÂêéÈÄâÊã©<code>Ê∑ªÂä†ÊâìÂç∞Êú∫</code></h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211934010.png" alt="image-20221121193405923"></p><blockquote><p>Ê≥®ÊÑèÈÄâÊã©‰ª•ÂêéÔºåËøôÊó∂ÂÄô‰ºöÂá∫Áé∞Ëá™Âä®ÊêúÁ¥¢ÁïåÈù¢ÔºåÊêúÁ¥¢ÊâìÂç∞Êú∫ÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅËøûÊé•ÁöÑÊâìÂç∞Êú∫Ê≤°ÊúâÂú®ÊêúÁ¥¢ÁöÑÂàóË°®‰∏≠ÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÊâãÂä®Ê∑ªÂä†„ÄÇÂ¶ÇÊûúÊúâÁöÑËØùÔºåÁõ¥Êé•ÈÄâ‰∏≠‰Ω†Ë¶ÅËøûÊé•ÁöÑÊâìÂç∞Êú∫‰∏ã‰∏ÄÊ≠•Âç≥ÂèØ„ÄÇÁ≠âÂæÖÈ©±Âä®Ëá™Âä®ÂÆâË£ÖÂÆåÊàêÂ∞±ÁªìÊùü‰∫Ü„ÄÇ</p><p>ÊúâÁöÑÈ©±Âä®window10Á≥ªÁªüÊòØ‰∏çËÉΩËá™Âä®ÂÆâË£ÖÈ©±Âä®ÔºåËøôÊó∂ÂÄôÈúÄË¶ÅÊâãÂä®‰∏ãËΩΩÈ©±Âä®ÔºåÂà∞ÊâìÂç∞Êú∫È©±Âä®ÁΩëÁ´ô‰∏ãËΩΩÈ©±Âä®Â∞±Ë°å‰∫ÜÔºåÁΩëÂùÄÔºö<a href="http://www.dyjqd.com/%EF%BC%8C%E8%87%AA%E8%A1%8C%E4%B8%8B%E8%BD%BD%E5%AF%B9%E5%BA%94%E7%9A%84%E6%89%93%E5%8D%B0%E6%9C%BA%E5%9E%8B%E5%8F%B7%E5%8D%B3%E5%8F%AF%EF%BC%8C%E8%A6%81%E6%B3%A8%E6%84%8F%E4%B8%8B%E8%BD%BD%E6%97%B6%E5%80%99%E9%80%89%E6%8B%A9%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%B8%8D%E8%A6%81%E4%B8%8B%E8%BD%BD%E9%94%99%E8%AF%AF%E3%80%82">http://www.dyjqd.com/ÔºåËá™Ë°å‰∏ãËΩΩÂØπÂ∫îÁöÑÊâìÂç∞Êú∫ÂûãÂè∑Âç≥ÂèØÔºåË¶ÅÊ≥®ÊÑè‰∏ãËΩΩÊó∂ÂÄôÈÄâÊã©ÂÆòÁΩë‰∏ãËΩΩÔºå‰∏çË¶Å‰∏ãËΩΩÈîôËØØ„ÄÇ</a></p></blockquote><h4 id="‰∏ãÈù¢ÊòØ‰ª•ÊÉ†ÊôÆHP-LaserJet-M1005-MFPÊâìÂç∞Êú∫È©±Âä®‰∏∫‰æãÂ≠êÔºö"><a href="#‰∏ãÈù¢ÊòØ‰ª•ÊÉ†ÊôÆHP-LaserJet-M1005-MFPÊâìÂç∞Êú∫È©±Âä®‰∏∫‰æãÂ≠êÔºö" class="headerlink" title="‰∏ãÈù¢ÊòØ‰ª•ÊÉ†ÊôÆHP LaserJet M1005 MFPÊâìÂç∞Êú∫È©±Âä®‰∏∫‰æãÂ≠êÔºö"></a>‰∏ãÈù¢ÊòØ‰ª•<code>ÊÉ†ÊôÆHP LaserJet M1005 MFP</code>ÊâìÂç∞Êú∫È©±Âä®‰∏∫‰æãÂ≠êÔºö</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211940929.png" alt="image-20221121194013829"></p><p>‰∏ãËΩΩÂÆâË£ÖÂç≥ÂèØ„ÄÇ</p><h4 id="ÂõûÂà∞ÂàöÊâçÂ¶ÇÊûú‰Ω†Âú®ÊêúÁ¥¢Ê°ÜÈáåÈù¢Ê≤°ÊúâÊâæÂà∞‰Ω†ÁöÑÊâìÂç∞Êú∫ÔºåËøôÊó∂ÂÄôÂ∫îËØ•ÊÄé‰πàÂÅöÂë¢Ôºü"><a href="#ÂõûÂà∞ÂàöÊâçÂ¶ÇÊûú‰Ω†Âú®ÊêúÁ¥¢Ê°ÜÈáåÈù¢Ê≤°ÊúâÊâæÂà∞‰Ω†ÁöÑÊâìÂç∞Êú∫ÔºåËøôÊó∂ÂÄôÂ∫îËØ•ÊÄé‰πàÂÅöÂë¢Ôºü" class="headerlink" title="ÂõûÂà∞ÂàöÊâçÂ¶ÇÊûú‰Ω†Âú®ÊêúÁ¥¢Ê°ÜÈáåÈù¢Ê≤°ÊúâÊâæÂà∞‰Ω†ÁöÑÊâìÂç∞Êú∫ÔºåËøôÊó∂ÂÄôÂ∫îËØ•ÊÄé‰πàÂÅöÂë¢Ôºü"></a>ÂõûÂà∞ÂàöÊâçÂ¶ÇÊûú‰Ω†Âú®ÊêúÁ¥¢Ê°ÜÈáåÈù¢Ê≤°ÊúâÊâæÂà∞‰Ω†ÁöÑÊâìÂç∞Êú∫ÔºåËøôÊó∂ÂÄôÂ∫îËØ•ÊÄé‰πàÂÅöÂë¢Ôºü</h4><h4 id="ÊâãÂä®Ê∑ªÂä†IPÔºö"><a href="#ÊâãÂä®Ê∑ªÂä†IPÔºö" class="headerlink" title="ÊâãÂä®Ê∑ªÂä†IPÔºö"></a>ÊâãÂä®Ê∑ªÂä†IPÔºö</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211942117.png" alt="image-20221121194200062"></p><ul><li>ÈÄâÊã©ÊàëÊâÄÈúÄË¶ÅÁöÑÊâìÂç∞Êú∫Êú™ÂàóÂá∫ÔºåÁÑ∂ÂêéÈÄâÊã©<code>‰ΩøÁî®IPÂú∞ÂùÄÊàñ‰∏ªÊú∫ÂêçÊ∑ªÂä†ÊâìÂç∞Êú∫</code></li></ul><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211942661.png" alt="image-20221121194254616"></p><ul><li>ËøôÈáåÈÄâÊã©<code>Ëá™Âä®Ê£ÄÊµã</code>Êàñ<code>TCP/IP</code>ÈÉΩÂèØ‰ª•ÔºåÁÑ∂ÂêéËæìÂÖ•‰Ω†ÊâìÂç∞Êú∫ÁöÑIPÂú∞ÂùÄÔºåÁÑ∂Âêé‰∏ã‰∏ÄÊ≠•Âç≥ÂèØÔºàPS:‰∏ãÂõæ‰∏≠ÁöÑIPÂú∞ÂùÄÂè™ÊòØ‰∏Ä‰∏™‰æãÂ≠êÔºåÊ†πÊçÆËá™Â∑±ÊâìÂç∞Êú∫ÁöÑÂÆûÈôÖÊÉÖÂÜµËÄåÂÆöÔºâ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211211946943.png" alt="image-20221121194633900"></p><ul><li>ÊúÄÂêé‰∏ã‰∏ÄÊ≠•ÔºåÁÑ∂ÂêéÂ∞±Á≠âÁùÄÊêúÁ¥¢Âà∞ÊâìÂç∞Êú∫ÔºåÂÆâË£ÖÈ©±Âä®Âç≥ÂèØ„ÄÇ</li></ul><p>ÊúÄÂêéÊ≥®ÊÑèÔºåËøô‰∏™ÊïôÁ®ãÂè™ÈÄÇÂêàÁΩëÁªúÊâìÂç∞Êú∫ÔºåÂ±ÄÂüüÁΩëÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ†°Âõ≠ÁΩëÁöÑÂâçÊèêÊòØIPÁ´ØÂè£Ê≤°ÊúâÈôêÂà∂ÔºåÂú®Âêå‰∏Ä‰∏™Ë∑ØÁî±Âô®‰∏ãÊåâÁêÜÊù•ËØ¥ÈÉΩÂèØ‰ª•Áî®ÁöÑÔºåËøôÁØáÊñáÁ´†‰πüÂè™ÊòØÈÄÇÂêàÂ∞èÁôΩÔºåÊàñËÄÖÊòØ‰∏çÊáÇËÆ°ÁÆóÊú∫ÁöÑ‰∫∫ÔºåÂ¶ÇÊûú‰Ω†Âú®ËøûÊé•ÊúâÊó∂ÂÄôÈÅáÂà∞‰ªÄ‰πàÈóÆÈ¢òÂèØ‰ª•ËÅîÁ≥ªÊàë<code>QQÔºö2842888712</code>ÔºåÂ¶ÇÊûú‰Ω†ÊòØ‰∏Ä‰∏™È´òÊâãÔºåÂ∏åÊúõ‰Ω†ÂèØ‰ª•ÊâπËØÑÊåáÊ≠£ÔºåÂ∏åÊúõËøôÁØáÊñáÁ´†ÂØπ‰Ω†Êù•ËØ¥Êúâ‰∫õËÆ∏ÁöÑÂ∏ÆÂä©~</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Ê≥®ÊÑèÔºöÊú¨ÊïôÁ®ãÂè™ÈÄÇÂêàÁΩëÁªúÊâìÂç∞Êú∫‰∏îÂêå‰∏ÄÂ±ÄÂüüÁΩëÊâìÂç∞Êú∫&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ&quot;&gt;&lt;a href=&quot;#Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ&quot; class=&quot;headerlink&quot; title=&quot;Èº†Ê†áÂè≥ÈîÆÈÄâÊã©‰∏™ÊÄßÂåñ&quot;&gt;&lt;/a&gt;Èº†Ê†áÂè≥ÈîÆÈÄâÊã©&lt;code&gt;‰∏™ÊÄßÂåñ&lt;/code&gt;&lt;/h3&gt;</summary>
    
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="ÊâìÂç∞Êú∫" scheme="http://example.com/categories/%E8%BF%90%E7%BB%B4/%E6%89%93%E5%8D%B0%E6%9C%BA/"/>
    
    
    <category term="ËøêÁª¥" scheme="http://example.com/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="ÊâìÂç∞Êú∫" scheme="http://example.com/tags/%E6%89%93%E5%8D%B0%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>Nginx</title>
    <link href="http://example.com/2023/03/29/Nginx/"/>
    <id>http://example.com/2023/03/29/Nginx/</id>
    <published>2023-03-29T11:56:54.000Z</published>
    <updated>2023-04-01T00:24:00.394Z</updated>
    
    <content type="html"><![CDATA[<hr><p>[TOC]</p><h3 id="‰∏Ä„ÄÅÂºïË®Ä"><a href="#‰∏Ä„ÄÅÂºïË®Ä" class="headerlink" title="‰∏Ä„ÄÅÂºïË®Ä"></a>‰∏Ä„ÄÅÂºïË®Ä</h3><hr><h4 id="1-1-‰ª£ÁêÜÈóÆÈ¢ò"><a href="#1-1-‰ª£ÁêÜÈóÆÈ¢ò" class="headerlink" title="1.1 ‰ª£ÁêÜÈóÆÈ¢ò"></a>1.1 ‰ª£ÁêÜÈóÆÈ¢ò</h4><blockquote><p>ÂÆ¢Êà∑Á´ØÂà∞Â∫ïË¶ÅÂ∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÂì™Âè∞ÊúçÂä°Âô®„ÄÇ</p></blockquote><span id="more"></span><table><thead><tr><th align="center">ÂèëÈÄÅÁªôÊúçÂä°Âô®1ËøòÊòØÊúçÂä°Âô®2</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071023267.png" alt="1589264952529"></td></tr></tbody></table><!--more--><h4 id="1-2-Ë¥üËΩΩÂùáË°°ÈóÆÈ¢ò"><a href="#1-2-Ë¥üËΩΩÂùáË°°ÈóÆÈ¢ò" class="headerlink" title="1.2 Ë¥üËΩΩÂùáË°°ÈóÆÈ¢ò"></a>1.2 Ë¥üËΩΩÂùáË°°ÈóÆÈ¢ò</h4><blockquote><p>Â¶ÇÊûúÊâÄÊúâÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÂèëÈÄÅÁªô‰∫ÜÊúçÂä°Âô®1ÔºåÈÇ£‰πàÊúçÂä°Âô®2Â∞ÜÊ≤°Êúâ‰ªª‰ΩïÊÑè‰πâ</p></blockquote><table><thead><tr><th align="center">Ë¥üËΩΩÂùáË°°ÈóÆÈ¢ò</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071024949.png" alt="1589265005701"></td></tr></tbody></table><h4 id="1-3-ËµÑÊ∫ê‰ºòÂåñ"><a href="#1-3-ËµÑÊ∫ê‰ºòÂåñ" class="headerlink" title="1.3 ËµÑÊ∫ê‰ºòÂåñ"></a>1.3 ËµÑÊ∫ê‰ºòÂåñ</h4><blockquote><p>ÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑËØ∑Ê±ÇÂèØËÉΩÊòØÁî≥ËØ∑Âä®ÊÄÅËµÑÊ∫êÁöÑÔºå‰πüÊúâÁî≥ËØ∑ÈùôÊÄÅËµÑÊ∫êÔºå‰ΩÜÊòØÈÉΩÊòØÂéªTomcat‰∏≠Ëé∑ÂèñÁöÑ</p></blockquote><table><thead><tr><th align="center">ÈùôÊÄÅËµÑÊ∫êËÆøÈóÆ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071024993.png" alt="1589265063451"></td></tr></tbody></table><h4 id="1-4-NginxÂ§ÑÁêÜ"><a href="#1-4-NginxÂ§ÑÁêÜ" class="headerlink" title="1.4 NginxÂ§ÑÁêÜ"></a>1.4 NginxÂ§ÑÁêÜ</h4><table><thead><tr><th align="center">Âú®Êê≠Âª∫ÈõÜÁæ§ÂêéÔºå‰ΩøÁî®Nginx</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071024840.png" alt="1589265181473"></td></tr></tbody></table><h3 id="‰∫å„ÄÅNginxÊ¶ÇËø∞"><a href="#‰∫å„ÄÅNginxÊ¶ÇËø∞" class="headerlink" title="‰∫å„ÄÅNginxÊ¶ÇËø∞"></a>‰∫å„ÄÅNginxÊ¶ÇËø∞</h3><hr><blockquote><p>NginxÊòØÁî±‰øÑÁΩóÊñØ‰∫∫Á†îÂèëÁöÑÔºåÂ∫îÂØπRamblerÁöÑÁΩëÁ´ôÔºåÂπ∂‰∏î2004Âπ¥ÂèëÂ∏ÉÁöÑÁ¨¨‰∏Ä‰∏™ÁâàÊú¨„ÄÇ</p></blockquote><table><thead><tr><th align="center">Nginx‰πãÁà∂</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071024237.png" alt="1586502874584"></td></tr></tbody></table><blockquote><p>NginxÁöÑÁâπÁÇπÔºö</p><ul><li>Á®≥ÂÆöÊÄßÊûÅÂº∫„ÄÇ 7*24Â∞èÊó∂‰∏çÈó¥Êñ≠ËøêË°å„ÄÇ</li><li>NginxÊèê‰æõ‰∫ÜÈùûÂ∏∏‰∏∞ÂØåÁöÑÈÖçÁΩÆÂÆû‰æã„ÄÇ</li><li>Âç†Áî®ÂÜÖÂ≠òÂ∞èÔºåÂπ∂ÂèëËÉΩÂäõÂº∫„ÄÇ</li></ul></blockquote><h3 id="‰∏â„ÄÅNginxÁöÑÂÆâË£Ö"><a href="#‰∏â„ÄÅNginxÁöÑÂÆâË£Ö" class="headerlink" title="‰∏â„ÄÅNginxÁöÑÂÆâË£Ö"></a>‰∏â„ÄÅNginxÁöÑÂÆâË£Ö</h3><hr><h4 id="3-1-ÂÆâË£ÖNginx"><a href="#3-1-ÂÆâË£ÖNginx" class="headerlink" title="3.1 ÂÆâË£ÖNginx"></a>3.1 ÂÆâË£ÖNginx</h4><blockquote><p>‰ΩøÁî®Docker-ComposeÂÆâË£ÖÔºåÂàõÂª∫docker-compose.ymlÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπÔºö</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">daocloud.io/library/nginx:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]<span class="comment"># cd /opt</span></span><br><span class="line">[root@192 opt]<span class="comment"># mkdir docker_nginx</span></span><br><span class="line">[root@192 opt]<span class="comment"># cd docker_nginx/</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># vim docker-compose.yml</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose up -d</span></span><br><span class="line">Creating network <span class="string">&quot;docker_nginx_default&quot;</span> with the default driver</span><br><span class="line">Pulling nginx (daocloud.io/library/nginx:latest)...</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">45b42c59be33: Pull complete</span><br><span class="line">d0d9e9ea897e: Pull complete</span><br><span class="line">66e650438339: Pull complete</span><br><span class="line">76a3dfe4406b: Pull complete</span><br><span class="line">410ff9d97480: Pull complete</span><br><span class="line">Digest: sha256:1a53eb723d17523512bd25c27299046cfa034cce309f4ed330c943a304513f59</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> daocloud.io/library/nginx:latest</span><br><span class="line">Creating nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><blockquote><p>ÊµèËßàÂô®ËÆøÈóÆÂç≥ÂèØÔºà80Á´ØÂè£ÂèØ‰ª•ÁúÅÁï•‰∏çÂÜôÔºå‰∫ëÊúçÂä°Âô®ËÆ∞ÂæóÂéªÂºÄÊîæ80Á´ØÂè£Ôºâ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071024665.png"></p><h4 id="3-2-NginxÁöÑÈÖçÁΩÆÊñá‰ª∂"><a href="#3-2-NginxÁöÑÈÖçÁΩÆÊñá‰ª∂" class="headerlink" title="3.2 NginxÁöÑÈÖçÁΩÆÊñá‰ª∂"></a>3.2 NginxÁöÑÈÖçÁΩÆÊñá‰ª∂</h4><blockquote><p>ÂÖ≥‰∫éNginxÁöÑÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂nginx.conf</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@192 docker_nginx]<span class="comment"># docker ps</span></span><br><span class="line">CONTAINER ID   IMAGE                              COMMAND                  CREATED         STATUS         PORTS                               NAMES</span><br><span class="line">617da0b0dbbb   daocloud.io/library/nginx:latest   <span class="string">&quot;/docker-entrypoint.‚Ä¶&quot;</span>   8 minutes ago   Up 8 minutes   0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   nginx</span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker exec -it 617 bash</span></span><br><span class="line">root@617da0b0dbbb:/<span class="comment"># cd /etc/nginx</span></span><br><span class="line">root@617da0b0dbbb:/etc/nginx<span class="comment"># ls</span></span><br><span class="line">conf.dkoi-utf  mime.types  nginx.conf   uwsgi_params</span><br><span class="line">fastcgi_paramskoi-win  modules     scgi_params  win-utf</span><br><span class="line">root@617da0b0dbbb:/etc/nginx<span class="comment"># cat nginx.conf </span></span><br></pre></td></tr></table></figure><blockquote><p>Êü•Áúãnginx.conf ÈÖçÁΩÆÊñá‰ª∂</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">user  nginx;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">error_log  /var/log/nginx/error.log warn;</span><br><span class="line">pid        /var/run/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂèÇÊï∞ËØ¥Êòé</span></span><br><span class="line"><span class="comment"># ‰ª•‰∏äÁªüÁß∞‰∏∫ÂÖ®Â±ÄÂùóÔºå </span></span><br><span class="line"><span class="comment"># worker_processesÁöÑÊï∞ÂÄºË∂äÂ§ßÔºåNginxÁöÑÂπ∂ÂèëËÉΩÂäõÂ∞±Ë∂äÂº∫ÔºàÁî±ËøêÁª¥‰∫∫Âëò‰øÆÊîπÔºâ</span></span><br><span class="line"><span class="comment"># error_log ‰ª£Ë°®NginxÁöÑÈîôËØØÊó•ÂøóÂ≠òÊîæÁöÑ‰ΩçÁΩÆ</span></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂèÇÊï∞ËØ¥Êòé</span></span><br><span class="line"><span class="comment"># eventsÂùó</span></span><br><span class="line"><span class="comment"># worker_connectionsÁöÑÊï∞ÂÄºË∂äÂ§ßÔºåNginxÁöÑÂπ∂ÂèëËÉΩÂäõÂ∞±Ë∂äÂº∫ÔºàÁî±ËøêÁª¥‰∫∫Âëò‰øÆÊîπÔºâ</span></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       /etc/nginx/mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    log_format  main  <span class="string">&#x27;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;$status $body_bytes_sent &quot;$http_referer&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    access_log  /var/log/nginx/access.log  main;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line">    <span class="comment">#tcp_nopush     on;</span></span><br><span class="line"></span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#gzip  on;</span></span><br><span class="line"></span><br><span class="line">    include /etc/nginx/conf.d/*.conf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂèÇÊï∞ËØ¥Êòé</span></span><br><span class="line"><span class="comment"># httpÂùó</span></span><br><span class="line"><span class="comment"># include‰ª£Ë°®ÂºïÂÖ•‰∏Ä‰∏™Â§ñÈÉ®ÁöÑÊñá‰ª∂ -&gt; /mime.types‰∏≠ÊîæÁùÄÂ§ßÈáèÁöÑÂ™í‰ΩìÁ±ªÂûã</span></span><br><span class="line"><span class="comment"># include /etc/nginx/conf.d/*.conf; -&gt; ÂºïÂÖ•‰∫Üconf.dÁõÆÂΩï‰∏ãÁöÑ‰ª•.conf‰∏∫ÁªìÂ∞æÁöÑÈÖçÁΩÆÊñá‰ª∂</span></span><br></pre></td></tr></table></figure><blockquote><p>nginx.conf ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂèëÁé∞ÔºåÊúÄÂêé‰∏ÄË°åÂºïÂÖ•‰∫Üconf.dÁõÆÂΩï‰∏ãÁöÑ*.confÊñá‰ª∂</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@617da0b0dbbb:/etc/nginx<span class="comment"># ls</span></span><br><span class="line">conf.dkoi-utf  mime.types  nginx.conf   uwsgi_params</span><br><span class="line">fastcgi_paramskoi-win  modules     scgi_params  win-utf</span><br><span class="line">root@617da0b0dbbb:/etc/nginx<span class="comment"># cd conf.d/</span></span><br><span class="line">root@617da0b0dbbb:/etc/nginx/conf.d<span class="comment"># ls</span></span><br><span class="line">default.conf</span><br><span class="line">root@617da0b0dbbb:/etc/nginx/conf.d<span class="comment"># cat default.conf </span></span><br></pre></td></tr></table></figure><blockquote><p>Êü•Áúãdefault.conf ÈÖçÁΩÆÊñá‰ª∂</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂèÇÊï∞ËØ¥Êòé</span></span><br><span class="line"><span class="comment"># serverÂùó</span></span><br><span class="line"><span class="comment"># listenÔºö ‰ª£Ë°®NginxÁõëÂê¨ÁöÑÁ´ØÂè£Âè∑</span></span><br><span class="line"><span class="comment"># localhostÔºö‰ª£Ë°®NginxÊé•Êî∂ËØ∑Ê±ÇÁöÑip</span></span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    listen  [::]:80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#charset koi8-r;</span></span><br><span class="line">    <span class="comment">#access_log  /var/log/nginx/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /usr/share/nginx/html;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ÂèÇÊï∞ËØ¥Êòé</span></span><br><span class="line">    <span class="comment"># locationÂùó</span></span><br><span class="line"><span class="comment"># rootÔºöÂ∞ÜÊé•Êî∂Âà∞ÁöÑËØ∑Ê±ÇÊ†πÊçÆ/usr/share/nginx/htmlÂéªÊü•ÊâæÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line"><span class="comment"># indexÔºö ÈªòËÆ§Âéª‰∏äËø∞ÁöÑË∑ØÂæÑ‰∏≠ÊâæÂà∞index.htmlÊàñËÄÖindex.htm</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#error_page  404              /404.html;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># redirect server error pages to the static page /50x.html</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    error_page   500 502 503 504  /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root   /usr/share/nginx/html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># proxy the PHP scripts to Apache listening on 127.0.0.1:80</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    proxy_pass   http://127.0.0.1;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ \.php$ &#123;</span></span><br><span class="line">    <span class="comment">#    root           html;</span></span><br><span class="line">    <span class="comment">#    fastcgi_pass   127.0.0.1:9000;</span></span><br><span class="line">    <span class="comment">#    fastcgi_index  index.php;</span></span><br><span class="line">    <span class="comment">#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;</span></span><br><span class="line">    <span class="comment">#    include        fastcgi_params;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># deny access to .htaccess files, if Apache&#x27;s document root</span></span><br><span class="line">    <span class="comment"># concurs with nginx&#x27;s one</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment">#location ~ /\.ht &#123;</span></span><br><span class="line">    <span class="comment">#    deny  all;</span></span><br><span class="line">    <span class="comment">#&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-ÈÖçÁΩÆÊï∞ÊçÆÂç∑Êìç‰ΩúNginx"><a href="#3-3-ÈÖçÁΩÆÊï∞ÊçÆÂç∑Êìç‰ΩúNginx" class="headerlink" title="3.3 ÈÖçÁΩÆÊï∞ÊçÆÂç∑Êìç‰ΩúNginx"></a>3.3 ÈÖçÁΩÆÊï∞ÊçÆÂç∑Êìç‰ΩúNginx</h4><blockquote><p>‰∏∫‰∫ÜÊñπ‰æø‰øÆÊîπNginxÈÖçÁΩÆÔºå‰øÆÊîπdocker-compose.ymlÊñá‰ª∂ÔºåËÆæÁΩÆ volumes ÔºåÈáçÊñ∞ÂêØÂä®</p></blockquote><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">daocloud.io/library/nginx:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/docker_nginx/conf.d/:/etc/nginx/conf.d</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">root@617da0b0dbbb:/etc/nginx/conf.d<span class="comment"># exit </span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># vim docker-compose.yml </span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose down</span></span><br><span class="line">Stopping nginx ... <span class="keyword">done</span></span><br><span class="line">Removing nginx ... <span class="keyword">done</span></span><br><span class="line">Removing network docker_nginx_default</span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose up -d</span></span><br><span class="line">Creating network <span class="string">&quot;docker_nginx_default&quot;</span> with the default driver</span><br><span class="line">Creating nginx ... <span class="keyword">done</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># ls</span></span><br><span class="line">conf.d  docker-compose.yml</span><br></pre></td></tr></table></figure><blockquote><p>Ê≠§Êó∂ÂÜç‰ΩøÁî®ÊµèËßàÂô®ËÆøÈóÆÂàôÊó†Ê≥ïËÆøÈóÆnginx.htmlÈ°µÈù¢‰∫ÜÔºåÊ≠§Êó∂ÈúÄË¶ÅÂú®conf.dÁõÆÂΩï‰∏ãÂàõÂª∫default.confÊñá‰ª∂ÔºåÈÖçÁΩÆ‰∏Ä‰∏™serverÔºåÂÜçÈáçÊñ∞ÂêØÂä®Âç≥ÂèØ</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    listen  [::]:80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /usr/share/nginx/html;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@192 docker_nginx]<span class="comment"># cd conf.d/</span></span><br><span class="line">[root@192 conf.d]<span class="comment"># vim default.conf</span></span><br><span class="line">[root@192 conf.d]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose restart</span></span><br><span class="line">Restarting nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><h3 id="Âõõ„ÄÅNginxÁöÑÂèçÂêë‰ª£ÁêÜ„ÄêÈáçÁÇπ„Äë"><a href="#Âõõ„ÄÅNginxÁöÑÂèçÂêë‰ª£ÁêÜ„ÄêÈáçÁÇπ„Äë" class="headerlink" title="Âõõ„ÄÅNginxÁöÑÂèçÂêë‰ª£ÁêÜ„ÄêÈáçÁÇπ„Äë"></a>Âõõ„ÄÅNginxÁöÑÂèçÂêë‰ª£ÁêÜ„Äê<code>ÈáçÁÇπ</code>„Äë</h3><hr><h4 id="4-1-Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ‰ªãÁªç"><a href="#4-1-Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ‰ªãÁªç" class="headerlink" title="4.1 Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ‰ªãÁªç"></a>4.1 Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ‰ªãÁªç</h4><blockquote><p>Ê≠£Âêë‰ª£ÁêÜÔºö</p><ul><li>Ê≠£Âêë‰ª£ÁêÜÊúçÂä°ÊòØÁî±ÂÆ¢Êà∑Á´ØËÆæÁ´ãÁöÑ„ÄÇ</li><li>ÂÆ¢Êà∑Á´Ø‰∫ÜËß£‰ª£ÁêÜÊúçÂä°Âô®ÂíåÁõÆÊ†áÊúçÂä°Âô®ÈÉΩÊòØË∞Å„ÄÇ</li><li>Â∏ÆÂä©Âí±‰ª¨ÂÆûÁé∞Á™ÅÁ†¥ËÆøÈóÆÊùÉÈôêÔºåÊèêÈ´òËÆøÈóÆÁöÑÈÄüÂ∫¶ÔºåÂØπÁõÆÊ†áÊúçÂä°Âô®ÈöêËóèÂÆ¢Êà∑Á´ØÁöÑipÂú∞ÂùÄ„ÄÇ</li></ul></blockquote><table><thead><tr><th align="center">Ê≠£Âêë‰ª£ÁêÜ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071025691.png" alt="1586512751639"></td></tr></tbody></table><blockquote><p>ÂèçÂêë‰ª£ÁêÜÔºö</p><ul><li>ÂèçÂêë‰ª£ÁêÜÊúçÂä°Âô®ÊòØÈÖçÁΩÆÂú®ÊúçÂä°Á´ØÁöÑ„ÄÇ</li><li>ÂÆ¢Êà∑Á´ØÊòØ‰∏çÁü•ÈÅìËÆøÈóÆÁöÑÂà∞Â∫ïÊòØÂì™‰∏ÄÂè∞ÊúçÂä°Âô®„ÄÇ</li><li>ËææÂà∞Ë¥üËΩΩÂùáË°°ÔºåÂπ∂‰∏îÂèØ‰ª•ÈöêËóèÊúçÂä°Âô®ÁúüÊ≠£ÁöÑipÂú∞ÂùÄ„ÄÇ</li></ul></blockquote><p><img src="/Pictures/1586513061851.png" alt="1586513061851"></p><h4 id="4-2-Âü∫‰∫éNginxÂÆûÁé∞ÂèçÂêë‰ª£ÁêÜ"><a href="#4-2-Âü∫‰∫éNginxÂÆûÁé∞ÂèçÂêë‰ª£ÁêÜ" class="headerlink" title="4.2 Âü∫‰∫éNginxÂÆûÁé∞ÂèçÂêë‰ª£ÁêÜ"></a>4.2 Âü∫‰∫éNginxÂÆûÁé∞ÂèçÂêë‰ª£ÁêÜ</h4><blockquote><p>ÂàõÂª∫‰∏â‰∏™TomcatÔºåÈÄöËøáÊï∞ÊçÆÂç∑Êò†Â∞ÑÔºåÂú®Êò†Â∞ÑÁõÆÂΩï‰∏ãÂàõÂª∫ROOTÁõÆÂΩïÔºåÂú®ÂØπÂ∫îÁöÑROOTÁõÆÂΩï‰∏ãÂÜçÂàõÂª∫index.htmlÔºàÈúÄË¶ÅÂàõÂª∫‰∏â‰∏™ROOTÁõÆÂΩïÂíå‰∏â‰∏™index.htmlÔºåindex.htmlÂÜÖÂÆπ‰∏çË¶ÅÁõ∏ÂêåÔºåÁî®‰∫éÊµãËØïÔºâ</p></blockquote><blockquote><p>docker-compose.ymlÂÜÖÂÆπÂ¶Ç‰∏ãÔºö</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  tomcat1:</span><br><span class="line">    restart: always</span><br><span class="line">    image: daocloud.io/library/tomcat:8.5.15-jre8</span><br><span class="line">    container_name: tomcat8081</span><br><span class="line">    ports:</span><br><span class="line">      - 8081:8080</span><br><span class="line">    environment:</span><br><span class="line">      TZ: Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /opt/docker_tomcats/tomcat_webapps8081:/usr/local/tomcat/webapps</span><br><span class="line">  tomcat2:</span><br><span class="line">    restart: always</span><br><span class="line">    image: daocloud.io/library/tomcat:8.5.15-jre8</span><br><span class="line">    container_name: tomcat8082</span><br><span class="line">    ports:</span><br><span class="line">      - 8082:8080</span><br><span class="line">    environment:</span><br><span class="line">      TZ: Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /opt/docker_tomcats/tomcat_webapps8082:/usr/local/tomcat/webapps</span><br><span class="line">  tomcat3:</span><br><span class="line">    restart: always</span><br><span class="line">    image: daocloud.io/library/tomcat:8.5.15-jre8</span><br><span class="line">    container_name: tomcat8083</span><br><span class="line">    ports:</span><br><span class="line">      - 8083:8080</span><br><span class="line">    environment:</span><br><span class="line">      TZ: Asia/Shanghai</span><br><span class="line">    volumes:</span><br><span class="line">      - /opt/docker_tomcats/tomcat_webapps8083:/usr/local/tomcat/webapps</span><br></pre></td></tr></table></figure><blockquote><p>ÂÖ∑‰ΩìÊ≠•È™§Â¶Ç‰∏ãÔºö</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@192 opt]<span class="comment"># mkdir docker_tomcats</span></span><br><span class="line">[root@192 opt]<span class="comment"># cd docker_tomcats/</span></span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># vim docker-compose.yml </span></span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># docker-compose up -d</span></span><br><span class="line">Creating network <span class="string">&quot;docker_tomcats_default&quot;</span> with the default driver</span><br><span class="line">Creating tomcat8082 ... <span class="keyword">done</span></span><br><span class="line">Creating tomcat8081 ... <span class="keyword">done</span></span><br><span class="line">Creating tomcat8083 ... <span class="keyword">done</span></span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># ls</span></span><br><span class="line">docker-compose.yml  tomcat_webapps8081  tomcat_webapps8082  tomcat_webapps8083</span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># cd tomcat_webapps8081</span></span><br><span class="line">[root@192 tomcat_webapps8081]<span class="comment"># mkdir ROOT</span></span><br><span class="line">[root@192 tomcat_webapps8081]<span class="comment"># cd ROOT</span></span><br><span class="line">[root@192 ROOT]<span class="comment"># vim index.html</span></span><br><span class="line">[root@192 ROOT]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 tomcat_webapps8081]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># cd tomcat_webapps8082</span></span><br><span class="line">[root@192 tomcat_webapps8082]<span class="comment"># mkdir ROOT</span></span><br><span class="line">[root@192 tomcat_webapps8082]<span class="comment"># cd ROOT</span></span><br><span class="line">[root@192 ROOT]<span class="comment"># vim index.html</span></span><br><span class="line">[root@192 ROOT]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 tomcat_webapps8082]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_tomcats]<span class="comment"># cd tomcat_webapps8083</span></span><br><span class="line">[root@192 tomcat_webapps8083]<span class="comment"># mkdir ROOT</span></span><br><span class="line">[root@192 tomcat_webapps8083]<span class="comment"># cd ROOT</span></span><br><span class="line">[root@192 ROOT]<span class="comment"># vim index.html</span></span><br></pre></td></tr></table></figure><blockquote><p>ÁÑ∂Âêé‰øÆÊîπnginxÁöÑdefault.confÈÖçÁΩÆÊñá‰ª∂Ôºå‰ΩøÂÖ∂ÈÄöËøáNginxËÆøÈóÆÂà∞tomcatÊúçÂä°Âô®„ÄÇ</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    listen  [::]:80;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Âü∫‰∫éÂèçÂêë‰ª£ÁêÜËÆøÈóÆÂà∞TomcatÊúçÂä°Âô®</span></span><br><span class="line">    location / &#123;</span><br><span class="line">      proxy_pass http://192.168.25.132:8081/;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@192 opt]<span class="comment"># cd docker_nginx/</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># ls</span></span><br><span class="line">conf.d  docker-compose.yml</span><br><span class="line">[root@192 docker_nginx]<span class="comment"># cd conf.d/</span></span><br><span class="line">[root@192 conf.d]<span class="comment"># ls</span></span><br><span class="line">default.conf</span><br><span class="line">[root@192 conf.d]<span class="comment"># vim default.conf </span></span><br><span class="line">[root@192 conf.d]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose restart</span></span><br><span class="line">Restarting nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><blockquote><p>ÂÜçÊ¨°ËÆøÈóÆÊó∂Ôºånginx‰∏ªÈ°µÁõ¥Êé•ÊòæÁ§∫Âà∞ÂØπÂ∫îtomcatÁöÑÈ°µÈù¢‰∫Ü</p></blockquote><h4 id="4-3-ÂÖ≥‰∫éNginxÁöÑlocationË∑ØÂæÑÊò†Â∞Ñ"><a href="#4-3-ÂÖ≥‰∫éNginxÁöÑlocationË∑ØÂæÑÊò†Â∞Ñ" class="headerlink" title="4.3 ÂÖ≥‰∫éNginxÁöÑlocationË∑ØÂæÑÊò†Â∞Ñ"></a>4.3 ÂÖ≥‰∫éNginxÁöÑlocationË∑ØÂæÑÊò†Â∞Ñ</h4><blockquote><p>‰ºòÂÖàÁ∫ßÂÖ≥Á≥ªÂ¶Ç‰∏ãÔºö</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># <span class="number">1.</span> Áõ¥Êé•ÂåπÈÖç</span><br><span class="line">location = / <span class="punctuation">&#123;</span></span><br><span class="line">  # Á≤æÂáÜÂåπÈÖçÔºå‰∏ªÊú∫ÂêçÂêéÈù¢‰∏çËÉΩÂ∏¶‰ªª‰ΩïÁöÑÂ≠óÁ¨¶‰∏≤</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"># <span class="number">2.</span> ÈÄöÁî®ÂåπÈÖç</span><br><span class="line">location /xxx <span class="punctuation">&#123;</span></span><br><span class="line">  # ÂåπÈÖçÊâÄÊúâ‰ª•/xxxÂºÄÂ§¥ÁöÑË∑ØÂæÑ</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"># <span class="number">3.</span> Ê≠£ÂàôÂåπÈÖç</span><br><span class="line">location ~ /xxx <span class="punctuation">&#123;</span></span><br><span class="line">  # ÂåπÈÖçÊâÄÊúâ‰ª•/xxxÂºÄÂ§¥ÁöÑË∑ØÂæÑ</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"># <span class="number">4.</span> ÂåπÈÖçÂºÄÂ§¥Ë∑ØÂæÑ</span><br><span class="line">location ^~ /images/ <span class="punctuation">&#123;</span></span><br><span class="line">  # ÂåπÈÖçÊâÄÊúâ‰ª•/imagesÂºÄÂ§¥ÁöÑË∑ØÂæÑ</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"># <span class="number">5.</span> ÂåπÈÖçÂêéÁºÄ</span><br><span class="line">location ~* \.(gif|jpg|png)$ <span class="punctuation">&#123;</span></span><br><span class="line">  # ÂåπÈÖç‰ª•gifÊàñËÄÖjpgÊàñËÄÖpng‰∏∫ÁªìÂ∞æÁöÑË∑ØÂæÑ</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"># <span class="number">6.</span> ÂÖ®ÈÉ®ÈÄöÈÖç</span><br><span class="line">location / <span class="punctuation">&#123;</span></span><br><span class="line">  # ÂåπÈÖçÂÖ®ÈÉ®Ë∑ØÂæÑ  </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="‰∫î„ÄÅNginxË¥üËΩΩÂùáË°°„ÄêÈáçÁÇπ„Äë"><a href="#‰∫î„ÄÅNginxË¥üËΩΩÂùáË°°„ÄêÈáçÁÇπ„Äë" class="headerlink" title="‰∫î„ÄÅNginxË¥üËΩΩÂùáË°°„ÄêÈáçÁÇπ„Äë"></a>‰∫î„ÄÅNginxË¥üËΩΩÂùáË°°„Äê<code>ÈáçÁÇπ</code>„Äë</h3><hr><blockquote><p>Nginx‰∏∫Êàë‰ª¨ÈªòËÆ§Êèê‰æõ‰∫Ü‰∏âÁßçË¥üËΩΩÂùáË°°ÁöÑÁ≠ñÁï•Ôºö</p><p>‚ÄãËΩÆËØ¢ÔºöÂ∞ÜÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇÔºåÂπ≥ÂùáÁöÑÂàÜÈÖçÁªôÊØè‰∏ÄÂè∞ÊúçÂä°Âô®„ÄÇ</p><p>‚ÄãÊùÉÈáçÔºö‰ºöÂ∞ÜÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºåÊ†πÊçÆÊúçÂä°Âô®ÁöÑÊùÉÈáçÂÄº‰∏çÂêåÔºåÂàÜÈÖç‰∏çÂêåÁöÑÊï∞Èáè„ÄÇ</p><p>‚Äãip_hashÔºöÂü∫‰∫éÂΩìÂâçÂèëËµ∑ËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´ØÁöÑipÂú∞ÂùÄÔºåÂ¶ÇÊûúipÂú∞ÂùÄ‰∏çÂèòÔºåÂßãÁªà‰ºöÂ∞ÜËØ∑Ê±ÇÂèëÈÄÅÂà∞ÂΩìÂâçÁöÑÊúçÂä°Âô®‰∏ä„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071025043.png"></p><h4 id="5-1-ËΩÆËØ¢"><a href="#5-1-ËΩÆËØ¢" class="headerlink" title="5.1 ËΩÆËØ¢"></a>5.1 ËΩÆËØ¢</h4><blockquote><p>ÊÉ≥ÂÆûÁé∞NginxËΩÆËØ¢Ë¥üËΩΩÂùáË°°Êú∫Âà∂ÈúÄË¶Å‰øÆÊîπdefault.confÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÔºö</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">upstream ÂêçÂ≠ó <span class="punctuation">&#123;</span></span><br><span class="line">  server ip<span class="punctuation">:</span>port;</span><br><span class="line">  server ip<span class="punctuation">:</span>port;</span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">server <span class="punctuation">&#123;</span></span><br><span class="line">  listen <span class="number">80</span>;</span><br><span class="line">  listen  <span class="punctuation">[</span><span class="punctuation">:</span><span class="punctuation">:</span><span class="punctuation">]</span><span class="punctuation">:</span><span class="number">80</span>;</span><br><span class="line">  server_name localhost;</span><br><span class="line">  </span><br><span class="line">  location / <span class="punctuation">&#123;</span></span><br><span class="line">    proxy_pass http<span class="punctuation">:</span><span class="comment">//upstreamÁöÑÂêçÂ≠ó/;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>‰æãÂ¶ÇÔºöÔºàÊ≥®ÊÑèÔºöupstreamÁöÑÂêçÂ≠ó‰∏çË¶Å‰ΩøÁî®‰∏ãÂàíÁ∫øÔºâ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">upstream my-server &#123;</span><br><span class="line">  server <span class="number">47.100</span><span class="number">.241</span><span class="number">.89</span>:<span class="number">8081</span>;</span><br><span class="line">  server <span class="number">47.100</span><span class="number">.241</span><span class="number">.89</span>:<span class="number">8082</span>;</span><br><span class="line">  server <span class="number">47.100</span><span class="number">.241</span><span class="number">.89</span>:<span class="number">8083</span>;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">  listen <span class="number">80</span>;</span><br><span class="line">  listen  [::]:<span class="number">80</span>;</span><br><span class="line">  server_name localhost;</span><br><span class="line">  </span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http:<span class="comment">//my-server/;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@192 opt]<span class="comment"># cd docker_nginx/</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># ls</span></span><br><span class="line">conf.d  docker-compose.yml</span><br><span class="line">[root@192 docker_nginx]<span class="comment"># cd conf.d/</span></span><br><span class="line">[root@192 conf.d]<span class="comment"># ls</span></span><br><span class="line">default.conf</span><br><span class="line">[root@192 conf.d]<span class="comment"># vim default.conf </span></span><br><span class="line">[root@192 conf.d]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose restart</span></span><br><span class="line">Restarting nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><blockquote><p>Ê≥®ÔºöËã•ËΩÆËØ¢Êó†Ê≥ïÂÆûÁé∞ÔºåÊäänginx.confÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑ keepalive_timeout  65 Êîπ‰∏∫ keepalive_timeout  0 Âç≥ÂèØÔºÅ</p></blockquote><h4 id="5-2-ÊùÉÈáç"><a href="#5-2-ÊùÉÈáç" class="headerlink" title="5.2 ÊùÉÈáç"></a>5.2 ÊùÉÈáç</h4><blockquote><p>ÂÆûÁé∞ÊùÉÈáçÁöÑÊñπÂºè</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">upstream ÂêçÂ≠ó <span class="punctuation">&#123;</span></span><br><span class="line">  server ip<span class="punctuation">:</span>port weight=ÊùÉÈáçÊØî‰æã;</span><br><span class="line">  server ip<span class="punctuation">:</span>port weight=ÊùÉÈáçÊØî‰æã;</span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">server <span class="punctuation">&#123;</span></span><br><span class="line">  listen <span class="number">80</span>;</span><br><span class="line">  server_name localhost;</span><br><span class="line">  </span><br><span class="line">  location / <span class="punctuation">&#123;</span></span><br><span class="line">    proxy_pass http<span class="punctuation">:</span><span class="comment">//upstreamÁöÑÂêçÂ≠ó/;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>‰æãÂ¶ÇÔºö</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">upstream my-server &#123;</span><br><span class="line">  server 47.100.241.89:8081 weight=10;</span><br><span class="line">  server 47.100.241.89:8082 weight=5;</span><br><span class="line">  server 47.100.241.89:80 weight=1;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  listen  [::]:80;</span><br><span class="line">  server_name localhost;</span><br><span class="line">  </span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://my-server/;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@192 docker_nginx]<span class="comment"># cd conf.d/</span></span><br><span class="line">[root@192 conf.d]<span class="comment"># ls</span></span><br><span class="line">default.conf</span><br><span class="line">[root@192 conf.d]<span class="comment"># vim default.conf </span></span><br><span class="line">[root@192 conf.d]<span class="comment"># cd ..</span></span><br><span class="line">[root@192 docker_nginx]<span class="comment"># docker-compose restart</span></span><br><span class="line">Restarting nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><h4 id="5-3-ip-hash"><a href="#5-3-ip-hash" class="headerlink" title="5.3 ip_hash"></a>5.3 ip_hash</h4><blockquote><p>ip_hashÂÆûÁé∞ÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†‰∏Ä‰∏™  ip_hash ÈÖçÁΩÆÂç≥ÂèØÔºåÂú®ÊöÇÊó∂‰∏ç‰ΩøÁî®ÁöÑÊúçÂä°Âô®ÂêéÈù¢Ê∑ªÂä†downÂç≥ÂèØ</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">upstream ÂêçÂ≠ó &#123;</span><br><span class="line">  ip_hash; <span class="comment"># ÈÖçÁΩÆip_hash</span></span><br><span class="line">  server ip:port down;</span><br><span class="line">  server ip:port;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name localhost;</span><br><span class="line">  </span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://upstreamÁöÑÂêçÂ≠ó/;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>‰æãÂ¶ÇÔºö</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">upstream my-server &#123;</span><br><span class="line">  ip_hash;</span><br><span class="line">  server 192.168.25.140:8081;</span><br><span class="line">  server 192.168.25.140:8082 down;</span><br><span class="line">  server 192.168.25.140:8083 down;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  listen  [::]:80;</span><br><span class="line">  server_name localhost;</span><br><span class="line"></span><br><span class="line">  location / &#123;</span><br><span class="line">    proxy_pass http://my-server/;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ÂÖ≠„ÄÅNginxÂä®ÈùôÂàÜÁ¶ª„ÄêÈáçÁÇπ„Äë"><a href="#ÂÖ≠„ÄÅNginxÂä®ÈùôÂàÜÁ¶ª„ÄêÈáçÁÇπ„Äë" class="headerlink" title="ÂÖ≠„ÄÅNginxÂä®ÈùôÂàÜÁ¶ª„ÄêÈáçÁÇπ„Äë"></a>ÂÖ≠„ÄÅNginxÂä®ÈùôÂàÜÁ¶ª„Äê<code>ÈáçÁÇπ</code>„Äë</h3><hr><blockquote><p>NginxÁöÑÂπ∂ÂèëËÉΩÂäõÂÖ¨ÂºèÔºö</p><p>worker_processes * worker_connections &#x2F; 4 | 2 &#x3D; NginxÊúÄÁªàÁöÑÂπ∂ÂèëËÉΩÂäõ</p><p>Âä®ÊÄÅËµÑÊ∫êÈúÄË¶Å&#x2F;4ÔºåÈùôÊÄÅËµÑÊ∫êÈúÄË¶Å&#x2F;2.</p><p>NginxÈÄöËøáÂä®ÈùôÂàÜÁ¶ªÔºåÊù•ÊèêÂçáNginxÁöÑÂπ∂ÂèëËÉΩÂäõÔºåÊõ¥Âø´ÁöÑÁªôÁî®Êà∑ÂìçÂ∫î„ÄÇ</p></blockquote><h4 id="6-1-Âä®ÊÄÅËµÑÊ∫ê‰ª£ÁêÜ"><a href="#6-1-Âä®ÊÄÅËµÑÊ∫ê‰ª£ÁêÜ" class="headerlink" title="6.1 Âä®ÊÄÅËµÑÊ∫ê‰ª£ÁêÜ"></a>6.1 Âä®ÊÄÅËµÑÊ∫ê‰ª£ÁêÜ</h4><blockquote><p>‰ΩøÁî®proxy_passÂä®ÊÄÅ‰ª£ÁêÜ</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÖçÁΩÆÂ¶Ç‰∏ã</span></span><br><span class="line">location / &#123;</span><br><span class="line">  proxy_pass Ë∑ØÂæÑ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-2-ÈùôÊÄÅËµÑÊ∫ê‰ª£ÁêÜ"><a href="#6-2-ÈùôÊÄÅËµÑÊ∫ê‰ª£ÁêÜ" class="headerlink" title="6.2 ÈùôÊÄÅËµÑÊ∫ê‰ª£ÁêÜ"></a>6.2 ÈùôÊÄÅËµÑÊ∫ê‰ª£ÁêÜ</h4><blockquote><p>‰ΩøÁî®rootÈùôÊÄÅ‰ª£ÁêÜ</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÖçÁΩÆÂ¶Ç‰∏ã</span></span><br><span class="line">location / &#123;</span><br><span class="line">  root ÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑ;</span><br><span class="line">  index ÈªòËÆ§ËÆøÈóÆË∑ØÂæÑ‰∏ãÁöÑ‰ªÄ‰πàËµÑÊ∫ê;</span><br><span class="line">  autoindex on; <span class="comment"># ‰ª£Ë°®Â±ïÁ§∫ÈùôÊÄÅËµÑÊ∫êÂÖ®ÁöÑÂÖ®ÈÉ®ÂÜÖÂÆπÔºå‰ª•ÂàóË°®ÁöÑÂΩ¢ÂºèÂ±ïÂºÄ„ÄÇ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ÂÖà‰øÆÊîπdockerÔºåÊ∑ªÂä†‰∏Ä‰∏™Êï∞ÊçÆÂç∑ÔºåÊò†Â∞ÑÂà∞NginxÊúçÂä°Âô®ÁöÑ‰∏Ä‰∏™ÁõÆÂΩï</span></span><br><span class="line"><span class="comment"># Ê∑ªÂä†‰∫Üindex.htmlÂíå1.jpgÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line"><span class="comment"># ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost docker_nginx]<span class="comment"># ls</span></span><br><span class="line">conf.d  docker-compose.yml</span><br><span class="line">[root@localhost docker_nginx]<span class="comment"># vim docker-compose.yml </span></span><br></pre></td></tr></table></figure><blockquote><p>‰øÆÊîπdocker-compose.yml‰∏∫Â¶Ç‰∏ãÂÜÖÂÆπÔºö</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">version: <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line">services:</span><br><span class="line">  nginx:</span><br><span class="line">    restart: always</span><br><span class="line">    image: daocloud.io/library/nginx:latest</span><br><span class="line">    container_name: nginx</span><br><span class="line">    ports:</span><br><span class="line">      - 80:80</span><br><span class="line">    volumes:</span><br><span class="line">      - /opt/docker_nginx/conf.d/:/etc/nginx/conf.d</span><br><span class="line">      - /opt/docker_nginx/img/:/data/img</span><br><span class="line">      - /opt/docker_nginx/html/:/data/html</span><br></pre></td></tr></table></figure><blockquote><p>ÈáçÂêØÂÜçÊü•ÁúãÔºåÁõÆÂΩïÂ∑≤ÁªèÂàõÂª∫</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost docker_nginx]<span class="comment"># docker-compose down</span></span><br><span class="line">Stopping nginx ... <span class="keyword">done</span></span><br><span class="line">Removing nginx ... <span class="keyword">done</span></span><br><span class="line">Removing network docker_nginx_default</span><br><span class="line">[root@localhost docker_nginx]<span class="comment"># docker-compose up -d</span></span><br><span class="line">Creating network <span class="string">&quot;docker_nginx_default&quot;</span> with the default driver</span><br><span class="line">Creating nginx ... <span class="keyword">done</span></span><br><span class="line">[root@localhost docker_nginx]<span class="comment"># ls</span></span><br><span class="line">conf.d  docker-compose.yml  html  img</span><br></pre></td></tr></table></figure><blockquote><p>ÂàÜÂà´Âú® html ‰ª•Âèä img ÁõÆÂΩï‰∏≠Êã∑Ë¥ùÂØπÂ∫îÁöÑ html È°µÈù¢ÂíåÂõæÁâáÂç≥ÂèØÔºåÁÑ∂Âêé‰øÆÊîπ Nginx ÁöÑ default.conf ÈÖçÁΩÆÊñá‰ª∂</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  listen  [::]:80;</span><br><span class="line">  server_name localhost;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ‰ª£ÁêÜÂà∞htmlÁöÑÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line">  location /html &#123;</span><br><span class="line">    root /data;   <span class="comment">#Áî±‰∫élocationÂêéÈù¢ÂÜôÁöÑÊòØ/htmlÔºåÊâÄ‰ª•rootÂêéÁöÑË∑ØÂæÑÂ∞±‰∏çÁî®ÂÜôÊàê/data/htmlÔºå/html‰ºöÈªòËÆ§ÊîæÂú®/dataÂêéÈù¢</span></span><br><span class="line">    index student.html;<span class="comment">#ÈªòËÆ§ËÆøÈóÆstudent.html</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment"># ‰ª£ÁêÜÂà∞imgÁöÑÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line">  location /img &#123;</span><br><span class="line">    root /data;</span><br><span class="line">    autoindex on;<span class="comment">#‰ª•ÂàóË°®ÁöÑÂΩ¢ÂºèÂ±ïÂºÄ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost docker_nginx]<span class="comment"># cd conf.d/</span></span><br><span class="line">[root@localhost conf.d]<span class="comment"># vim default.conf </span></span><br><span class="line">[root@localhost conf.d]<span class="comment"># cd ..</span></span><br><span class="line">[root@localhost docker_nginx]<span class="comment"># docker-compose restart</span></span><br><span class="line">Restarting nginx ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><blockquote><p>ÊµèËßàÂô®ÂàÜÂà´ËÆøÈóÆ‰ª•‰∏ãÂú∞ÂùÄËøõË°åÊµãËØïÔºö</p><p>‚Äã<a href="http://39.98.132.196/html/">http://39.98.132.196/html/</a> ÔºàÊü•Áúã‰πãÂâçÊã∑Ë¥ùÁöÑstudent.htmlÈ°µÈù¢Ôºâ</p><p>‚Äã<a href="http://39.98.132.196/img/2.jpg">http://39.98.132.196/img/2.jpg</a> ÔºàÊ≥®Ôºö2.jpgÊòØÊã∑Ë¥ùÁöÑÂõæÁâáÂêçÁß∞Ôºâ</p><p>‚Äã<a href="http://39.98.132.196/img/">http://39.98.132.196/img/</a> ÔºàÊ≥®ÔºöÂèØ‰ª•ÁúãÂà∞ÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâÊñá‰ª∂Ôºâ</p></blockquote><h3 id="‰∏É„ÄÅNginxÈõÜÁæ§"><a href="#‰∏É„ÄÅNginxÈõÜÁæ§" class="headerlink" title="‰∏É„ÄÅNginxÈõÜÁæ§"></a>‰∏É„ÄÅNginxÈõÜÁæ§</h3><hr><blockquote><p>ÂçïÁÇπÊïÖÈöúÔºåÈÅøÂÖçnginxÁöÑÂÆïÊú∫ÔºåÂØºËá¥Êï¥‰∏™Á®ãÂ∫èÁöÑÂ¥©Ê∫É</p><p>ÂáÜÂ§áÂ§öÂè∞Nginx„ÄÇ</p><p>ÂáÜÂ§ákeepalivedÔºåÁõëÂê¨nginxÁöÑÂÅ•Â∫∑ÊÉÖÂÜµ„ÄÇ</p><p>ÂáÜÂ§áhaproxyÔºåÊèê‰æõ‰∏Ä‰∏™ËôöÊãüÁöÑË∑ØÂæÑÔºåÁªü‰∏ÄÁöÑÂéªÊé•Êî∂Áî®Êà∑ÂæóËØ∑Ê±Ç„ÄÇ</p></blockquote><table><thead><tr><th align="center">NginxÈõÜÁæ§</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071025764.png" alt="1588755548570"></td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;hr&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;‰∏Ä„ÄÅÂºïË®Ä&quot;&gt;&lt;a href=&quot;#‰∏Ä„ÄÅÂºïË®Ä&quot; class=&quot;headerlink&quot; title=&quot;‰∏Ä„ÄÅÂºïË®Ä&quot;&gt;&lt;/a&gt;‰∏Ä„ÄÅÂºïË®Ä&lt;/h3&gt;&lt;hr&gt;
&lt;h4 id=&quot;1-1-‰ª£ÁêÜÈóÆÈ¢ò&quot;&gt;&lt;a href=&quot;#1-1-‰ª£ÁêÜÈóÆÈ¢ò&quot; class=&quot;headerlink&quot; title=&quot;1.1 ‰ª£ÁêÜÈóÆÈ¢ò&quot;&gt;&lt;/a&gt;1.1 ‰ª£ÁêÜÈóÆÈ¢ò&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;ÂÆ¢Êà∑Á´ØÂà∞Â∫ïË¶ÅÂ∞ÜËØ∑Ê±ÇÂèëÈÄÅÁªôÂì™Âè∞ÊúçÂä°Âô®„ÄÇ&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="ÂêéÁ´ØÂ≠¶‰π†" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="java" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/java/"/>
    
    
    <category term="Nginx" scheme="http://example.com/tags/Nginx/"/>
    
  </entry>
  
  <entry>
    <title>ÂÖ≥‰∫éWindows‰∏Ä‰∫õÂ∏∏Áî®Command</title>
    <link href="http://example.com/2023/03/29/%E5%85%B3%E4%BA%8EWindows%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8Command/"/>
    <id>http://example.com/2023/03/29/%E5%85%B3%E4%BA%8EWindows%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8Command/</id>
    <published>2023-03-29T09:58:50.000Z</published>
    <updated>2023-03-30T12:42:26.322Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂"><a href="#ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂" class="headerlink" title="ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂"></a>ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂</h3><ul><li>ÂÖ≥Êú∫Ôºö<code>shutdown /s</code></li><li>ÈáçÂêØÔºö<code>shutdown /r</code></li><li>Ê≥®ÈîÄÔºö<code>shutdown /l</code></li><li>‰ºëÁú†Ôºö<code>shutdown /h /f</code></li><li>ÂèñÊ∂àÂÖ≥Êú∫Ôºö<code>shutdown /a</code></li><li>ÂÆöÊó∂ÂÖ≥Êú∫Ôºö<code>shutdown /s /t 3600</code>Ôºà3600 ÁßíÂêéÂÖ≥Êú∫Ôºâ<span id="more"></span></li></ul><h3 id="ÁõÆÂΩïÊìç‰Ωú"><a href="#ÁõÆÂΩïÊìç‰Ωú" class="headerlink" title="ÁõÆÂΩïÊìç‰Ωú"></a>ÁõÆÂΩïÊìç‰Ωú</h3><p><strong>ÂàáÊç¢ÁõÆÂΩïÔºåËøõÂÖ•ÊåáÂÆöÊñá‰ª∂Â§πÔºö</strong></p><ul><li>ÂàáÊç¢Á£ÅÁõòÔºö<code>d:</code>ÔºàËøõÂÖ• d ÁõòÔºâ</li><li>ÂàáÊç¢Á£ÅÁõòÂíåÁõÆÂΩïÔºö<code>cd /d d:/test</code>ÔºàËøõÂÖ• <code>d</code> Áõò <code>test</code> Êñá‰ª∂Â§πÔºâ</li><li>ËøõÂÖ•Êñá‰ª∂Â§πÔºö<code>cd \test1\test2</code>ÔºàËøõÂÖ• <code>test2</code> Êñá‰ª∂Â§πÔºâ</li><li>ËøîÂõûÊ†πÁõÆÂΩïÔºö<code>cd \</code></li><li>ÂõûÂà∞‰∏äÁ∫ßÁõÆÂΩïÔºö<code>cd ..</code></li><li>Êñ∞Âª∫Êñá‰ª∂Â§πÔºö<code>md test</code></li></ul><p><strong>ÊòæÁ§∫ÁõÆÂΩïÂÜÖÂÆπÔºö</strong></p><ul><li>ÊòæÁ§∫ÁõÆÂΩï‰∏≠Êñá‰ª∂ÂàóË°®Ôºö<code>dir</code></li><li>ÊòæÁ§∫ÁõÆÂΩïÁªìÊûÑÔºö<code>tree d:\test</code>Ôºàd Áõò test ÁõÆÂΩïÔºâ</li><li>ÊòæÁ§∫ÂΩìÂâçÁõÆÂΩï‰ΩçÁΩÆÔºö<code>cd</code></li><li>ÊòæÁ§∫ÊåáÂÆöÁ£ÅÁõòÁöÑÂΩìÂâçÁõÆÂΩï‰ΩçÁΩÆÔºö<code>cd d:</code></li></ul><h3 id="ÁΩëÁªúÊìç‰Ωú"><a href="#ÁΩëÁªúÊìç‰Ωú" class="headerlink" title="ÁΩëÁªúÊìç‰Ωú"></a><strong>ÁΩëÁªúÊìç‰Ωú</strong></h3><ul><li>Âª∂ËøüÂíå‰∏¢ÂåÖÁéáÔºö<code>ping ip/ÂüüÂêç</code></li><li>Ping ÊµãËØï 5 Ê¨°Ôºö<code>ping ip/ÂüüÂêç -n 5</code></li><li>Ê∏ÖÈô§Êú¨Âú∞ DNS ÁºìÂ≠òÔºö<code>ipconfig /flushdns</code></li><li>Ë∑ØÁî±ËøΩË∏™Ôºö<code>tracert ip/ÂüüÂêç</code></li></ul><h3 id="ËøõÁ®ã-x2F-ÊúçÂä°Êìç‰Ωú"><a href="#ËøõÁ®ã-x2F-ÊúçÂä°Êìç‰Ωú" class="headerlink" title="ËøõÁ®ã&#x2F;ÊúçÂä°Êìç‰Ωú"></a><strong>ËøõÁ®ã&#x2F;ÊúçÂä°Êìç‰Ωú</strong></h3><p><strong>ËøõÁ®ãÁÆ°ÁêÜÔºö</strong></p><ul><li>ÊòæÁ§∫ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑËøõÁ®ãÔºö<code>tasklist</code></li><li>ËøêË°åÁ®ãÂ∫èÊàñÂëΩ‰ª§Ôºö<code>start Á®ãÂ∫èÂêç</code></li><li>ÁªìÊùüËøõÁ®ãÔºåÊåâÂêçÁß∞Ôºö<code>taskkill /im notepad.exe</code>ÔºàÂÖ≥Èó≠ËÆ∞‰∫ãÊú¨Ôºâ</li><li>ÁªìÊùüËøõÁ®ãÔºåÊåâ PIDÔºö<code>taskkill /pid 1234</code>ÔºàÂÖ≥Èó≠ PID ‰∏∫ 1234 ÁöÑËøõÁ®ãÔºâ</li></ul><p><strong>ÊúçÂä°ÁÆ°ÁêÜÔºö</strong></p><ul><li>ÊòæÁ§∫ÂΩìÂâçÊ≠£Âú®ËøêË°åÁöÑÊúçÂä°Ôºö<code>net start</code></li><li>ÂêØÂä®ÊåáÂÆöÊúçÂä°Ôºö<code>net start ÊúçÂä°Âêç</code></li><li>ÂÅúÊ≠¢ÊåáÂÆöÊúçÂä°Ôºö<code>net stop ÊúçÂä°Âêç</code></li></ul><h3 id="‰øùÂ≠ò‰∏∫-bat-ÂèØÊâßË°åÊñá‰ª∂"><a href="#‰øùÂ≠ò‰∏∫-bat-ÂèØÊâßË°åÊñá‰ª∂" class="headerlink" title="‰øùÂ≠ò‰∏∫ .bat ÂèØÊâßË°åÊñá‰ª∂"></a>‰øùÂ≠ò‰∏∫ .bat ÂèØÊâßË°åÊñá‰ª∂</h3><p>Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂ∏∏Áî®ÁöÑÂëΩ‰ª§ËæìÂÖ•ËÆ∞‰∫ãÊú¨‰∏≠ÔºåÂπ∂‰øùÂ≠ò‰∏∫ÂêéÁºÄ‰∏∫ <code>.bat</code> ÁöÑÂèØÊâßË°åÊñá‰ª∂„ÄÇ</p><p>‰ª•ÂêéÂè™Ë¶ÅÂèåÂáªËØ•Êñá‰ª∂Âç≥ÂèØÊâßË°åÊåáÂÆöÂëΩ‰ª§ÔºõÂ∞ÜÊñá‰ª∂ÊîæÂÖ•Á≥ªÁªü„ÄêÂêØÂä®„ÄëÁõÆÂΩï‰∏≠ÔºåÂèØ‰ª•ÂÆûÁé∞ÂºÄÊú∫Ëá™Âä®ËøêË°å„ÄÇ</p><h3 id="‰ΩøÁî®ÁöÑÊ°à‰æã"><a href="#‰ΩøÁî®ÁöÑÊ°à‰æã" class="headerlink" title="‰ΩøÁî®ÁöÑÊ°à‰æã"></a>‰ΩøÁî®ÁöÑÊ°à‰æã</h3><p><strong>‰ΩøÁî®Á§∫‰æã 1Ôºö</strong></p><p>Âú®ËµÑÊ∫êÁÆ°ÁêÜÂô®Âç°Ê≠ªÊó∂ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® <code>taskkill</code> ÂëΩ‰ª§ÈáçÂêØ„ÄÇÂ∞Ü‰∏ãÈù¢ÂëΩ‰ª§‰øùÂ≠ò‰∏∫ <code>ReExplorer.bat</code>ÔºåÂú®ÈúÄË¶ÅÊó∂ÂèåÂáªÂç≥ÂèØÂº∫Âà∂ÈáçÂêØËµÑÊ∫êÁÆ°ÁêÜÂô®„ÄÇÊàñÁõ¥Êé•ÊâìÂºÄ CMD ËøêË°åÂëΩ‰ª§‰πüÂèØ‰ª•„ÄÇ</p><p>text</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">01taskkill /f /im explorer.exe &amp; start explorer.exe</span><br></pre></td></tr></table></figure><p><strong>‰ΩøÁî®Á§∫‰æã 2Ôºö</strong></p><p>ËøÖÈõ∑‰ºöÂú®ÂêéÂè∞Ëá™Âä®ËøêË°å <code>ThunderPlatform.exe</code> ËøõÁ®ãÂíå <code>XLServicePlatform</code> ÊúçÂä°ÔºåÂ¶ÇÊûúÂΩìÂâçÊ≤°Êúâ‰ΩøÁî®ËøÖÈõ∑ÁöÑËØùÊòæÁÑ∂Ê≤°ÂøÖË¶Å„ÄÇ</p><p>Êàë‰ª¨ÂèØ‰ª•Â∞ÜÂ¶Ç‰∏ã‰ª£Á†Å‰øùÂ≠ò‰∏∫ <code>killxl.bat</code>ÔºåÂπ∂ÊîæÂÖ•„ÄêÂêØÂä®„ÄëÁõÆÂΩïÔºåÂºÄÊú∫Âêé‰ºöËá™Âä®ËøêË°åËØ•ËÑöÊú¨ÔºåÊ∏ÖÈô§Ëøô‰∏§‰∏™ËøõÁ®ã„ÄÇ</p><p>text</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0102net stop XLServicePlatform</span><br><span class="line">taskkill /F /im ThunderPlatform.exe</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂&quot;&gt;&lt;a href=&quot;#ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂&quot; class=&quot;headerlink&quot; title=&quot;ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂&quot;&gt;&lt;/a&gt;ÂÖ≥Êú∫„ÄÅÈáçÂêØ„ÄÅÊ≥®ÈîÄ„ÄÅ‰ºëÁú†„ÄÅÂÆöÊó∂&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ÂÖ≥Êú∫Ôºö&lt;code&gt;shutdown /s&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ÈáçÂêØÔºö&lt;code&gt;shutdown /r&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Ê≥®ÈîÄÔºö&lt;code&gt;shutdown /l&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;‰ºëÁú†Ôºö&lt;code&gt;shutdown /h /f&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ÂèñÊ∂àÂÖ≥Êú∫Ôºö&lt;code&gt;shutdown /a&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ÂÆöÊó∂ÂÖ≥Êú∫Ôºö&lt;code&gt;shutdown /s /t 3600&lt;/code&gt;Ôºà3600 ÁßíÂêéÂÖ≥Êú∫Ôºâ</summary>
    
    
    
    <category term="Windows" scheme="http://example.com/categories/Windows/"/>
    
    
    <category term="Windows Command" scheme="http://example.com/tags/Windows-Command/"/>
    
  </entry>
  
  <entry>
    <title>ÂÖ≥‰∫éRiderÂºïÂÖ•nugetÊó†Ê≥ïÂä†ËΩΩÂåÖ‰æùËµñËß£ÊñπÂºè</title>
    <link href="http://example.com/2022/11/22/%E5%85%B3%E4%BA%8ERider%E5%BC%95%E5%85%A5nuget%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E5%8C%85%E4%BE%9D%E8%B5%96%E8%A7%A3%E6%96%B9%E5%BC%8F/"/>
    <id>http://example.com/2022/11/22/%E5%85%B3%E4%BA%8ERider%E5%BC%95%E5%85%A5nuget%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD%E5%8C%85%E4%BE%9D%E8%B5%96%E8%A7%A3%E6%96%B9%E5%BC%8F/</id>
    <published>2022-11-22T12:09:29.000Z</published>
    <updated>2023-04-01T00:31:40.161Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Ëøô‰∏™ÈóÆÈ¢òÂ∑≤ÁªèÊòØÂõ∞Êâ∞Êàë‰∏âÂ§©‰∫ÜÔºåÂõ†‰∏∫<code>C#</code>‰ΩøÁî®<code>ride</code>rÂºÄÂèëÁöÑ‰∫∫Áõ∏ÂØπËæÉÂ∞ëÔºå‰πüÂèØËÉΩÊòØÊàëËá™Ë∫´ÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢òÊØîËæÉÁâπÊÆäÔºåÁªà‰∫éÊâæÂà∞‰∫Ü<code>nuget</code>Êó†Ê≥ïÂºïÂÖ•ÂåÖÁöÑËß£ÂÜ≥ÊñπÊ°à</p></blockquote><span id="more"></span><p>È¶ñÂÖàÁúãÂõæÔºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211220823203.png" alt="image-20221122082335814"></p><p>ÊàëÂú®<code>Nuget</code>‰∏ãÈù¢Êü•Êâæ<code>Nunit</code>ÊµãËØïÂåÖ‰∏ãÈù¢ÈÉΩÊ≤°ÊúâÂä†ËΩΩÂá∫Êù•ÔºåÂÖ∂‰ªñÁöÑÂåÖ‰πüÊòØÂä†ËΩΩ‰∏çÂá∫Êù•Ôºå‰∏ãÈù¢‰∏ÄÁõ¥ÊòæÁ§∫ÁöÑÂåÖÈáçÁΩÆÔºå‰ΩÜÊòØÊàëÊòØÈªòËÆ§‰∏ãËΩΩ‰∏ãÊù•ÁöÑÔºå‰ªÄ‰πà‰πüÊ≤°Êúâ‰øÆÊîπÔºåÁÑ∂ÂêéÊàëÂ∞±ÁÇπÂºÄ‰∫Ü<code>nuget.config</code>Ëøô‰∏™ÈÖçÁΩÆÊñá‰ª∂</p><p>Âõæ‰∏≠‰πüÊúâÔºåÊàëÂú®ÁΩë‰∏ä‰πüÊ≤°ÊúâÊâæÂà∞Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆËØ¥ÊòéÔºåÂΩìÊó∂‰πüÊ≤°ÊúâÊÉ≥Âà∞ÂéªÂæÆËΩØÂÆòÁΩëÂéªÁúãÔºåÂõ†‰∏∫ÂÆòÁΩëËÆ≤ÁöÑÂü∫Êú¨ÈÉΩÊòØÂÖ≥‰∫éVSÁöÑÈÖçÁΩÆ„ÄÇ</p><p>Âú®ÈªòËÆ§ÈÖçÁΩÆ‰∏≠Ôºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211220828462.png" alt="image-20221122082848339"></p><p>source‰∏≠ÈªòËÆ§ÁöÑfeedsËøûÊé•ÈÉΩÊòØÁ©∫ÁöÑÔºåÈóÆÈ¢òÂ∞±ÊòØÂá∫Âú®Êàë‰∏äÈù¢Ê†áÊ≥®Âá∫Êù•ÁöÑÂåÖÁöÑ‰∏ãËΩΩÂú∞ÂùÄ„ÄÇ</p><p>Áªô‰∏ãÈù¢‰ªéÂæÆËΩØÂÆòÊñπÊâæÂà∞ÁöÑÈÖçÁΩÆÂú∞ÂùÄÔºåÂ§çÂà∂Âà∞<code>nuget.config</code>ÈÖçÁΩÆÊñá‰ª∂‰∏≠</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- defaultPushSource key works like the &#x27;defaultPushSource&#x27; key of NuGet.Config files. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- This can be used by administrators to prevent accidental publishing of packages to nuget.org. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;defaultPushSource&quot;</span> <span class="attr">value</span>=<span class="string">&quot;https://contoso.com/packages/&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">config</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Default Package Sources; works like the &#x27;packageSources&#x27; section of NuGet.Config files. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- This collection cannot be deleted or modified but can be disabled/enabled by users. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packageSources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;Contoso Package Source&quot;</span> <span class="attr">value</span>=<span class="string">&quot;https://contoso.com/packages/&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;nuget.org&quot;</span> <span class="attr">value</span>=<span class="string">&quot;https://api.nuget.org/v3/index.json&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">packageSources</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Default Package Sources that are disabled by default. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Works like the &#x27;disabledPackageSources&#x27; section of NuGet.Config files. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Sources cannot be modified or deleted either but can be enabled/disabled by users. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">disabledPackageSources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;nuget.org&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">disabledPackageSources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Ë¶ÅÁªôËøô‰∫õenableÈÉΩÂãæÈÄâ‰∏ä</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211220833403.png" alt="image-20221122083314091"></p><p>ÁÑ∂ÂêéÂè≥ËæπÁöÑÂà∑Êñ∞ÊåâÈíÆÁÇπ‰∏Ä‰∏ãÔºåÊàñËÄÖÂéªÂà∞ËÆæÁΩÆÈáåÈù¢ÊâæÂà∞</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211220834175.png" alt="image-20221122083437031"></p><p>ËøôÊó∂ÂÄô‰ª£Ë°®Â∑≤ÁªèÊ∑ªÂä†ÊàêÂäü„ÄÇ</p><p>ÂõûÂà∞<code>nuget</code>‰ª•Âêé,<code>packages</code>ÊêúÁ¥¢Ê°ÜËøôÊó∂ÂÄôÂ∑≤ÁªèÂä†ËΩΩÂá∫Êù•ÂåÖ‰∫ÜÔºå‰∏ãÂõæÊâÄÁ§∫Ôºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211220836706.png" alt="image-20221122083626412"></p><p>ËøôÊó∂ÂÄôËØ¥ÊòéÂ∑≤ÁªèÊàêÂäüÔºÅÔºÅÔºÅ</p><blockquote><p>Êú¨Ê¨°ÁâàÊú¨ÊòØ<code>.net6,riderÁâàÊú¨ÊòØ2021.3.4</code>ÔºåÊúÄÊñ∞Áâà2022ÁâàÊú¨Â∫îËØ•‰πüÊòØÂèØ‰ª•ËøôÊ†∑‰øÆÊîπÔºåÂ¶ÇÊûúËÉΩÁõ¥Êé•Âä†ËΩΩÂá∫Êù•Â∞±Êõ¥Â•ΩÔºåÊó†Ê≥ïÂä†ËΩΩÂèØ‰ª•Â∞ùËØï‰øÆÊîπ~</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Ëøô‰∏™ÈóÆÈ¢òÂ∑≤ÁªèÊòØÂõ∞Êâ∞Êàë‰∏âÂ§©‰∫ÜÔºåÂõ†‰∏∫&lt;code&gt;C#&lt;/code&gt;‰ΩøÁî®&lt;code&gt;ride&lt;/code&gt;rÂºÄÂèëÁöÑ‰∫∫Áõ∏ÂØπËæÉÂ∞ëÔºå‰πüÂèØËÉΩÊòØÊàëËá™Ë∫´ÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢òÊØîËæÉÁâπÊÆäÔºåÁªà‰∫éÊâæÂà∞‰∫Ü&lt;code&gt;nuget&lt;/code&gt;Êó†Ê≥ïÂºïÂÖ•ÂåÖÁöÑËß£ÂÜ≥ÊñπÊ°à&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="C#" scheme="http://example.com/categories/C/"/>
    
    <category term="ÂêéÁ´ØÂ≠¶‰π†" scheme="http://example.com/categories/C/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="C#" scheme="http://example.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>ÊúçÂä°Âô®Ôºà‰∏ÄÔºâ</title>
    <link href="http://example.com/2022/10/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>http://example.com/2022/10/07/%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2022-10-07T03:57:52.000Z</published>
    <updated>2023-04-01T09:19:04.758Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞"><a href="#1-ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞" class="headerlink" title="1.ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞"></a>1.ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞</h3><h4 id="1-‰ªÄ‰πàÊòØÊúçÂä°Âô®"><a href="#1-‰ªÄ‰πàÊòØÊúçÂä°Âô®" class="headerlink" title="1.‰ªÄ‰πàÊòØÊúçÂä°Âô®"></a>1.‰ªÄ‰πàÊòØÊúçÂä°Âô®</h4><blockquote><p>ÊúçÂä°Âô®ÊòØËÆ°ÁÆóÊú∫ÁöÑ‰∏ÄÁßçÔºåÂÆÉÊØîÊôÆÈÄöËÆ°ÁÆóÊú∫ËøêË°åÊõ¥Âø´„ÄÅË¥üËΩΩÊõ¥È´ò„ÄÅ‰ª∑Ê†ºÊõ¥Ë¥µ„ÄÇÊúçÂä°Âô®Âú®ÁΩëÁªú‰∏≠‰∏∫ÂÖ∂ÂÆÉÂÆ¢Êà∑Êú∫ÔºàÂ¶ÇPCÊú∫„ÄÅÊô∫ËÉΩÊâãÊú∫„ÄÅATMÁ≠âÁªàÁ´ØÁîöËá≥ÊòØÁÅ´ËΩ¶Á≥ªÁªüÁ≠âÂ§ßÂûãËÆæÂ§áÔºâÊèê‰æõËÆ°ÁÆóÊàñËÄÖÂ∫îÁî®ÊúçÂä°„ÄÇÊúçÂä°Âô®ÂÖ∑ÊúâÈ´òÈÄüÁöÑCPUËøêÁÆóËÉΩÂäõ„ÄÅÈïøÊó∂Èó¥ÁöÑÂèØÈù†ËøêË°å„ÄÅÂº∫Â§ßÁöÑV&#x2F;OÂ§ñÈÉ®Êï∞ÊçÆÂêûÂêêËÉΩÂäõ‰ª•ÂèäÊõ¥Â•ΩÁöÑÊâ©Â±ïÊÄß„ÄÇÊ†πÊçÆÊúçÂä°Âô®ÊâÄÊèê‰æõÁöÑÊúçÂä°Ôºå‰∏ÄËà¨Êù•ËØ¥ÊúçÂä°Âô®ÈÉΩÂÖ∑Â§áÊâøÊãÖÂìçÂ∫îÊúçÂä°ËØ∑Ê±Ç„ÄÅÊâøÊãÖÊúçÂä°„ÄÅ‰øùÈöúÊúçÂä°ÁöÑËÉΩÂäõ„ÄÇÊúçÂä°Âô®‰Ωú‰∏∫ÁîµÂ≠êËÆæÂ§áÔºåÂÖ∂ÂÜÖÈÉ®ÁöÑÁªìÊûÑÂçÅÂàÜÁöÑÂ§çÊùÇÔºå‰ΩÜ‰∏éÊôÆÈÄöÁöÑËÆ°ÁÆóÊú∫ÂÜÖÈÉ®ÁªìÊûÑÁõ∏Â∑Æ‰∏çÂ§ßÔºåÂ¶ÇÔºöcpu„ÄÅÁ°¨Áõò„ÄÅÂÜÖÂ≠òÔºåÁ≥ªÁªü„ÄÅÁ≥ªÁªüÊÄªÁ∫øÁ≠â„ÄÇ</p></blockquote><span id="more"></span><h3 id="2-ÊúçÂä°Âô®ÁöÑ‰ΩúÁî®"><a href="#2-ÊúçÂä°Âô®ÁöÑ‰ΩúÁî®" class="headerlink" title="2.ÊúçÂä°Âô®ÁöÑ‰ΩúÁî®"></a>2.ÊúçÂä°Âô®ÁöÑ‰ΩúÁî®</h3><blockquote><p>ÈÄö‰øóÁöÑËØ¥ÔºåÊúçÂä°Âô®‰∏ªË¶ÅÊòØÁî®Êù•ÂìçÂ∫îÁªàÁ´ØÁöÑÊúçÂä°ËØ∑Ê±ÇÔºöÂπ∂ËøõË°åÂ§ÑÁêÜÔºåÊàë‰ª¨Âú®‰∏äÁΩëÁöÑÊó∂ÂÄôÊòØ‰∏çÂèØËÉΩÁõ¥Êé•Â∞ÜÁΩëÂÆ¢Êé•‰∫∫‰∫íËÅîÁΩëÁöÑÔºåÊàë‰ª¨ÈÉΩÈúÄË¶ÅÈÄöËøáÊúçÂä°Âô®Á±≥ËøûÊé•ÁΩëÁªúÔºåÁúüÊúâÊúçÂä°Âô®ÂìçÂ∫î‰Ω†ÁöÑËÅîÁΩëËØ∑Ê±ÇÔºåÂπ∂‰∏îËøõË°åÂ§ÑÁêÜ‰ª•ÂêéÊâçÂèØ‰ª•ËÅîÁΩëÔºöÂ≠òÂÇ®ÁöÑÂäüËÉΩÔºåÊúçÂä°Âô®ÁöÑÂ≠òÂÇ®Á©∫Èó¥‰∏ÄËà¨ÊØîËæÉÂÖÖË∂≥ÔºåÂèØ‰ª•Â≠òÂÇ®ÈùûÂ∏∏Â§öÁöÑ‰ø°ÊÅØ„ÄÇ</p></blockquote><h3 id="3-ÊúçÂä°Âô®ÁöÑÂàÜÁ±ª"><a href="#3-ÊúçÂä°Âô®ÁöÑÂàÜÁ±ª" class="headerlink" title="3.ÊúçÂä°Âô®ÁöÑÂàÜÁ±ª"></a>3.ÊúçÂä°Âô®ÁöÑÂàÜÁ±ª</h3><h5 id="3-1-ÊåâÁâ©ÁêÜÂΩ¢ÊÄÅÔºö"><a href="#3-1-ÊåâÁâ©ÁêÜÂΩ¢ÊÄÅÔºö" class="headerlink" title="3.1 ÊåâÁâ©ÁêÜÂΩ¢ÊÄÅÔºö"></a>3.1 <strong>ÊåâÁâ©ÁêÜÂΩ¢ÊÄÅÔºö</strong></h5><p><strong>ÊúçÂä°Âô®Ôºö</strong>ÊúçÂä°Âô®ÂèØ‰ª•ÁêÜËß£‰∏∫ÊîæÂú®ËøúÁ®ãÊú∫ÊàøÁöÑÁã¨Á´ãËÆ°ÁÆóÊú∫ÔºåÂíåÊàë‰ª¨ÊâÄÁî®ÁöÑÂè∞ÂºèÊú∫ÔºàÊ≤°ÊúâÊòæÁ§∫Âô®„ÄÅÈîÆÂæÆ„ÄÅÈº†Ê†áÔºâÈô§‰∫ÜÂ§ñËßÇÂíåÈÖçÁΩÆÂ§ñÔºåÂäüËÉΩ‰∏äÊ≤°ÊúâÂ∑ÆÂºÇÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáËøúÁ®ãÊéßÂà∂Ëá™Â∑±ÂÆâË£ÖÁ≥ªÁªüÂèäÂÖ∂‰ªñËΩØ‰ª∂ÔºåÂêåÊó∂ÂèØ‰ª•Ëß£ÊûêÂíåÁªëÂÆöÂüéÂêçÔºåÂπ∂ÈÄöËøáÂüéÂêçÊàñ<code>IP</code>ËÆøÈóÆÊúçÂä°Âô®‰∏äÁöÑÁΩëÁ´ô„ÄÇ</p><p><strong>ECSÊúçÂä°Âô®Ôºö</strong>‰∫ëÊúçÂä°Âô®<code>(Elastic Compute Service)</code>ÔºåÈÄöÂ∏∏Áî®Êà∑ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÈÄâÂÆö‰∏ªÊú∫ÂÆπÈáè„ÄÅ<code>CPU</code>ËÉΩÂäõ„ÄÅÂÜÖÂ≠òÂ§ßÂ∞è„ÄÅÂ∏¶ÂÆΩÂèäË¥≠‰π∞Êó∂Â∏∏Á≠âÔºåÂõ†Ê≠§‰πüÁß∞‰πã‰∏∫ÂºπÊÄßËÆ°ÁÆóÊúçÂä°Âô®Ôºå<code>ECS</code>Âú®‰ΩøÁî®‰∏äÂíåÁã¨Á´ãÁöÑÊúçÂä°Âô®Ê≤°ÊúâÂå∫Âà´Ôºå‰∏îÂèØ‰ª•ËÆ©‰ºÅ‰∏öËäÇÁúÅËá™Ë°åË¥≠‰π∞ÂíåÁª¥Êä§ÊúçÂä°Âô®Á°¨‰ª∂ÁöÑÊàêÊú¨Ôºå<code>ECS</code>Â∑≤Ë¢´‰∏≠Â∞è‰ºÅ‰∏öÂπøÊ≥õ‰ΩøÁî®„ÄÇ</p><p><strong>VPSÊúçÂä°Âô®Ôºö</strong>ËôöÊãü‰∏ìÁî®ÊúçÂä°Âô®<code>(Virtual Private Server)</code>ÔºåÂç≥Â∞Ü‰∏ÄÂè∞Áã¨Á´ãÊúçÂä°Âô®ËøéËøáËôöÊãüÊäÄÊúØÂàÜÂâ≤‰∏∫Ëã•Âπ≤‰∏™ËôïÊãüÊúçÂä°Âô®ÔºåÊØè‰∏™<code>VPS</code>ÂèØ‰ª•Áã¨Á´ãÂÆâË£ÖÁ≥ªÁªüÔºåÊã•ÊúâÁã¨Á´ãÁöÑ<code>IP</code>ÔºåÂÆûÁé∞‰∏çÂêå<code>VPS</code>Èó¥Á£ÅÁõòÁ©∫ÈóÆ„ÄÅÂÜÖÂ≠ò„ÄÅ<code>CPU</code>ËµÑÊ∫ê„ÄÅËøõÁ®ãÂíåÁ≥ªÁªüÈÖçÁΩÆÁöÑÈöîÂïÜÔºå‰∏∫Áî®Êà∑ÂíåÂ∫îÁî®Á®ãÂ∫èÊ®°ÊãüÂá∫‚ÄúÁã¨Âç†‚Äù‰ΩøÁî®ËÆ°ÁÆóËµÑÊ∫êÁöÑ‰ΩìÈ™å„ÄÇ<code>VPS</code>ÂèØ‰ª•ÂÉèÁã¨Á´ãÊúçÂä°Âô®‰∏ÄÊ†∑ÔºåÈáçË£ÖÊìç‰ΩúÁ≥ªÁªüÔºåÂÆâË£ùÁ®ãÂ∫èÔºåÂçïÁã¨ÈáçÂêØÊúçÂä°Âô®ÔºåÂΩ¢Âºè‰∏äÂíå<code>ECS</code>Ê≤°ÊúâÂå∫Âà•Ôºå‰ΩÜÊÄª‰ΩìÊÄßËÉΩÂíå‰ªòË¥πÁÅµÊ¥ªÊÄß‰∏çÂ¶Ç<code>ECS</code></p><p><strong>ËôöÊãü‰∏ªÊú∫Ôºö</strong>Âç≥Â∞Ü‰∏ÄÂè∞Â∑±ÂÆâË£ÖÊ®£‰ΩúÁ≥ªÁªüÂíåÂÆâÂÖ®Èò≤ËåÉÁöÑÊúçÂä°Âô®ÈÄöËøáÊäÄÊúØÊâãÊÆµÂàÜÂà∂‰∏∫Ëã•ÂçÉ‰∏™Áã¨Á´ãÁöÑÁ©∫Èó¥ÔºåÂàÜÈÖçÁªôÁî®Êà∑Áã¨Á´ã‰ΩøÁî®ÔºåÁî®Êà∑Âè™ÈúÄË¶Å‰∏ä‰º†ÁΩëÁ´ôÁ®ãÂ∫èÔºåËß£ÊûêÂíåÁªëÂÆöÂüüÂêçÂç≥ÂèØ‰ΩøÁî®„ÄÇËôöÊãü‰∏ªÊú∫‰∏çÂêå‰∫éÊúçÂä°Âô®ÔºåÁî®Êà∑Êó†Ê≥ïÂÆâË£ÖÊìç‰ΩúÁ≥ªÁªüÂíåÊìç‰ΩúËΩØ‰ª∂ÔºåÂè™ËÉΩËøêË°åÁΩëÁ´ôËÑöÊú¨ËØ≠Ë®Ä„ÄÅ<code>html</code>Êñá‰ª∂„ÄÅÂõæÁâáÂèäÂÖ∂‰ªñÈùôÊÄÅÊñá‰ª∂Á≠â„ÄÇËôöÊãü‰∏ªÊú∫Áõ∏ÂΩì‰∫éÁùÄÂπ≤‰∏™Áî®Êà∑‰∏ÄËµ∑ÁßüÁî®‰∏ÄÂè∞ÊúçÂä°Âô®Ôºå‰ª∑Ê†ºÂÆûÊÉ†ÔºåÁÆÄÂçïÊòìÁî®ÔºåÂõ†Ê≠§Â§ßÂ§öÊï∞‰ºÅ‰∏öÁΩëÁ´ôÈÄâÊã©‰∫ÜËôöÊãü‰∏ªÊú∫ÔºåËÄåËá™Âä©Âª∫Á´ôÂèä‰∫ëÂª∫Á´ô‰ΩøÁî®ÁöÑ‰πüÊòØËôöÊãü‰∏ªÊú∫„ÄÇ</p><h5 id="3-2-ÊåâÁâ©ÁêÜ‰ΩçÁΩÆÔºö"><a href="#3-2-ÊåâÁâ©ÁêÜ‰ΩçÁΩÆÔºö" class="headerlink" title="3.2 ÊåâÁâ©ÁêÜ‰ΩçÁΩÆÔºö"></a>3.2 ÊåâÁâ©ÁêÜ‰ΩçÁΩÆÔºö</h5><p><strong>ÂõΩÂÜÖ‰∏ªÊú∫</strong><br><strong>ÂõΩÂ§ñ‰∏ªÊú∫ÔºàÁæéÂõΩ„ÄÅÂæ∑ÂõΩÁ≠âÂú∞Âå∫ÁöÑ‰∏ªÊú∫Ôºâ</strong><br>1„ÄÅÂ§áÊ°àÊñπËÄåÔºöÂõΩÂÜÖ‰∏ªÊú∫ÂøÖÈ°ªÂ§áÊ°àÂõ†Â§ñ‰∏ªÊú∫‰∏çÈúÄË¶ÅÊèê‰∫§Â§áÊ°àËµÑÊñôÁöÑ„ÄÇ<br>2„ÄÅËÆøÈóÆÈÄüÂ∫¶ÔºöÂõΩÂÜÖ‰∏ªÊú∫ÂõΩÂÜÖËÆøÈóÆÂø´ÔºåÊµ∑Â§ñ‰∏ªÊú∫Êµ∑Â§ñËÆøÈóÆÂø´„ÄÇ<br>3„ÄÅÁ∫øË∑ØÔºöÂõΩÂÜÖ‰∏ªÊú∫ÊúâÁ∫øË∑ØÈôêÂà∂ÔºåÊµ∑Â§ñ‰∏ªÊú∫Ê≤°ÊúâÔºåÂõ†ÂÜÖ‰∏ªÊú∫Á∫øË∑Ø‰ª•ËÅîÈÄöÂíåÁîµ‰ø°‰∏∫‰∏ªÔºåÁõ∏ÂêåÁöÑÁ∫øË∑ØËÆøÈóÆ‰∏çÂ≠òÂú®ÈÄüÂ∫¶ÈôêÂà∂Ôºå‰ΩÜÁõ∏‰∫íËÆøÈóÆÂ∞±ÊúâÁÇπÈóÆÈ¢ò‰∫Ü</p><h3 id="4-ÊúçÂä°Âô®ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ÊåáÊ†á"><a href="#4-ÊúçÂä°Âô®ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ÊåáÊ†á" class="headerlink" title="4.ÊúçÂä°Âô®ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ÊåáÊ†á"></a>4.ÊúçÂä°Âô®ÁöÑÂÖ≥ÈîÆÂèÇÊï∞ÊåáÊ†á</h3><h5 id="4-1-Êìç‰ΩúÁ≥ªÁªüÔºö"><a href="#4-1-Êìç‰ΩúÁ≥ªÁªüÔºö" class="headerlink" title="4.1 Êìç‰ΩúÁ≥ªÁªüÔºö"></a>4.1 Êìç‰ΩúÁ≥ªÁªüÔºö</h5><p><strong>Windows ServerÔºö</strong><br>ÈáçË¶ÅÁâàÊú¨<code>Windows NT Server 4.0</code>„ÄÅ <code>Windows 2000 Server</code>„ÄÅ <code>Windows Server 2003</code>„ÄÅ <code>Windows Server 2003 R2</code>„ÄÅ<code>Windows Server 2008</code> „ÄÅ <code>Windows Server 2008 R2 </code>„ÄÅ <code>Windows Server 2012</code>„ÄÇ<code> Windows</code>ÊúçÂä°Âô®Êìç‰ΩúÁ≥ªÁªüÊ¥æÂ∫îÁî®ÔºåÁªì<br>Âêà<code>.NET</code>ÂºÄÂèëÁéØÂ¢ÉÔºå‰∏∫ÂæÆËΩØ‰ºÅ‰∏öÁî®Êà∑Êèê‰æõ‰∫ÜËâØÂ•ΩÁöÑÂ∫îÁî®Ê°ÜÊû∂„ÄÇ<br><strong>NetwareÔºö</strong><br>Âú®‰∏Ä‰∫õÁâπÂÆöË°å‰∏öÂíå‰∫ã‰∏öÂçï‰Ωç‰∏≠ÔºåNetWare‰ºòÁßÄÁöÑÊâπÂ§ÑÁêÜÂäüËÉΩÂíåÂÆâÂÖ®„ÄÅÁ®≥ÂÆöÁöÑÁ≥ªÁªüÊÄßËÉΩ‰πüÊúâÂæàÂ§ßÁöÑÁîüÂ≠òÁ©∫Èó¥„ÄÇNetWareÂ∏∏<br>Áî®ÁöÑÁâàÊú¨Êúâ<code>Novell</code>ÁöÑ<code>3.11</code>„ÄÅ <code>3.12</code>„ÄÅ <code>4.10</code>„ÄÅ<code>5.0</code>Á≠â‰∏≠Ëã±ÊñáÁâà„ÄÇ<br><strong>UnixÔºö</strong><br><code>Unix</code>ÊúçÂä°Âô®Êìç‰ΩúÁ≥ªÁªüÁî±<code>AT&amp;T</code>ÂÖ¨Âè∏Âíå<code>SCO</code>ÂÖ¨Âè∏ÂÖ±ÂêåÊé®Âá∫Ôºå‰∏ªË¶ÅÊîØÊåÅÂ§ßÂûãÁöÑÊñá‰ª∂Á≥ªÁªüÊúçÂä°„ÄÅÊï∞ÊçÆÊúçÂä°Á≠âÂ∫îÁî®„ÄÇÂ∏ÇÈù¢‰∏äÊµÅ‰º†ÁöÑ<br>‰∏ªË¶ÅÊúâ<code>SCO SVR</code>„ÄÅ<code> BSD Unix</code>„ÄÅ <code>SUN Solaris</code>„ÄÅ <code>IBM-AIX</code>„ÄÅ <code>HP-U</code>„ÄÅ <code>FreeBSDX</code>„ÄÇ<br><strong>LinuxÔºö</strong><br><code>Linux</code>Êìç‰ΩúÁ≥ªÁªüËôΩÁÑ∂‰∏é<code>UNIX</code>Êìç‰ΩúÁ≥ªÁªüÁ±ª‰ººÔºå‰ΩÜÊòØÂÆÉ‰∏çÊòØ<code>UNIX</code>Êìç‰ΩúÁ≥ªÁªüÁöÑÂèòÁßç„ÄÇ<code>Torvald</code>‰ªéÂºÄÂßãÁºñÂÜôÂÜÖÊ†∏‰ª£Á†ÅÊó∂Â∞±‰ªøÊïà<code>UNIX</code>Ôºå<br>Âá†‰πéÊâÄÊúâ<code>UNIX</code>ÁöÑÂ∑•ÂÖ∑‰∏éÂ§ñÂ£≥ÈÉΩÂèØ‰ª•ËøêË°åÂú®<code>LINUX</code>‰∏ä„ÄÇ(linuxÁ≥ªÁªüÁõ∏ÊØîwindowsÊõ¥ÂÆâÂÖ®ÔºåËøêË°åÊïàÁéáÊõ¥È´òÔºâ</p><h5 id="4-2-ÊîØÊåÅËÑöÊú¨Ôºö"><a href="#4-2-ÊîØÊåÅËÑöÊú¨Ôºö" class="headerlink" title="4.2 ÊîØÊåÅËÑöÊú¨Ôºö"></a>4.2 ÊîØÊåÅËÑöÊú¨Ôºö</h5><p>Âç≥ÊòØÂê¶ÁΩëÁ´ôÁ®ãÂ∫èÂ∏∏ËßÅÁöÑÂºÄÂèëËØ≠Ë®ÄÔºå‰∏ªË¶ÅÊúâ<code>asp</code>Âèä<code>.net</code>„ÄÅ<code> php</code>„ÄÅ<code> jsp</code>, -Ëà¨ÈúÄË¶ÅÊ†πÊçÆÁΩëÁ´ôÁ®ãÂ∫èÊâÄ‰ΩøÁî®ÁöÑÂºÄÂèëËØ≠Ë®ÄÈÄâÊã©ÔºåÊîØÊåÅÁöÑÂºÄÂèëËØ≠Ë®ÄË∂äÂ∞ë‰∏ªÊú∫Ë∂äÂÆâÂÖ®ÂíåÈ´òÊïà</p><h5 id="4-3-Á©∫Èó¥ÂÆπÈáèÔºö"><a href="#4-3-Á©∫Èó¥ÂÆπÈáèÔºö" class="headerlink" title="4.3 Á©∫Èó¥ÂÆπÈáèÔºö"></a><strong>4.3 Á©∫Èó¥ÂÆπÈáèÔºö</strong></h5><p>Â≠òÊîæÊñá‰ª∂ÁöÑÁ©∫Èó¥Â§ßÂ∞èÔºå‰ºÅ‰∏öÁΩëÁ´ô‰∏ÄËà¨ÂèØ‰ª•Ê†πÊçÆÂõæÁâáÂíåËßÜÈ¢ëÊñá‰ª∂Â§ßÂ∞èÊù•ÈÄâÊã©Ôºå‰ª•Âèä‰∏ªÊú∫‰ΩøÁî®ÁöÑÂπ¥ÈôêÔºå‰∏ÄËà¨1-5GÂ∞±Â§üÁî®‰∫Ü</p><h5 id="4-4‰∏ªÊú∫Â∏¶ÂÆΩÔºö"><a href="#4-4‰∏ªÊú∫Â∏¶ÂÆΩÔºö" class="headerlink" title="4.4‰∏ªÊú∫Â∏¶ÂÆΩÔºö"></a><strong>4.4‰∏ªÊú∫Â∏¶ÂÆΩÔºö</strong></h5><p>‰∏ªÊú∫ÊîØÊåÅÁöÑÊúÄÂ§ß‰∏ãË°åËÆøÈóÆÈÄüÂ∫¶ÔºåÂç≥Áõ¥Êé•ÂΩ±ÂìçÁΩëÁ´ôËÆøÈóÆÈÄüÂ∫¶Ôºå‰ΩÜËôöÊãü‰∏ªÊú∫Âπ∂‰∏çÊòØÂ∏¶ÂÆΩË∂äÂ§ßËÆøÈóÆÂ∞±‰ºöË∂äÂø´ÔºåËøòÈúÄË¶ÅËÄÉËôëÂêå‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÊúâÂ§öÂ∞ë‰∏™ÁΩëÁ´ôÂíåÂÖ∂‰ªñÁΩëÁ´ôÊòØÂê¶‰ºöÊ∂àËÄóÂ∏¶ÂÆΩËµÑÊ∫ê„ÄÇ</p><h5 id="4-5-ËÆøÈóÆÊµÅÈáèÔºö"><a href="#4-5-ËÆøÈóÆÊµÅÈáèÔºö" class="headerlink" title="4.5 ËÆøÈóÆÊµÅÈáèÔºö"></a>4.5 ËÆøÈóÆÊµÅÈáèÔºö</h5><p>ÂΩì‰∏ÄÂè∞ÊúçÂä°Âô®ÂàÜÂâ≤ÁöÑËôöÊãü‰∏ªÊú∫Ë∂ÖËøá‰∏ÄÂÆöÊï∞ÈáèÔºàÂ¶Ç100ÔºåÂæàÂ§ö‰∏ªÊú∫ÂïÜ‰∏ÄÂè∞ÊúçÂä°Âô®ÊîæÁΩÆ‰∫ÜÊï∞Áôæ‰∏™ËôöÊãü‰∏ªÊú∫ÔºâÊó∂Ôºå‰∏∫‰∫ÜÈôêÂà∂Âõ†Êüê‰∏™ËôöÊãü‰∏ªÊú∫ÁöÑÁΩëÁ´ôÂ§ßÈáèÊ∂àËÄóËÆøÈóÆÂ∏¶ÂÆΩÔºàÊµÅÈáèÔºâËµÑÊ∫êÔºå‰∏ªÊú∫Êèê‰æõÂïÜ‰∏çÂæó‰∏çÂú®ÊàêÊú¨ÂíåÂ§ßÂ§öÊï∞Áî®Êà∑ÁöÑËÆøÈóÆÈÄüÂ∫¶‰∏≠Êâæ‰∏Ä‰∏™Âπ≥Ë°°ÁÇπÔºåÊâÄ‰ª•Â∞±‰ΩøÁî®‰∫ÜÈôêÂà∂ËÆøÈóÆÊµÅÈáèËøô‰∏™ÊåáÊ†á„ÄÇËÄåÂØπ‰∫éÁî®Êà∑Êù•ËØ¥ÔºåÂΩìÁÑ∂ÊòØ‰∏çÈôêÂà∂ÊµÅÈáèÊâçÊ≤°ÊúâÂêéÈ°æ‰πãÂøß„ÄÇ</p><h5 id="4-6-Âπ∂ÂèëÈáèÔºö"><a href="#4-6-Âπ∂ÂèëÈáèÔºö" class="headerlink" title="4.6 Âπ∂ÂèëÈáèÔºö"></a>4.6 Âπ∂ÂèëÈáèÔºö</h5><p>Âç≥Âêå‰∏ÄÊó∂ÂàªËØ∑Ê±ÇËÆøÈóÆÁΩëÁ´ôÁöÑÁî®Êà∑Êï∞ÈáèÔºåËôöÊãü‰∏ªÊú∫Êèê‰æõÂïÜ‰∏∫Â∞ΩÂèØËÉΩ‰øùÈöúÊØè‰∏™ËôöÊãü‰∏ªÊú∫Áî®Êà∑ÁöÑÁΩëÁ´ôÁ®≥ÂÆöÂíåÂÖ¨Âπ≥ÊÄßÔºå‰∏çÂæóÂ∑±ËÆæÁΩÆ‰∫ÜÂπ∂ÂèëÈáèÂèÇÊï∞Ôºå‰ªéËÄåÂèØ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÁ°Æ‰øù‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÁöÑÂÖ∂‰ªñËôöÊãü‰∏ªÊú∫ËÉΩÁ®≥ÂÆöÁöÑËÆøÈóÆ„ÄÇÂØπ‰∫éÂ∞èÂûãÁΩëÁ´ôÊù•ËØ¥ÔºåÂêå‰∏ÄÊó∂ÂàªÂú®Á∫øÂπ∂Âä®ÊÄÅËØ∑Ê±ÇÁöÑÁî®Êà∑Êï∞ÈáèÂπ∂‰∏ç‰ºöÂ§™Â§ßÔºåÂõ†Ê≠§‰∏ÄËà¨ÁöÑÁî®Êà∑ÊÑüËßâ‰∏çÂá∫Êù•Ëá™Â∑±ÁöÑÁΩëÁ´ôËÆøÈóÆÂèóÈôê„ÄÇ</p><h5 id="4-7-CPUÂíåÂÜÖÂ≠òÔºö"><a href="#4-7-CPUÂíåÂÜÖÂ≠òÔºö" class="headerlink" title="4.7 CPUÂíåÂÜÖÂ≠òÔºö"></a>4.7 CPUÂíåÂÜÖÂ≠òÔºö</h5><p>ÂíåÊôÆÈÄöÁîµËÑë‰∏ÄÊ†∑Ôºå‰ª£Ë°®ÊúçÂä°Âô®ÁöÑËøêË°åËÆ°ÁÆóËÉΩÂäõÔºå‰πüÂ∞±ÊòØÂØπÁΩëÁ´ôÁ®ãÂ∫èÁöÑÂìçÂ∫îÈÄüÂ∫¶ÂíåÊïàÁéáÔºåÂ¶ÇÊûúÂú®‰∏çËÄÉËôëÊàêÊú¨ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂΩìÁÑ∂ÊòØCPUÂ§öÊ†∏„ÄÅÂÜÖÂ≠òË∂äÂ§ßÊÄßËÉΩË∂äÈ´òÔºå‰ΩÜ‰ºÅ‰∏öÁΩëÁ´ôÁöÑÊï∞ÊçÆÈáèÊòØÊúâÈôêÁöÑÔºå‰∏ÄËà¨ÂèåÊ†∏„ÄÅ4GÂ∞±ÂèØ‰ª•Êª°Ë∂≥Âü∫Êú¨‰ΩøÁî®„ÄÇ</p><h5 id="4-8-ÊúçÂä°Âô®ipÁ±ªÂûãÔºöÁã¨Á´ãipÂíåÂÖ±‰∫´ipÔºö"><a href="#4-8-ÊúçÂä°Âô®ipÁ±ªÂûãÔºöÁã¨Á´ãipÂíåÂÖ±‰∫´ipÔºö" class="headerlink" title="4.8 ÊúçÂä°Âô®ipÁ±ªÂûãÔºöÁã¨Á´ãipÂíåÂÖ±‰∫´ipÔºö"></a>4.8 ÊúçÂä°Âô®ipÁ±ªÂûãÔºöÁã¨Á´ãipÂíåÂÖ±‰∫´ipÔºö</h5><p>È¶ñÂÖàÔºå‰∏§ËÄÖÁöÑÊ¶ÇÂøµ‰∏ç‰∏ÄÊ†∑ÔºåÁã¨Á´ã<code>IP</code>ÊòØÊåá‰∏Ä‰∏™ÊúçÂä°Âô®Êã•ÊúâËá™Â∑±Áã¨Á´ãÁöÑ<code>IP</code>Âú∞ÂùÄÔºåÂÖ±‰∫´<code>IP</code>ÊòØÊåáÂ§ö‰∏™ÊúçÂä°Âô®ÂÖ±Áî®‰∏Ä‰∏™ÂÖ¨ÁΩëIPÂú∞ÂùÄÔºå<br>Áæ§Ëã±Êää‰∏§ËÄÖÁöÑ‰ºòÁº∫ÁÇπÁÆÄÂçïÊ¶ÇËø∞Â¶Ç‰∏ãÂá†ÁÇπÔºö<br>1.‰ª∑Ê†ºÊñπÈù¢ÔºöÂÖ±‰∫´<code>IP</code>Ë¶ÅÊØîÁã¨Á´ã<code>IP</code>‰æøÂÆú.<br>2.È£éÈô©ÈóÆÈ¢òÔºöÂÖ±‰∫´<code>IP</code>ÊòìÂèóÂà∞Â§ñÊù•ÁΩëÁªúÊîªÂáªÔºå‰∏îÂÖ∂‰∏≠‰∏Ä‰∏™ÁΩëÁ´ôÂá∫Áé∞ÈóÆÈ¢òÂ∞±‰ºöÊ≥¢ÂèäÂÖ∂‰ªñÁ´ôÁÇπÔºåËÄåÁã¨Á´ã<code>IP</code>Â∞±‰∏ç‰ºöÂèóÂà∞ËøôÁßçËøûÂ∏¶ÁöÑ<br>Ê≥¢ÂèäÈóÆÈ¢ò.<br>3.Êî∂Ê∞∏ÂΩ±ÂìçÔºöÁã¨Á´ã<code>IP</code>Êõ¥ÊúâÂà©‰∫éË¢´ÊêúÁ¥†ÂºïÊìéÊî∂ÂΩïÔºåÊùÉÈáçÊõ¥È´ò.<br>4.ÂüéÂêçÁªëÂÆöÂå∫Âà´ÔºöÁã¨Á´ã<code>IP</code>ÂèØ‰ª•ÂÆûÁé∞Ê≥õÂüüÂêçÁªëÂÆöÔºåËÄåÂÖ±‰∫´<code>IP</code>Êó†Ê≥ïÂÆûÁé∞Ê≥õÂüüÂêçÁªëÂÆö.<br>5.ËÉΩÈ¶ôÁõ¥Êé•‰ΩøÁî®<code>IP</code>ËÆøÈóÆÔºöÁã¨Á´ãIPÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®<code>IP</code>ËÆøÈóÆÔºåÂÖ±‰∫´<code>IP</code>‰∏çËÉΩÔºåËã•ËÆøÈóÆÂ∞±‰ºöÊî∂Âà∞Êä•ÈîôÁöÑÊèêÁ§∫„ÄÇ</p><h5 id="4-9-Êâ©Â±ïÊÄßËÉΩÔºö"><a href="#4-9-Êâ©Â±ïÊÄßËÉΩÔºö" class="headerlink" title="4.9 Êâ©Â±ïÊÄßËÉΩÔºö"></a>4.9 Êâ©Â±ïÊÄßËÉΩÔºö</h5><p>ÊîØÊåÅËØ≠Ë®ÄÔºåÊòØÂê¶ÊîØÊåÅ‰º™ÈùôÊÄÅ„ÄÅÂ≠ó‰Ωì</p><h3 id="5-ÁÆ°ÁêÜÊúçÂä°Âô®"><a href="#5-ÁÆ°ÁêÜÊúçÂä°Âô®" class="headerlink" title="5. ÁÆ°ÁêÜÊúçÂä°Âô®"></a>5. ÁÆ°ÁêÜÊúçÂä°Âô®</h3><h5 id="5-1-FTPÊòØ‰ªÄ‰πàÔºü"><a href="#5-1-FTPÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="5.1 FTPÊòØ‰ªÄ‰πàÔºü"></a>5.1 <strong>FTPÊòØ‰ªÄ‰πàÔºü</strong></h5><blockquote><p><code>FTP</code> <code>(File Transfer Protocol</code>ÔºåÊñá‰ª∂‰º†ËæìÂçèËÆÆÔºâÊòØ <code>TCPAP</code> ÂçèËÆÆÁªÑ‰∏≠ÁöÑÂçèËÆÆ‰πã‰∏Ä„ÄÇ<code>FTP</code>ÂçèËÆÆÂåÖÊã¨‰∏§‰∏™ÁªÑÊàêÈÉ®ÂàÜÔºåÂÖ∂‰∏Ä‰∏∫<br><code>FTP</code>ÊúçÂä°Âô®ÔºåÂÖ∂‰∫å‰∏∫<code>FTP</code>ÂÆ¢Êà∑Á´Ø„ÄÇ<br>‰ΩúÁî®:<br>ÂØπ‰∫éÂÆ¢Êà∑Á´ØÔºöÊòØ‰∏∫‰∫ÜÂÆ¢Êà∑Á´ØÈìæÊé•‰∏ªÊú∫Êù•ÁÆ°ÁêÜËá™Â∑±ÁöÑ‰∏ªÊú∫Êñá‰ª∂<br>ÂØπ‰∫é‰∏ªÊú∫ÂïÜÔºöÂèØ‰ª•Áî®<code>FTP</code>ÂèØ‰ª•Áî®Êù•ÂÆûÁé∞ÈôêÂà∂‰∏çÂêåËôöÊãü‰∏ªÊú∫ÂàÜÈÖçÁªôÁî®Êà∑ÂØπÊúçÂä°Âô®ÁöÑÁÆ°ÁêÜÊùÉÈôê</p></blockquote><h5 id="5-2-FTPÈìæÊé•Ê®°ÂºèÔºö"><a href="#5-2-FTPÈìæÊé•Ê®°ÂºèÔºö" class="headerlink" title="5.2 FTPÈìæÊé•Ê®°ÂºèÔºö"></a>5.2 FTPÈìæÊé•Ê®°ÂºèÔºö</h5><p>‰∏ªÂä®Ê®°ÂºèÔºà<code>port</code>Ê®°ÂºèÔºâ<br>ÂÆ¢Êà∑Á´ØÂèëÈÄÅÊéßÂà∂ÈìæÊé•Âà∞ÊúçÂä°Âô®ÁöÑ<code>FTP</code>Â¢ôÂè£Ôºå‰∏ÄËà¨ÊòØÈªòËÆ§ËÆæÁΩÆ‰∏∫<code>21</code>ÔºåÁÑ∂ÂêéÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÁ´ØÂè£‰∏ªÂä®ÂéªËøûÊé•Áî®Êà∑ÁöÑÂÆ¢Êà∑Ë†≤<code>n+1</code>ÁöÑÊï∞ÊçÆÁ´ØÂè£<br>Ë¢´Âä®Ê®°ÂºèÔºà <code>passive</code>Ê®°ÂºèÔºâ<br>ÂÆ¢Êà∑Á´ØÂèëÈÄÅÊéßÂà∂ÈìæÊé•Âà∞ÊúçÂä°Âô®ÁöÑ<code>FTP</code>Á´ØÂè£Ôºå‰∏ÄËà¨ÊòØÈªòËÆ§ËÆæÁΩÆ‰∏∫<code>21</code>ÔºåÂÆ¢ÊúçË∫ÖÁöÑÊï∞ÊçÆÁ´ØÂè£<code>n+1</code>Á´ØÂè£Ôºå‰∏ªÂä®ÈìæÊé•ÁöÑÊúçÂä°Âô®ÁöÑÊï∞ÊçÆ<code>20</code>Á´ØÂè£</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;1-ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞&quot;&gt;&lt;a href=&quot;#1-ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞&quot; class=&quot;headerlink&quot; title=&quot;1.ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞&quot;&gt;&lt;/a&gt;1.ÊúçÂä°Âô®ÁöÑÊ¶ÇËø∞&lt;/h3&gt;&lt;h4 id=&quot;1-‰ªÄ‰πàÊòØÊúçÂä°Âô®&quot;&gt;&lt;a href=&quot;#1-‰ªÄ‰πàÊòØÊúçÂä°Âô®&quot; class=&quot;headerlink&quot; title=&quot;1.‰ªÄ‰πàÊòØÊúçÂä°Âô®&quot;&gt;&lt;/a&gt;1.‰ªÄ‰πàÊòØÊúçÂä°Âô®&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;ÊúçÂä°Âô®ÊòØËÆ°ÁÆóÊú∫ÁöÑ‰∏ÄÁßçÔºåÂÆÉÊØîÊôÆÈÄöËÆ°ÁÆóÊú∫ËøêË°åÊõ¥Âø´„ÄÅË¥üËΩΩÊõ¥È´ò„ÄÅ‰ª∑Ê†ºÊõ¥Ë¥µ„ÄÇÊúçÂä°Âô®Âú®ÁΩëÁªú‰∏≠‰∏∫ÂÖ∂ÂÆÉÂÆ¢Êà∑Êú∫ÔºàÂ¶ÇPCÊú∫„ÄÅÊô∫ËÉΩÊâãÊú∫„ÄÅATMÁ≠âÁªàÁ´ØÁîöËá≥ÊòØÁÅ´ËΩ¶Á≥ªÁªüÁ≠âÂ§ßÂûãËÆæÂ§áÔºâÊèê‰æõËÆ°ÁÆóÊàñËÄÖÂ∫îÁî®ÊúçÂä°„ÄÇÊúçÂä°Âô®ÂÖ∑ÊúâÈ´òÈÄüÁöÑCPUËøêÁÆóËÉΩÂäõ„ÄÅÈïøÊó∂Èó¥ÁöÑÂèØÈù†ËøêË°å„ÄÅÂº∫Â§ßÁöÑV&amp;#x2F;OÂ§ñÈÉ®Êï∞ÊçÆÂêûÂêêËÉΩÂäõ‰ª•ÂèäÊõ¥Â•ΩÁöÑÊâ©Â±ïÊÄß„ÄÇÊ†πÊçÆÊúçÂä°Âô®ÊâÄÊèê‰æõÁöÑÊúçÂä°Ôºå‰∏ÄËà¨Êù•ËØ¥ÊúçÂä°Âô®ÈÉΩÂÖ∑Â§áÊâøÊãÖÂìçÂ∫îÊúçÂä°ËØ∑Ê±Ç„ÄÅÊâøÊãÖÊúçÂä°„ÄÅ‰øùÈöúÊúçÂä°ÁöÑËÉΩÂäõ„ÄÇÊúçÂä°Âô®‰Ωú‰∏∫ÁîµÂ≠êËÆæÂ§áÔºåÂÖ∂ÂÜÖÈÉ®ÁöÑÁªìÊûÑÂçÅÂàÜÁöÑÂ§çÊùÇÔºå‰ΩÜ‰∏éÊôÆÈÄöÁöÑËÆ°ÁÆóÊú∫ÂÜÖÈÉ®ÁªìÊûÑÁõ∏Â∑Æ‰∏çÂ§ßÔºåÂ¶ÇÔºöcpu„ÄÅÁ°¨Áõò„ÄÅÂÜÖÂ≠òÔºåÁ≥ªÁªü„ÄÅÁ≥ªÁªüÊÄªÁ∫øÁ≠â„ÄÇ&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Linux" scheme="http://example.com/categories/Linux/"/>
    
    <category term="ËøêÁª¥" scheme="http://example.com/categories/Linux/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Linux" scheme="http://example.com/tags/Linux/"/>
    
    <category term="ÊúçÂä°Âô®" scheme="http://example.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>C# windows ÁéØÂ¢ÉÊê≠Âª∫</title>
    <link href="http://example.com/2022/10/02/C-windows-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://example.com/2022/10/02/C-windows-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</id>
    <published>2022-10-02T07:07:06.000Z</published>
    <updated>2023-04-01T02:55:06.711Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Ê≥®ÔºöÊú¨Ê¨°Â≠¶‰π†ÂºÄÂèë‰ΩøÁî®ÁöÑËΩØ‰ª∂<code>jetbrians Rider</code></p></blockquote><h3 id="C-ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö-netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•-https-dotnet-microsoft-com-zh-cn-download"><a href="#C-ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö-netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•-https-dotnet-microsoft-com-zh-cn-download" class="headerlink" title="C# ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö.netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•: https://dotnet.microsoft.com/zh-cn/download"></a>C# ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö.netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•: <a href="https://dotnet.microsoft.com/zh-cn/download">https://dotnet.microsoft.com/zh-cn/download</a></h3><span id="more"></span><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211120647988.png" alt="image-20221112064702881"></p><h3 id="‰∏äÈù¢‰∏§ËÄÖËΩØ‰ª∂ÈÉΩÂèØ‰ª•ÔºåÊõ¥Êé®ËçêÈïøÊúüÁâàÊú¨ÔºåÂÖºÂÆπÊÄßÊØîËæÉÂ•Ω„ÄÇ"><a href="#‰∏äÈù¢‰∏§ËÄÖËΩØ‰ª∂ÈÉΩÂèØ‰ª•ÔºåÊõ¥Êé®ËçêÈïøÊúüÁâàÊú¨ÔºåÂÖºÂÆπÊÄßÊØîËæÉÂ•Ω„ÄÇ" class="headerlink" title="‰∏äÈù¢‰∏§ËÄÖËΩØ‰ª∂ÈÉΩÂèØ‰ª•ÔºåÊõ¥Êé®ËçêÈïøÊúüÁâàÊú¨ÔºåÂÖºÂÆπÊÄßÊØîËæÉÂ•Ω„ÄÇ"></a>‰∏äÈù¢‰∏§ËÄÖËΩØ‰ª∂ÈÉΩÂèØ‰ª•ÔºåÊõ¥Êé®ËçêÈïøÊúüÁâàÊú¨ÔºåÂÖºÂÆπÊÄßÊØîËæÉÂ•Ω„ÄÇ</h3><h3 id="‰∏ãËΩΩÂÆåÊàê‰ª•ÂêéÂèåÂáªÂÆâË£ÖÂç≥ÂèØÔºö"><a href="#‰∏ãËΩΩÂÆåÊàê‰ª•ÂêéÂèåÂáªÂÆâË£ÖÂç≥ÂèØÔºö" class="headerlink" title="‰∏ãËΩΩÂÆåÊàê‰ª•ÂêéÂèåÂáªÂÆâË£ÖÂç≥ÂèØÔºö"></a>‰∏ãËΩΩÂÆåÊàê‰ª•ÂêéÂèåÂáªÂÆâË£ÖÂç≥ÂèØÔºö</h3><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211120649963.png" alt="image-20221112064939901"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211120648869.png" alt="image-20221112064846821"></p><h3 id="ÂΩìËøõÂ∫¶Êù°Ëµ∞ÂÆåÊó∂Ôºå‰ª£Ë°®Â∑≤ÁªèÂÆâË£ÖÊàêÂäü„ÄÇ"><a href="#ÂΩìËøõÂ∫¶Êù°Ëµ∞ÂÆåÊó∂Ôºå‰ª£Ë°®Â∑≤ÁªèÂÆâË£ÖÊàêÂäü„ÄÇ" class="headerlink" title="ÂΩìËøõÂ∫¶Êù°Ëµ∞ÂÆåÊó∂Ôºå‰ª£Ë°®Â∑≤ÁªèÂÆâË£ÖÊàêÂäü„ÄÇ"></a>ÂΩìËøõÂ∫¶Êù°Ëµ∞ÂÆåÊó∂Ôºå‰ª£Ë°®Â∑≤ÁªèÂÆâË£ÖÊàêÂäü„ÄÇ</h3><p>ÂÆâË£ÖÊàêÂäü</p><h3 id="È™åËØÅËá™Â∑±ÊúâÊ≤°ÊúâÂÆâË£ÖÊàêÂäüÔºåÂú®cmd‰∏≠ÔºåËæìÂÖ•ÂëΩ‰ª§"><a href="#È™åËØÅËá™Â∑±ÊúâÊ≤°ÊúâÂÆâË£ÖÊàêÂäüÔºåÂú®cmd‰∏≠ÔºåËæìÂÖ•ÂëΩ‰ª§" class="headerlink" title="È™åËØÅËá™Â∑±ÊúâÊ≤°ÊúâÂÆâË£ÖÊàêÂäüÔºåÂú®cmd‰∏≠ÔºåËæìÂÖ•ÂëΩ‰ª§"></a>È™åËØÅËá™Â∑±ÊúâÊ≤°ÊúâÂÆâË£ÖÊàêÂäüÔºåÂú®<code>cmd</code>‰∏≠ÔºåËæìÂÖ•ÂëΩ‰ª§</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet --list-sdks</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211120809434.png" alt="image-20221112080948275"></p><h3 id="Âá∫Áé∞Ëøô‰∏™Âç≥‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºåÁéØÂ¢ÉÊê≠Âª∫ÂÆåÊàê„ÄÇ"><a href="#Âá∫Áé∞Ëøô‰∏™Âç≥‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºåÁéØÂ¢ÉÊê≠Âª∫ÂÆåÊàê„ÄÇ" class="headerlink" title="Âá∫Áé∞Ëøô‰∏™Âç≥‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºåÁéØÂ¢ÉÊê≠Âª∫ÂÆåÊàê„ÄÇ"></a>Âá∫Áé∞Ëøô‰∏™Âç≥‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºåÁéØÂ¢ÉÊê≠Âª∫ÂÆåÊàê„ÄÇ</h3><p><strong>ÁÑ∂ÂêéÂÆâË£Ö <code>Jerbetbrians Rider</code></strong></p><p><strong>ÂÆòÁΩë‰∏ãËΩΩÔºö</strong><a href="https://www.jetbrains.com/rider/">https://www.jetbrains.com/rider/</a></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211120814198.png" alt="image-20221112081423053"></p><p><strong>‰∏ãËΩΩ‰ª•ÂêéÂèåÂáªÔºö</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211131101754.png" alt="image-20221113110130585"></p><p><strong>ÂΩìÂá∫Áé∞Ëøô‰∏™ÁïåÈù¢ÁöÑÊó∂ÂÄôÔºåÂç≥ËΩØ‰ª∂‰ª£Ë°®ÂÆâË£ÖÊàêÂäüÔºÅ</strong></p><p><strong>ÁÑ∂ÂêéÂ∞±ÊòØÊñ∞Âª∫È°πÁõÆ</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211131104971.png" alt="image-20221113110407910"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211131104951.png" alt="image-20221113110443839"></p><p><strong>ËøêË°åÔºö</strong></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211131106148.png" alt="image-20221113110613050"></p><p><strong>ËøêË°åÁªìÊûú<code>Hello, WorldÔºÅ</code></strong></p><p><strong>ÁéØÂ¢ÉÊê≠Âª∫ÁªìÊùü</strong></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Ê≥®ÔºöÊú¨Ê¨°Â≠¶‰π†ÂºÄÂèë‰ΩøÁî®ÁöÑËΩØ‰ª∂&lt;code&gt;jetbrians Rider&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;C-ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö-netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•-https-dotnet-microsoft-com-zh-cn-download&quot;&gt;&lt;a href=&quot;#C-ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö-netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•-https-dotnet-microsoft-com-zh-cn-download&quot; class=&quot;headerlink&quot; title=&quot;C# ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö.netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•: https://dotnet.microsoft.com/zh-cn/download&quot;&gt;&lt;/a&gt;C# ËØ≠Ë®ÄÔºåÂÖ∂ÂÆû‰πüÂè´ÂÅö.netËØ≠Ë®ÄÔºåÊâÄÊúâÊàë‰ª¨ÂáÜÂ§áÂøÖË¶ÅÁöÑÂºÄÂèëÁéØÂ¢ÉÔºå‰∏ãËΩΩÈìæÊé•: &lt;a href=&quot;https://dotnet.microsoft.com/zh-cn/download&quot;&gt;https://dotnet.microsoft.com/zh-cn/download&lt;/a&gt;&lt;/h3&gt;</summary>
    
    
    
    <category term="C#" scheme="http://example.com/categories/C/"/>
    
    
    <category term="ÂêéÁ´Ø" scheme="http://example.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="C#" scheme="http://example.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>Redis</title>
    <link href="http://example.com/2022/07/05/Redis/"/>
    <id>http://example.com/2022/07/05/Redis/</id>
    <published>2022-07-05T00:02:39.000Z</published>
    <updated>2023-04-01T01:27:12.072Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238373.jfif" alt="1586740065742"></p><span id="more"></span><p>[TOC]</p><h3 id="‰∏Ä„ÄÅÂºïË®Ä"><a href="#‰∏Ä„ÄÅÂºïË®Ä" class="headerlink" title="‰∏Ä„ÄÅÂºïË®Ä"></a>‰∏Ä„ÄÅÂºïË®Ä</h3><hr><h4 id="1-1-Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ß"><a href="#1-1-Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ß" class="headerlink" title="1.1 Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ß"></a>1.1 Êï∞ÊçÆÂ∫ìÂéãÂäõËøáÂ§ß</h4><blockquote><p>Áî±‰∫éÁî®Êà∑ÈáèÂ¢ûÂ§ßÔºåËØ∑Ê±ÇÊï∞Èáè‰πüÈöè‰πãÂ¢ûÂ§ßÔºåÊï∞ÊçÆÂéãÂäõËøáÂ§ß</p></blockquote><h4 id="1-2-Êï∞ÊçÆ‰∏çÂêåÊ≠•"><a href="#1-2-Êï∞ÊçÆ‰∏çÂêåÊ≠•" class="headerlink" title="1.2 Êï∞ÊçÆ‰∏çÂêåÊ≠•"></a>1.2 Êï∞ÊçÆ‰∏çÂêåÊ≠•</h4><blockquote><p>Â§öÂè∞ÊúçÂä°Âô®‰πãÈó¥ÔºåÊï∞ÊçÆ‰∏çÂêåÊ≠•</p></blockquote><h4 id="1-3-‰º†ÁªüÈîÅÂ§±Êïà"><a href="#1-3-‰º†ÁªüÈîÅÂ§±Êïà" class="headerlink" title="1.3 ‰º†ÁªüÈîÅÂ§±Êïà"></a>1.3 ‰º†ÁªüÈîÅÂ§±Êïà</h4><blockquote><p>Â§öÂè∞ÊúçÂä°Âô®‰πãÈó¥ÁöÑÈîÅÔºåÂ∑≤Áªè‰∏çÂ≠òÂú®‰∫íÊñ•ÊÄß‰∫Ü„ÄÇ</p></blockquote><h3 id="‰∫å„ÄÅRedis‰ªãÁªç"><a href="#‰∫å„ÄÅRedis‰ªãÁªç" class="headerlink" title="‰∫å„ÄÅRedis‰ªãÁªç"></a>‰∫å„ÄÅRedis‰ªãÁªç</h3><hr><h4 id="2-1-ÂÖ≥‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåNOSQLÊï∞ÊçÆÂ∫ìÔºàÈîÆÂÄºÂØπÂ≠òÂÇ®Ôºâ"><a href="#2-1-ÂÖ≥‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåNOSQLÊï∞ÊçÆÂ∫ìÔºàÈîÆÂÄºÂØπÂ≠òÂÇ®Ôºâ" class="headerlink" title="2.1 ÂÖ≥‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåNOSQLÊï∞ÊçÆÂ∫ìÔºàÈîÆÂÄºÂØπÂ≠òÂÇ®Ôºâ"></a>2.1 ÂÖ≥‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂíåNOSQLÊï∞ÊçÆÂ∫ìÔºàÈîÆÂÄºÂØπÂ≠òÂÇ®Ôºâ</h4><blockquote><p>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊòØÂü∫‰∫éÂÖ≥Á≥ªË°®ÁöÑÊï∞ÊçÆÂ∫ìÔºåÊúÄÁªà‰ºöÂ∞ÜÊï∞ÊçÆÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò‰∏äÔºåËÄånosqlÊï∞ÊçÆÂ∫ìÊòØÂü∫‰∫éÁâπÊÆäÁöÑÁªìÊûÑÔºåÂπ∂Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®Âà∞ÂÜÖÂ≠òÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ‰ªéÊÄßËÉΩ‰∏äËÄåË®ÄÔºånosqlÊï∞ÊçÆÂ∫ìË¶Å‰ºò‰∫éÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºå‰ªéÂÆâÂÖ®ÊÄß‰∏äËÄåË®ÄÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìË¶Å‰ºò‰∫énosqlÊï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠‰∏Ä‰∏™È°πÁõÆ‰∏≠nosqlÂíåÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰ºö‰∏ÄËµ∑‰ΩøÁî®ÔºåËææÂà∞ÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÁöÑÂèå‰øùËØÅ„ÄÇ</p><p>NOSQL‰∫ßÂìÅ: redisÔºåmongodbÔºåmemcached‚Ä¶</p></blockquote><blockquote><ul><li>RedisÂ∞±ÊòØ‰∏ÄÊ¨æNoSQL</li><li>NoSQL -&gt; ÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì -&gt; Not Only SQL„ÄÇ</li><li>Key-ValueÔºöRedis ‚Ä¶</li><li>ÊñáÊ°£ÂûãÔºöElasticSearchÔºåSolrÔºåMongodb ‚Ä¶</li><li>Èù¢ÂêëÂàóÔºöHbaseÔºåCassandra ‚Ä¶</li><li>ÂõæÂΩ¢ÂåñÔºöNeo4j ‚Ä¶</li><li>Èô§‰∫ÜÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈÉΩÊòØÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì</li><li>NoSQLÂè™ÊòØ‰∏ÄÁßçÊ¶ÇÂøµÔºåÊ≥õÊåáÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÂíåÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂÅö‰∏Ä‰∏™Âå∫ÂàÜ</li></ul></blockquote><!--more--><h4 id="2-2-Redis‰ªãÁªç"><a href="#2-2-Redis‰ªãÁªç" class="headerlink" title="2.2 Redis‰ªãÁªç"></a>2.2 Redis‰ªãÁªç</h4><blockquote><ul><li><p>Êúâ‰∏Ä‰ΩçÊÑèÂ§ßÂà©‰∫∫ÔºåÂú®ÂºÄÂèë‰∏ÄÊ¨æLLOOGGÁöÑÁªüËÆ°È°µÈù¢ÔºåÂõ†‰∏∫MySQLÁöÑÊÄßËÉΩ‰∏çÂ•ΩÔºåËá™Â∑±Á†îÂèë‰∫Ü‰∏ÄÊ¨æÈùûÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÔºåÂπ∂ÂëΩÂêç‰∏∫Redis„ÄÇSalvatore„ÄÇ</p></li><li><p>RedisÔºàRemote Dictionary ServerÔºâÂç≥ËøúÁ®ãÂ≠óÂÖ∏ÊúçÂä°ÔºåRedisÊòØÁî±CËØ≠Ë®ÄÂéªÁºñÂÜôÔºåRedisÊòØ‰∏ÄÊ¨æÂü∫‰∫éKey-ValueÁöÑNoSQLÔºåËÄå‰∏îRedisÊòØÂü∫‰∫éÂÜÖÂ≠òÂ≠òÂÇ®Êï∞ÊçÆÁöÑÔºåRedisËøòÊèê‰æõ‰∫ÜÂ§öÁßçÊåÅ‰πÖÂåñÊú∫Âà∂ÔºåÊÄßËÉΩÂèØ‰ª•ËææÂà∞110000&#x2F;sËØªÂèñÊï∞ÊçÆ‰ª•Âèä81000&#x2F;sÂÜôÂÖ•Êï∞ÊçÆÔºåRedisËøòÊèê‰æõ‰∫Ü‰∏ª‰ªéÔºåÂì®ÂÖµ‰ª•ÂèäÈõÜÁæ§ÁöÑÊê≠Âª∫ÊñπÂºèÔºåÂèØ‰ª•Êõ¥Êñπ‰æøÁöÑÊ®™ÂêëÊâ©Â±ï‰ª•ÂèäÂûÇÁõ¥Êâ©Â±ï„ÄÇ</p></li></ul></blockquote><table><thead><tr><th align="center">Redis‰πãÁà∂</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238413.png" alt="1586747559955"></td></tr></tbody></table><h3 id="‰∏â„ÄÅRedisÂÆâË£Ö"><a href="#‰∏â„ÄÅRedisÂÆâË£Ö" class="headerlink" title="‰∏â„ÄÅRedisÂÆâË£Ö"></a>‰∏â„ÄÅRedisÂÆâË£Ö</h3><hr><h4 id="3-1-ÂÆâË£ÖRedis"><a href="#3-1-ÂÆâË£ÖRedis" class="headerlink" title="3.1 ÂÆâË£ÖRedis"></a>3.1 ÂÆâË£ÖRedis</h4><blockquote><p>ÂÆòÁΩëÔºö<a href="https://redis.io/">https://redis.io</a></p><p>‰∏ãËΩΩÔºö<a href="http://download.redis.io/releases">http://download.redis.io/releases</a></p><p>‰∏≠ÊñáÁΩëÔºö<a href="https://www.redis.net.cn/">https://www.redis.net.cn/</a></p></blockquote><blockquote><p>ÂÆòÁΩëÊèê‰æõÂÆâË£ÖÊñπÂºèÂ¶Ç‰∏ãÔºöÔºàÂÆâË£ÖredisÁºñËØëÁöÑcÁéØÂ¢ÉÔºåÊ≠§Ê≠•È™§Ê≤°ÊúâÁºñËØëÔºâ</p><p>Installation</p><p>Download, extract and compile Redis with:</p><p>$ wget &lt;<a href="http://download.redis.io/releases/redis-5.0.5.tar.gz">http://download.redis.io/releases/redis-5.0.5.tar.gz</a> &gt;</p><p>$ tar xzf redis-5.0.5.tar.gz $ cd redis-5.0.5</p><p>$ make</p><p>The binaries that are now compiled are available in the src directory. Run Redis with:</p><p>$ src&#x2F;redis-server</p><p>You can interact with Redis using the built-in client:</p><p>$ src&#x2F;redis-cli</p><p>redis&gt; set foo bar</p><p>OK</p><p>redis&gt; get foo</p><p>‚Äúbar‚Äù</p></blockquote><h4 id="3-3-ÂÆâË£ÖÊ≠•È™§"><a href="#3-3-ÂÆâË£ÖÊ≠•È™§" class="headerlink" title="3.3 ÂÆâË£ÖÊ≠•È™§"></a>3.3 ÂÆâË£ÖÊ≠•È™§</h4><blockquote><p>1.Êää‰∏ãËΩΩÂ•ΩÁöÑredis-6.2.6.tar.gzÂÆâË£ÖÂåÖÊã∑Ë¥ùÂà∞ÂΩìÂâçËôöÊãüÊú∫rootÁõÆÂΩï‰∏ãÔºåËß£ÂéãÂà∞&#x2F;usr&#x2F;local‰∏ã</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# tar -zxvf redis-6.2.6.tar.gz -C /usr/local</span><br></pre></td></tr></table></figure><p>2.ÁºñËØëÁöÑcÁéØÂ¢ÉÔºåÊ≥®ÔºöÂÆâË£ÖÊó∂Â¶ÇÊûúÊòæÁ§∫yumÊ≠£Âú®ËøêË°åÔºåÈúÄË¶ÅÂÖàÂ∞ÜyumËøõÁ®ãkillÂêéÂÜçÊâßË°åËØ•ÂëΩ‰ª§</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum install gcc-c++</span><br></pre></td></tr></table></figure><p>3.ËøõÂÖ•redis-6.2.6ÁõÆÂΩï ‰ΩøÁî®makeÂëΩ‰ª§ÁºñËØëredisÔºàËã•Êä•ÈîôÔºåÂÖàmake distcleanÔºåÂÜçmakeÔºâ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-6.2.6]# make</span><br></pre></td></tr></table></figure><p>4.‰ΩøÁî®make PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;redis-6.2.6 installÂëΩ‰ª§ÂÆâË£ÖÔºàÂÆâË£ÖÂêé‰ºöÂá∫Áé∞binÁõÆÂΩïÔºâ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-6.2.6]# make PREFIX=/usr/local/redis-6.2.6 install</span><br></pre></td></tr></table></figure><p>5.ÂêØÂä®redisÊúçÂä°Á´ØÔºàÂâçÂè∞ÂêØÂä®Ôºâ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-6.2.6]# cd bin</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-server </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238861.png"></p><p>ÂêØÂä®ÂêéÁúãÂà∞Â¶Ç‰∏äÊ¨¢ËøéÈ°µÈù¢Ôºå‰ΩÜÊ≠§Á™óÂè£‰∏çËÉΩÂÖ≥Èó≠ÔºåÁ™óÂè£ÂÖ≥Èó≠Â∞±ËÆ§‰∏∫redis‰πüÂÖ≥Èó≠‰∫ÜÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂú®ÂêéÂè∞ÂêØÂä®ÔºåÁÑ∂ÂêéÂÜçÂêØÂä®ÂÆ¢Êà∑Á´ØËøõË°åËøûÊé•ÔºåÊâÄ‰ª•È¶ñÂÖàCtrl+CÈÄÄÂá∫„ÄÇ</p><p>Ëß£ÂÜ≥ÔºöÂèØ‰ª•ÈÄöËøá‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆredisÁöÑÂêéÂè∞ÂêØÂä®ÔºàÂç≥ÊúçÂä°Âô®ÂêØÂä®‰∫Ü‰ΩÜ‰∏ç‰ºöÂàõÂª∫ÊéßÂà∂Âè∞Á™óÂè£Ôºâ</p><p>Ê≠•È™§Â¶Ç‰∏ãÔºö</p><p>1.ÂàáÊç¢Âà∞redis-6.2.6ÁõÆÂΩï‰∏ãÔºåÊääÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑredis.confÊñá‰ª∂Êã∑Ë¥ùÂà∞binÁõÆÂΩï‰∏ã</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# cd ../</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-6.2.6]# cp redis.conf bin/redis.conf</span><br></pre></td></tr></table></figure><p>2.ÂàáÊç¢Âà∞binÁõÆÂΩï‰∏ãÔºå‰øÆÊîπredis.confÊñá‰ª∂</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost redis-6.2.6]# cd bin</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# vim redis.conf </span><br></pre></td></tr></table></figure><p>3.Â∞Üredis.confÊñá‰ª∂‰∏≠ÁöÑdaemonizeÁöÑÂÄº‰ªéno‰øÆÊîπÊàêyesË°®Á§∫ÂêéÂè∞ÂêØÂä®</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238640.png"></p><p>4.ÂêØÂä®redisÊúçÂä°Á´ØÔºàÂêéÂè∞ÂêØÂä®Ôºâ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-server redis.conf</span><br></pre></td></tr></table></figure><p>5.Êü•ÁúãÊòØÂê¶ÂêØÂä®ÊàêÂäü</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ps -ef | grep redis</span><br></pre></td></tr></table></figure><p>6.ÂêØÂä®ÂÆ¢Êà∑Á´Ø</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-cli</span><br></pre></td></tr></table></figure><p>7.Â≠òÂèñÊï∞ÊçÆËøõË°åÊµãËØï</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; set name jack</span><br><span class="line">OK</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; get name</span><br><span class="line">&quot;jack&quot;</span><br></pre></td></tr></table></figure></blockquote><h4 id="3-4-RedisÁöÑÈÖçÁΩÆÊñá‰ª∂"><a href="#3-4-RedisÁöÑÈÖçÁΩÆÊñá‰ª∂" class="headerlink" title="3.4 RedisÁöÑÈÖçÁΩÆÊñá‰ª∂"></a>3.4 RedisÁöÑÈÖçÁΩÆÊñá‰ª∂</h4><table><thead><tr><th>ÈÖçÁΩÆÈ°πÂêçÁß∞</th><th>ÈÖçÁΩÆÈ°πÂÄºËåÉÂõ¥</th><th>ËØ¥Êòé</th></tr></thead><tbody><tr><td>daemonize</td><td>yes„ÄÅno</td><td>yesË°®Á§∫ÂêØÁî®ÂÆàÊä§ËøõÁ®ãÔºåÈªòËÆ§ÊòØnoÂç≥‰∏ç‰ª•ÂÆàÊä§ËøõÁ®ãÊñπÂºèËøêË°å„ÄÇÂÖ∂‰∏≠WindowsÁ≥ªÁªü‰∏ã‰∏çÊîØÊåÅÂêØÁî®ÂÆàÊä§ËøõÁ®ãÊñπÂºèËøêË°å</td></tr><tr><td>port</td><td></td><td>ÊåáÂÆö Redis ÁõëÂê¨Á´ØÂè£ÔºåÈªòËÆ§Á´ØÂè£‰∏∫ 6379</td></tr><tr><td>bind</td><td></td><td>ÁªëÂÆöÁöÑ‰∏ªÊú∫Âú∞ÂùÄ,Â¶ÇÊûúÈúÄË¶ÅËÆæÁΩÆËøúÁ®ãËÆøÈóÆÂàôÁõ¥Êé•Â∞ÜËøô‰∏™Â±ûÊÄßÂ§áÊ≥®‰∏ãÊàñËÄÖÊîπ‰∏∫bind * Âç≥ÂèØ,Ëøô‰∏™Â±ûÊÄßÂíå‰∏ãÈù¢ÁöÑprotected-modeÊéßÂà∂‰∫ÜÊòØÂê¶ÂèØ‰ª•ËøúÁ®ãËÆøÈóÆ „ÄÇ</td></tr><tr><td>protected-mode</td><td>yes „ÄÅno</td><td>ÈªòËÆ§ÊòØyesÔºåÂç≥ÂºÄÂêØ„ÄÇËÆæÁΩÆÂ§ñÈÉ®ÁΩëÁªúËøûÊé•redisÊúçÂä°ÔºåËÆæÁΩÆÊñπÂºèÂ¶Ç‰∏ãÔºö1„ÄÅÂÖ≥Èó≠protected-modeÊ®°ÂºèÔºåÊ≠§Êó∂Â§ñÈÉ®ÁΩëÁªúÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆ2„ÄÅÂºÄÂêØprotected-mode‰øùÊä§Ê®°ÂºèÔºåÈúÄÈÖçÁΩÆbind ipÊàñËÄÖËÆæÁΩÆËÆøÈóÆÂØÜÁ†Å</td></tr><tr><td>timeout</td><td>300</td><td>ÂΩìÂÆ¢Êà∑Á´ØÈó≤ÁΩÆÂ§öÈïøÊó∂Èó¥ÂêéÂÖ≥Èó≠ËøûÊé•ÔºåÂ¶ÇÊûúÊåáÂÆö‰∏∫ 0ÔºåË°®Á§∫ÂÖ≥Èó≠ËØ•ÂäüËÉΩ</td></tr><tr><td>loglevel</td><td>debug„ÄÅverbose„ÄÅnotice„ÄÅwarning</td><td>Êó•ÂøóÁ∫ßÂà´ÔºåÈªòËÆ§‰∏∫ notice</td></tr><tr><td>databases</td><td>16</td><td>ËÆæÁΩÆÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÈáèÔºåÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÊòØ0„ÄÇÊï¥‰∏™ÈÄöËøáÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÂèØ‰ª•ÁúãÂæóÂà∞</td></tr><tr><td>rdbcompression</td><td>yes„ÄÅno</td><td>ÊåáÂÆöÂ≠òÂÇ®Ëá≥Êú¨Âú∞Êï∞ÊçÆÂ∫ìÊó∂ÊòØÂê¶ÂéãÁº©Êï∞ÊçÆÔºåÈªòËÆ§‰∏∫ yesÔºåRedis ÈááÁî® LZF ÂéãÁº©ÔºåÂ¶ÇÊûú‰∏∫‰∫ÜËäÇÁúÅ CPU Êó∂Èó¥ÔºåÂèØ‰ª•ÂÖ≥Èó≠ËØ•ÈÄâÈ°πÔºå‰ΩÜ‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÊñá‰ª∂ÂèòÁöÑÂ∑®Â§ß„ÄÇ</td></tr><tr><td>dbfilename</td><td>dump.rdb</td><td>ÊåáÂÆöÊú¨Âú∞Êï∞ÊçÆÂ∫ìÊñá‰ª∂ÂêçÔºåÈªòËÆ§ÂÄº‰∏∫ dump.rdb</td></tr><tr><td>dir</td><td></td><td>ÊåáÂÆöÊú¨Âú∞Êï∞ÊçÆÂ∫ìÂ≠òÊîæÁõÆÂΩï</td></tr><tr><td>requirepass</td><td></td><td>ËÆæÁΩÆ Redis ËøûÊé•ÂØÜÁ†ÅÔºåÂ¶ÇÊûúÈÖçÁΩÆ‰∫ÜËøûÊé•ÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂú®ËøûÊé• Redis Êó∂ÈúÄË¶ÅÈÄöËøá AUTH <password> ÂëΩ‰ª§Êèê‰æõÂØÜÁ†ÅÔºåÈªòËÆ§ÂÖ≥Èó≠</td></tr><tr><td>maxclients</td><td>0</td><td>ËÆæÁΩÆÂêå‰∏ÄÊó∂Èó¥ÊúÄÂ§ßÂÆ¢Êà∑Á´ØËøûÊé•Êï∞ÔºåÈªòËÆ§Êó†ÈôêÂà∂ÔºåRedis ÂèØ‰ª•ÂêåÊó∂ÊâìÂºÄÁöÑÂÆ¢Êà∑Á´ØËøûÊé•Êï∞‰∏∫ Redis ËøõÁ®ãÂèØ‰ª•ÊâìÂºÄÁöÑÊúÄÂ§ßÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞ÔºåÂ¶ÇÊûúËÆæÁΩÆ maxclients 0ÔºåË°®Á§∫‰∏ç‰ΩúÈôêÂà∂„ÄÇÂΩìÂÆ¢Êà∑Á´ØËøûÊé•Êï∞Âà∞ËææÈôêÂà∂Êó∂ÔºåRedis ‰ºöÂÖ≥Èó≠Êñ∞ÁöÑËøûÊé•Âπ∂ÂêëÂÆ¢Êà∑Á´ØËøîÂõû max number of clients reached ÈîôËØØ‰ø°ÊÅØ„ÄÇ</td></tr><tr><td>maxmemory</td><td>XXX <bytes></td><td>ÊåáÂÆö Redis ÊúÄÂ§ßÂÜÖÂ≠òÈôêÂà∂ÔºåRedis Âú®ÂêØÂä®Êó∂‰ºöÊääÊï∞ÊçÆÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåËææÂà∞ÊúÄÂ§ßÂÜÖÂ≠òÂêéÔºåRedis ‰ºöÂÖàÂ∞ùËØïÊ∏ÖÈô§Â∑≤Âà∞ÊúüÊàñÂç≥Â∞ÜÂà∞ÊúüÁöÑ KeyÔºåÂΩìÊ≠§ÊñπÊ≥ïÂ§ÑÁêÜ ÂêéÔºå‰ªçÁÑ∂Âà∞ËææÊúÄÂ§ßÂÜÖÂ≠òËÆæÁΩÆÔºåÂ∞ÜÊó†Ê≥ïÂÜçËøõË°åÂÜôÂÖ•Êìç‰ΩúÔºå‰ΩÜ‰ªçÁÑ∂ÂèØ‰ª•ËøõË°åËØªÂèñÊìç‰Ωú„ÄÇRedis Êñ∞ÁöÑ vm Êú∫Âà∂Ôºå‰ºöÊää Key Â≠òÊîæÂÜÖÂ≠òÔºåValue ‰ºöÂ≠òÊîæÂú® swap Âå∫„ÄÇÈÖçÁΩÆÈ°πÂÄºËåÉÂõ¥ÂàóÈáåXXX‰∏∫Êï∞ÂÄº„ÄÇ</td></tr></tbody></table><h3 id="Âõõ„ÄÅredis-benchmarkÂÆòÊñπËá™Â∏¶ÁöÑÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑"><a href="#Âõõ„ÄÅredis-benchmarkÂÆòÊñπËá™Â∏¶ÁöÑÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑" class="headerlink" title="Âõõ„ÄÅredis-benchmarkÂÆòÊñπËá™Â∏¶ÁöÑÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑"></a>Âõõ„ÄÅredis-benchmarkÂÆòÊñπËá™Â∏¶ÁöÑÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑</h3><hr><h4 id="4-1-Âú®ÂÆâË£ÖÁöÑredis‰∏≠ÂèØ‰ª•ÁúãÂà∞redis-benchmark"><a href="#4-1-Âú®ÂÆâË£ÖÁöÑredis‰∏≠ÂèØ‰ª•ÁúãÂà∞redis-benchmark" class="headerlink" title="4.1 Âú®ÂÆâË£ÖÁöÑredis‰∏≠ÂèØ‰ª•ÁúãÂà∞redis-benchmark"></a>4.1 Âú®ÂÆâË£ÖÁöÑredis‰∏≠ÂèØ‰ª•ÁúãÂà∞redis-benchmark</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238733.png"></p><h4 id="4-2-ÂÖ≥‰∫éredis-benchmark-ÁöÑ‰∏Ä‰∫õÂèÇÊï∞"><a href="#4-2-ÂÖ≥‰∫éredis-benchmark-ÁöÑ‰∏Ä‰∫õÂèÇÊï∞" class="headerlink" title="4.2 ÂÖ≥‰∫éredis-benchmark ÁöÑ‰∏Ä‰∫õÂèÇÊï∞"></a>4.2 ÂÖ≥‰∫éredis-benchmark ÁöÑ‰∏Ä‰∫õÂèÇÊï∞</h4><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238626.png"></p><blockquote><p>ÊµãËØïÔºö100‰∏™Âπ∂ÂèëÔºåÂçÅ‰∏á‰∏™ËØ∑Ê±ÇÔºåÂçïÊú∫ÊµãËØï</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-benchmark -h 127.0.0.1 -p 6379 -c 100 -n 100000</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238323.png"></p><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; SET &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;                                                     <br>100000 requests completed in 0.94 seconds   Ë°®Á§∫ÂØπÂçÅ‰∏á‰∏™ËØ∑Ê±ÇËøõË°åÂÜôÂÖ•ÊµãËØï<br>100 parallel clients 100‰∏™Âπ∂ÂèëÂÆ¢Êà∑Á´Ø<br>3 bytes payloadÊØèÊ¨°ÂÜôÂÖ•3‰∏™Â≠óËäÇ<br>keep alive: 1Âè™Êúâ‰∏ÄÂè∞ÊúçÂä°Âô®Â§ÑÁêÜËØ∑Ê±Ç<br>host configuration ‚Äúsave‚Äù: 3600 1 300 100 60 10000RDBÊåÅ‰πÖÂåñÊñπÂºèÈªòËÆ§ÂºÄÂêØÁöÑËßÑÂàô<br>host configuration ‚Äúappendonly‚Äù: noAOFÊåÅ‰πÖÂåñÊñπÂºèÊú™ÂºÄÂêØ<br>multi-thread: noÂ§öÁ∫øÁ®ãÊú™ÂºÄÂêØ</p><p>99.998% &lt;&#x3D; 12.559 milliseconds (cumulative count 99999)<br>99.999% &lt;&#x3D; 12.567 milliseconds (cumulative count 100000)<br>100.000% &lt;&#x3D; 12.567 milliseconds (cumulative count 100000)  ËØ∑Ê±ÇÂú®Â§öÂ∞ëÊØ´ÁßíÂ§ÑÁêÜÂÆåÊàê</p><p>throughput summary: 106837.61 requests per secondÊØèÁßíÂ§ÑÁêÜËØ∑Ê±ÇÊï∞</p></blockquote><blockquote><p>Âè¶‰∏ÄÁßçÂÜôÊ≥ïÔºö</p><p>Âè™ÊµãËØï set Âíå get ÂëΩ‰ª§ÂêéÈÄÄÂá∫</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-benchmark -h 127.0.0.1 -p 6379 -t set,get -n 10000 -q</span><br></pre></td></tr></table></figure><h3 id="‰∫î„ÄÅRedisÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄêÈáçÁÇπ„Äë"><a href="#‰∫î„ÄÅRedisÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄêÈáçÁÇπ„Äë" class="headerlink" title="‰∫î„ÄÅRedisÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄêÈáçÁÇπ„Äë"></a>‰∫î„ÄÅRedisÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄêÈáçÁÇπ„Äë</h3><hr><blockquote><p>Â∏∏Áî®ÁöÑ5ÁßçÊï∞ÊçÆÁªìÊûÑÔºö</p><ul><li>key-stringÔºö‰∏Ä‰∏™keyÂØπÂ∫î‰∏Ä‰∏™ÂÄº„ÄÇ</li><li>key-hashÔºö‰∏Ä‰∏™keyÂØπÂ∫î‰∏Ä‰∏™Map„ÄÇ</li><li>key-listÔºö‰∏Ä‰∏™keyÂØπÂ∫î‰∏Ä‰∏™ÂàóË°®„ÄÇ</li><li>key-setÔºö‰∏Ä‰∏™keyÂØπÂ∫î‰∏Ä‰∏™ÈõÜÂêà„ÄÇ</li><li>key-zsetÔºö‰∏Ä‰∏™keyÂØπÂ∫î‰∏Ä‰∏™ÊúâÂ∫èÁöÑÈõÜÂêà„ÄÇ</li></ul><p>Âè¶Â§ñ‰∏âÁßçÊï∞ÊçÆÁªìÊûÑÔºö</p><ul><li>HyperLogLogÔºöËÆ°ÁÆóËøë‰ººÂÄºÁöÑ„ÄÇ</li><li>GEOÔºöÂú∞ÁêÜ‰ΩçÁΩÆ„ÄÇ</li><li>BITÔºö‰∏ÄËà¨Â≠òÂÇ®ÁöÑ‰πüÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂ≠òÂÇ®ÁöÑÊòØ‰∏Ä‰∏™byte[]„ÄÇ</li></ul><p>redisÊòØ‰∏ÄÁßçÈ´òÁ∫ßÁöÑkey-valueÁöÑÂ≠òÂÇ®Á≥ªÁªüÔºåÂÖ∂‰∏≠ÁöÑkeyÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÂ∞ΩÂèØËÉΩÊª°Ë∂≥Â¶Ç‰∏ãÂá†ÁÇπÔºö</p><p>1.key‰∏çË¶ÅÂ§™ÈïøÔºåÊúÄÂ•Ω‰∏çË¶ÅÊìç‰Ωú1024‰∏™Â≠óËäÇÔºåËøô‰∏ç‰ªÖ‰ºöÊ∂àËÄóÂÜÖÂ≠òËøò‰ºöÈôç‰ΩéÊü•ÊâæÊïàÁéá</p><p>2.key‰∏çË¶ÅÂ§™Áü≠ÔºåÂ¶ÇÊûúÂ§™Áü≠‰ºöÈôç‰ΩékeyÁöÑÂèØËØªÊÄß</p><p>3.Âú®È°πÁõÆ‰∏≠ÔºåkeyÊúÄÂ•ΩÊúâ‰∏Ä‰∏™Áªü‰∏ÄÁöÑÂëΩÂêçËßÑËåÉÔºàÊ†πÊçÆ‰ºÅ‰∏öÁöÑÈúÄÊ±ÇÔºâ</p><p>valueÊúÄÂ∏∏Áî®ÁöÑ‰∫îÁßçÊï∞ÊçÆÁ±ªÂûãÔºö</p><p>1.Â≠óÁ¨¶‰∏≤(String)ÔºöÊúÄÂ∏∏Áî®ÁöÑÔºå‰∏ÄËà¨Áî®‰∫éÂ≠òÂÇ®‰∏Ä‰∏™ÂÄº</p><p>2.ÂàóË°®(List)Ôºö‰ΩøÁî®listÁªìÊûÑÂÆûÁé∞Ê†àÂíåÈòüÂàóÁªìÊûÑ</p><p>3.ÈõÜÂêà(Set) Ôºö‰∫§ÈõÜÔºåÂ∑ÆÈõÜÂíåÂπ∂ÈõÜÁöÑÊìç‰Ωú</p><p>4.ÊúâÂ∫èÈõÜÂêà(sorted set) ÔºöÊéíË°åÊ¶úÔºåÁßØÂàÜÂ≠òÂÇ®Á≠âÊìç‰Ωú</p><p>5.ÂìàÂ∏å(Hash)ÔºöÂ≠òÂÇ®‰∏Ä‰∏™ÂØπË±°Êï∞ÊçÆÁöÑ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238255.png"></p><h4 id="5-1-Â≠óÁ¨¶‰∏≤-String"><a href="#5-1-Â≠óÁ¨¶‰∏≤-String" class="headerlink" title="5.1 Â≠óÁ¨¶‰∏≤(String)"></a>5.1 Â≠óÁ¨¶‰∏≤(String)</h4><blockquote><p>set key valueÔºöËÆæÂÆökeyÊåÅÊúâÊåáÂÆöÁöÑÂ≠óÁ¨¶‰∏≤valueÔºåÂ¶ÇÊûúËØ•keyÂ≠òÂú®ÂàôËøõË°åË¶ÜÁõñÊìç‰ΩúÔºåÊÄªÊòØËøîÂõû‚ÄùOK‚Äù</p><p>get keyÔºöËé∑ÂèñkeyÁöÑvalue„ÄÇÂ¶ÇÊûú‰∏éËØ•keyÂÖ≥ËÅîÁöÑvalue‰∏çÊòØStringÁ±ªÂûãÔºåredisÂ∞ÜËøîÂõûÈîôËØØ‰ø°ÊÅØÔºåÂõ†‰∏∫getÂëΩ‰ª§Âè™ËÉΩÁî®‰∫éËé∑ÂèñString valueÔºåÂ¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåËøîÂõûnull</p><p>setex key seconds valueÔºöËÆæÁΩÆkey‰ª•ÂèäÂØπÂ∫îÁöÑvalueÔºåËøòÂèØ‰ª•ËÆæÁΩÆËøáÊúüÊó∂Èó¥</p><p>setnx key valueÔºöÂΩìkey‰∏çÂ≠òÂú®Êó∂ÔºåËÆæÁΩÆÂØπÂ∫îÁöÑvalueÔºåÂΩìkeyÂ≠òÂú®Êó∂Ôºå‰∏çÂÅö‰ªª‰ΩïÊìç‰Ωú</p><p>incr keyÔºöÂ∞ÜÊåáÂÆöÁöÑkeyÁöÑvalueÂéüÂ≠êÊÄßÁöÑÈÄíÂ¢û1.Â¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫0ÔºåÂú®incr‰πãÂêéÂÖ∂ÂÄº‰∏∫1„ÄÇÂ¶ÇÊûúvalueÁöÑÂÄº‰∏çËÉΩËΩ¨ÊàêÊï¥ÂûãÔºåÂ¶ÇhelloÔºåËØ•Êìç‰ΩúÂ∞ÜÊâßË°åÂ§±Ë¥•Âπ∂ËøîÂõûÁõ∏Â∫îÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇ</p><p>decr keyÔºöÂ∞ÜÊåáÂÆöÁöÑkeyÁöÑvalueÂéüÂ≠êÊÄßÁöÑÈÄíÂáè1.Â¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåÂÖ∂ÂàùÂßãÂÄº‰∏∫0ÔºåÂú®incr‰πãÂêéÂÖ∂ÂÄº‰∏∫-1„ÄÇÂ¶ÇÊûúvalueÁöÑÂÄº‰∏çËÉΩËΩ¨ÊàêÊï¥ÂûãÔºåÂ¶ÇhelloÔºåËØ•Êìç‰ΩúÂ∞ÜÊâßË°åÂ§±Ë¥•Âπ∂ËøîÂõûÁõ∏Â∫îÁöÑÈîôËØØ‰ø°ÊÅØ„ÄÇ</p><p>incrby key incrementÔºöÂ∞ÜÊåáÂÆöÁöÑkeyÁöÑvalueÂéüÂ≠êÊÄßÂ¢ûÂä†incrementÔºåÂ¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåÂô®ÂàùÂßãÂÄº‰∏∫0ÔºåÂú®incrby‰πãÂêéÔºåËØ•ÂÄº‰∏∫increment„ÄÇÂ¶ÇÊûúËØ•ÂÄº‰∏çËÉΩËΩ¨ÊàêÊï¥ÂûãÔºåÂ¶ÇhelloÂàôÂ§±Ë¥•Âπ∂ËøîÂõûÈîôËØØ‰ø°ÊÅØ„ÄÇ</p><p>decrby key decrementÔºöÂ∞ÜÊåáÂÆöÁöÑkeyÁöÑvalueÂéüÂ≠êÊÄßÂáèÂ∞ëdecrementÔºåÂ¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåÂô®ÂàùÂßãÂÄº‰∏∫0ÔºåÂú®decrby‰πãÂêéÔºåËØ•ÂÄº‰∏∫decrement„ÄÇÂ¶ÇÊûúËØ•ÂÄº‰∏çËÉΩËΩ¨ÊàêÊï¥ÂûãÔºåÂ¶ÇhelloÂàôÂ§±Ë¥•Âπ∂ËøîÂõûÈîôËØØ‰ø°ÊÅØ„ÄÇ</p></blockquote><blockquote><p>‰ΩøÁî®Âú∫ÊôØÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><p>1.ÁÆÄÂçïÁöÑÁºìÂ≠òÂ≠òÂÇ®ÔºàÊúÄÂ∏∏Áî®Ôºâ</p><p>2.Ê∂àÊÅØÁöÑÂ§±ÊïàÊÄßÔºàËøáÊúüÊó∂Èó¥ÁöÑËÆæÁΩÆÔºâ</p><p>3.ÂàÜÂ∏ÉÂºèÈîÅÁöÑÂÆûÁé∞ÔºàredissonÔºâ</p></blockquote><h4 id="5-2-ÂàóË°®-List"><a href="#5-2-ÂàóË°®-List" class="headerlink" title="5.2 ÂàóË°®(List)"></a>5.2 ÂàóË°®(List)</h4><blockquote><p>lpush key value1 value2‚Ä¶ÔºöÂú®ÊåáÂÆöÁöÑkeyÊâÄÂÖ≥ËÅîÁöÑlistÁöÑÂ§¥ÈÉ®ÊèíÂÖ•ÊâÄÊúâÁöÑvaluesÔºåÂ¶ÇÊûúËØ•key‰∏çÂ≠òÂú®ÔºåËØ•ÂëΩ‰ª§Âú®ÊèíÂÖ•ÁöÑ‰πãÂâçÂàõÂª∫‰∏Ä‰∏™‰∏éËØ•keyÂÖ≥ËÅîÁöÑÁ©∫ÈìæË°®Ôºå‰πãÂêéÂÜçÂêëËØ•ÈìæË°®ÁöÑÂ§¥ÈÉ®ÊèíÂÖ•Êï∞ÊçÆ„ÄÇÊèíÂÖ•ÊàêÂäüÔºåËøîÂõûÂÖÉÁ¥†ÁöÑ‰∏™Êï∞„ÄÇ</p><p>rpush key value1 value2‚Ä¶ÔºöÂú®ËØ•listÁöÑÂ∞æÈÉ®Ê∑ªÂä†ÂÖÉÁ¥†„ÄÇ</p><p>lrange key start endÔºöËé∑ÂèñÈìæË°®‰∏≠‰ªéstartÂà∞endÁöÑÂÖÉÁ¥†ÁöÑÂÄºÔºåstart„ÄÅendÂèØ‰∏∫Ë¥üÊï∞ÔºåËã•‰∏∫-1ÂàôË°®Á§∫ÈìæË°®Â∞æÈÉ®ÁöÑÂÖÉÁ¥†Ôºå-2ÂàôË°®Á§∫ÂÄíÊï∞Á¨¨‰∫å‰∏™Ôºå‰æùÊ¨°Á±ªÊé®‚Ä¶.</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238502.png"></p><p>lpop keyÔºöËøîÂõûÂπ∂ÂºπÂá∫ÊåáÂÆöÁöÑkeyÂÖ≥ËÅîÁöÑÈìæË°®‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂç≥Â§¥ÈÉ®ÂÖÉÁ¥†„ÄÇ</p><p>rpop keyÔºö‰ªéÂ∞æÈÉ®ÂºπÂá∫ÂÖÉÁ¥†„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238251.png"></p><p>llen keyÔºöËøîÂõûÊåáÂÆöÁöÑkeyÂÖ≥ËÅîÁöÑÈìæË°®‰∏≠ÁöÑÂÖÉÁ¥†ÁöÑÊï∞Èáè„ÄÇ</p></blockquote><blockquote><p>‰ΩøÁî®Âú∫ÊôØÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><p>Ê∂àÊÅØÊµÅÁöÑÂú∫ÊôØÔºö</p><p>1.Áî®Êà∑ÁöÑid‰Ωú‰∏∫keyÔºåÂèëÈÄÅÁöÑÊ∂àÊÅØ‰Ωú‰∏∫valueÔºå‰æãÂ¶ÇÔºöÊúãÂèãÂúàÂèëÂ∏ÉÔºåÂæÆÂçöÂèëÂ∏ÉÔºåÂÖ¨‰ºóÂè∑ÂèëÂ∏É‚Ä¶</p></blockquote><h4 id="5-3-ÈõÜÂêà-SetÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞ÈáçÂ§çÁöÑÂÖÉÁ¥†"><a href="#5-3-ÈõÜÂêà-SetÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞ÈáçÂ§çÁöÑÂÖÉÁ¥†" class="headerlink" title="5.3 ÈõÜÂêà(SetÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞ÈáçÂ§çÁöÑÂÖÉÁ¥†)"></a>5.3 ÈõÜÂêà(SetÔºå‰∏çÂÖÅËÆ∏Âá∫Áé∞ÈáçÂ§çÁöÑÂÖÉÁ¥†)</h4><blockquote><p>sadd key value1  value2‚Ä¶ÔºöÂêëset‰∏≠Ê∑ªÂä†Êï∞ÊçÆÔºåÂ¶ÇÊûúËØ•keyÁöÑÂÄºÂ∑≤ÊúâÂàô‰∏ç‰ºöÈáçÂ§çÊ∑ªÂä†„ÄÇ</p><p>smembers keyÔºöËé∑Âèñset‰∏≠ÊâÄÊúâÁöÑÊàêÂëò„ÄÇ</p><p>scard keyÔºöËé∑Âèñset‰∏≠ÊàêÂëòÁöÑÊï∞Èáè„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239420.png"></p><p>sismember key memberÔºöÂà§Êñ≠ÂèÇÊï∞‰∏≠ÊåáÂÆöÁöÑÊàêÂëòÊòØÂê¶Âú®ËØ•set‰∏≠Ôºå1Ë°®Á§∫Â≠òÂú®Ôºå0Ë°®Á§∫‰∏çÂ≠òÂú®ÊàñËÄÖËØ•keyÊú¨Ë∫´Â∞±‰∏çÂ≠òÂú®„ÄÇ</p><p>srem key member1  member2‚Ä¶ ÔºöÂà†Èô§set‰∏≠ÊåáÂÆöÁöÑÊàêÂëò„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239230.png"></p><p>srandmember keyÔºöÈöèÊú∫ËøîÂõûset‰∏≠ÁöÑ‰∏Ä‰∏™ÊàêÂëò„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239870.png"></p><p>spop keyÔºöÈöèÊú∫ËøîÂõûset‰∏≠ÁöÑ‰∏Ä‰∏™ÊàêÂëòÂπ∂‰ªéset‰∏≠ÁßªÈô§„ÄÇ</p><p>sdiff key1 key2ÔºöËøîÂõûkey1‰∏ékey2‰∏≠Áõ∏Â∑ÆÁöÑÊàêÂëòÔºåËÄå‰∏î‰∏ékeyÁöÑÈ°∫Â∫èÊúâÂÖ≥ÔºåÂç≥ËøîÂõûÂ∑ÆÈõÜ„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239621.png"></p><p>sdiffstore destination key1 key2ÔºöÂ∞Ükey1„ÄÅkey2Áõ∏Â∑ÆÁöÑÊàêÂëòÂ≠òÂÇ®Âú®destination‰∏ä„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239477.png"></p><p>sinter key[key1,key2‚Ä¶]ÔºöËøîÂõû‰∫§ÈõÜ„ÄÇ</p><p>sinterstore destination key1 key2ÔºöÂ∞ÜËøîÂõûÁöÑ‰∫§ÈõÜÂ≠òÂÇ®Âú®destination‰∏ä„ÄÇ</p><p><img src="E:/notes/Day75-Redis/1.%E8%AF%BE%E4%BB%B6/34.redis/01.%E8%AF%BE%E4%BB%B6/Pictures/18.png"></p><p>sunion key1 key2ÔºöËøîÂõûÂπ∂ÈõÜ„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239623.png"></p><p>sunionstore destination key1 key2ÔºöÂ∞ÜËøîÂõûÁöÑÂπ∂ÈõÜÂ≠òÂÇ®Âú®destination‰∏ä</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239546.png"></p></blockquote><blockquote><p>‰ΩøÁî®Âú∫ÊôØÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><p>ÂÖ¨Âè∏Âπ¥‰ºöÔºåÈöèÊú∫ÊäΩÂ•ñÂ∞èÁ®ãÂ∫è</p><p>1.ÊääÊâÄÊúâÁî®Êà∑Áªü‰∏ÄÂ≠òÂÖ•setÈõÜÂêà‰∏≠</p><p>2.Êü•ÁúãÊâÄÊúâÊäΩÂ•ñ‰∫∫Êï∞</p><p>3.ÈöèÊú∫ÊäΩÂèñÊåáÂÆöÂæóÂ•ñ‰∫∫Êï∞Âπ∂‰ªésetÈõÜÂêà‰∏≠Âà†Èô§</p><p>ÂÆûÁé∞Ôºö</p><p>1.sadd  choujiang  userid1,userid2,userid3‚Ä¶</p><p>2.smembers  choujiang</p><p>3.spop  choujiang  [count]</p></blockquote><blockquote><p>ÂæÆ‰ø°ÁÇπËµûÔºåÂæÆÂçöÊî∂Ëóè</p><p>1.ÁÇπËµûÔºåÂàõÂª∫ÈõÜÂêàÂπ∂Âä†ÂÖ•ÂØπÂ∫îÁî®Êà∑</p><p>2.ÂèñÊ∂àÁÇπËµûÔºå‰ªéÈõÜÂêà‰∏≠Âà†Èô§ÂØπÂ∫îÁî®Êà∑</p><p>3.Ê£ÄÊü•Áî®Êà∑ÊòØÂê¶ÁÇπËøáËµû</p><p>4.Ëé∑ÂèñÁÇπËµûÁî®Êà∑ÂàóË°®</p><p>5.Ëé∑ÂèñÁÇπËµûÁî®Êà∑Êï∞Èáè</p><p>ÂÆûÁé∞Ôºö</p><p>1.sadd  dianzan userid1,userid2,userid3‚Ä¶</p><p>2.srem dianzan userid1</p><p>3.sismember dianzan userid1</p><p>4.smembers dianzan</p><p>5.scard dianzan</p></blockquote><blockquote><p>ÂèØËÉΩËÆ§ËØÜÁöÑ‰∫∫Êé®Ëçê</p><p>1.‰∏§‰∏™ÈõÜÂêàÂèñ‰∫§ÈõÜ</p><p>ÂÆûÁé∞Ôºö</p><p>1.sinter user1list,user2list‚Ä¶</p><p>2.sinterstore list user1list,user2list‚Ä¶</p></blockquote><h4 id="5-4-ÊúâÂ∫èÈõÜÂêà-sorted-set"><a href="#5-4-ÊúâÂ∫èÈõÜÂêà-sorted-set" class="headerlink" title="5.4 ÊúâÂ∫èÈõÜÂêà(sorted set)"></a>5.4 ÊúâÂ∫èÈõÜÂêà(sorted set)</h4><blockquote><p>zadd key score member score2 member2 ‚Ä¶ ÔºöÂ∞ÜÊâÄÊúâÊàêÂëò‰ª•ÂèäËØ•ÊàêÂëòÁöÑÂàÜÊï∞Â≠òÊîæÂà∞sorted-set‰∏≠„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239166.png"></p><p>zcard keyÔºöËé∑ÂèñÈõÜÂêà‰∏≠ÁöÑÊàêÂëòÊï∞Èáè„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239334.png"></p><p>zcount key min maxÔºöËé∑ÂèñÂàÜÊï∞Âú®[min,max]‰πãÈó¥ÁöÑÊàêÂëò„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239837.png"></p><p>zincrby key increment memberÔºöËÆæÁΩÆÊåáÂÆöÊàêÂëòÁöÑÂ¢ûÂä†ÁöÑÂàÜÊï∞„ÄÇ</p><p>zrangebyscore key min max [withscores] [limit offset count]ÔºöËøîÂõûÂàÜÊï∞Âú®[min,max]ÁöÑÊàêÂëòÂπ∂ÊåâÁÖßÂàÜÊï∞‰ªé‰ΩéÂà∞È´òÊéíÂ∫è„ÄÇ[withscores]ÔºöÊòæÁ§∫ÂàÜÊï∞Ôºõ[limit offset count]ÔºöoffsetÔºåË°®Êòé‰ªéËÑöÊ†á‰∏∫offsetÁöÑÂÖÉÁ¥†ÂºÄÂßãÂπ∂ËøîÂõûcount‰∏™ÊàêÂëò„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239543.png"></p><p>zrevrangebyscore key min max [withscores] [limit offset count]Ôºö‰∏äÈù¢Á±ª‰ººÔºàscoreÈúÄ‰ªéÂ§ßÂà∞Â∞èÔºâÔºå‰ªéÈ´òÂà∞Â∫ïÊéíÂ∫è</p></blockquote><blockquote><p>‰ΩøÁî®Âú∫ÊôØÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><p>ÊéíË°åÊ¶úÂÆûÁé∞</p><p>1.ÂØπÊí≠ÊîæÁöÑËßÜÈ¢ëÔºåÂàÜÊï∞Ëá™Â¢û1</p><p>2.Â±ïÁ§∫ÊéíË°åÊ¶úÂâçÂçÅÁöÑËßÜÈ¢ë</p><p>ÂÆûÁé∞Ôºö</p><p>1.zincrby  videos  1  video1id</p><p>2.zrevrangebyscore videos  100 0  withscores limit 0 10 Ôºàzrevrangebyscore‰ªéÂ§ßÂà∞Â∞èÊéíÂ∫èÔºâ</p></blockquote><h4 id="5-5-ÂìàÂ∏å-Hash"><a href="#5-5-ÂìàÂ∏å-Hash" class="headerlink" title="5.5 ÂìàÂ∏å(Hash)"></a>5.5 ÂìàÂ∏å(Hash)</h4><blockquote><p>hset key field valueÔºö‰∏∫ÊåáÂÆöÁöÑkeyËÆæÂÆöfield&#x2F;valueÂØπÔºàÈîÆÂÄºÂØπÔºâ„ÄÇ</p><p>hget key fieldÔºöËøîÂõûÊåáÂÆöÁöÑkey‰∏≠ÁöÑfieldÁöÑÂÄº„ÄÇ</p><p>hgetall keyÔºöËé∑Âèñkey‰∏≠ÁöÑÊâÄÊúâfiled-vaule„ÄÇ</p><p>hlen keyÔºöËé∑ÂèñkeyÊâÄÂåÖÂê´ÁöÑfieldÁöÑÊï∞Èáè„ÄÇ</p><p>hincrby key field incrementÔºöËÆæÁΩÆkey‰∏≠filedÁöÑÂÄºÂ¢ûÂä†increment</p><p>hdel key field [field ‚Ä¶]ÔºöÂà†Èô§key‰∏≠ÁöÑÂ±ûÊÄß</p></blockquote><blockquote><p>‰ΩøÁî®Âú∫ÊôØÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><p>Ë¥≠Áâ©ËΩ¶Âú∫ÊôØÔºö</p><p>1.Áî®Êà∑ÁöÑid‰Ωú‰∏∫key</p><p>2.ÂïÜÂìÅÁöÑid‰Ωú‰∏∫fieldÔºàÂ±ûÊÄßÔºâ</p><p>3.ÂïÜÂìÅÁöÑÊï∞Èáè‰Ωú‰∏∫valueÔºàÂ±ûÊÄßÂÄºÔºâ</p><p>Ë¥≠Áâ©ËΩ¶Êìç‰ΩúÔºö</p><p>1.Áî®Êà∑Ê∑ªÂä†Ë¥≠Áâ©ËΩ¶Ôºöhset cart:1001  20001   1    Ôºàid‰∏∫1001ÁöÑÁî®Êà∑Ê∑ªÂä†‰∫Ü‰∏Ä‰∏™id‰∏∫20001ÁöÑÂïÜÂìÅÔºåÊï∞Èáè‰∏∫1‰∏™Ôºâ</p><p>2.Â¢ûÂä†ÂØπÂ∫îÂïÜÂìÅÊï∞ÈáèÔºöhincrby cart:1001  20001  1</p><p>3.Êü•ËØ¢ÂïÜÂìÅÊÄªÊï∞Ôºöhlen cart:1001</p><p>4.Âà†Èô§ËØ•Áî®Êà∑ÁöÑÊüê‰∏™ÂïÜÂìÅÔºöhdel cart:1001  20001</p><p>5.Êü•ËØ¢ËØ•Áî®Êà∑Ë¥≠Áâ©ËΩ¶‰ø°ÊÅØÔºöhgetall cart:1001</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071239965.png"></p><h4 id="5-6-ÈÄöÁî®Êìç‰Ωú"><a href="#5-6-ÈÄöÁî®Êìç‰Ωú" class="headerlink" title="5.6 ÈÄöÁî®Êìç‰Ωú"></a>5.6 ÈÄöÁî®Êìç‰Ωú</h4><blockquote><p>keys pattenÔºöËé∑ÂèñÊâÄÊúâ‰∏épattenÂåπÈÖçÁöÑkeyÔºå*Ë°®Á§∫‰ªªÊÑèÂ≠óÁ¨¶Ôºå?Ë°®Á§∫‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ</p><p>del key1 key2‚Ä¶.ÔºöÂà†Èô§ÊåáÂÆöÁöÑkey„ÄÇ</p><p>exists keyÔºöÂà§Êñ≠ËØ•keyÊòØÂê¶Â≠òÂú®Ôºå1Ë°®Á§∫Â≠òÂú®Ôºå0Ë°®Á§∫‰∏çÂ≠òÂú®„ÄÇ</p><p>expire key secondÔºö‰∏∫ÂΩìÂâçkeyËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ„ÄÇ</p><p>ttl keyÔºöÊü•ÁúãÂΩìÂâçkeyÂâ©‰ΩôËøáÊúüÊó∂Èó¥„ÄÇ</p><p>flushall:   Âà†Èô§ÊâÄÊúâkeyÔºàÊÖéÁî®Ôºâ</p><p>flushdb:  Âà†Èô§ÊâÄÊúâkeyÔºàÊÖéÁî®Ôºâ</p></blockquote><h3 id="ÂÖ≠„ÄÅJedisÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë"><a href="#ÂÖ≠„ÄÅJedisÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë" class="headerlink" title="ÂÖ≠„ÄÅJedisÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë"></a>ÂÖ≠„ÄÅJedisÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë</h3><hr><blockquote><p>1.‰øÆÊîπ&#x2F;usr&#x2F;local&#x2F;redis-5.0.4&#x2F;binÁõÆÂΩï‰∏ãÁöÑredis.confÈÖçÁΩÆÊñá‰ª∂ÔºåÁÑ∂ÂêéÂêØÂä®redisÊúçÂä°Á´Ø</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240709.png"></p><p>‰øÆÊîπredis.confÊñá‰ª∂‰∏≠ÁöÑbind‰∏∫Ôºö0.0.0.0ÔºåÁÑ∂ÂêéÊää‰øùÊä§Ê®°ÂºèÂÖ≥Êéâ</p></blockquote><blockquote><p>Â¶ÇÈúÄËÆæÁΩÆÂØÜÁ†ÅÔºåÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰∏§ÁßçÊñπÂºèÔºö</p><p>ÊñπÂºè‰∏ÄÔºöÈÄöËøá‰øÆÊîπ redis.conf Êñá‰ª∂ÔºåËÆæÁΩÆRedisÁöÑÂØÜÁ†ÅÊ†°È™å</p><p>requirepass ÂØÜÁ†Å</p><p>ÊñπÂºè‰∫åÔºöÂú®‰∏ç‰øÆÊîπ redis.conf Êñá‰ª∂ÁöÑÂâçÊèê‰∏ãÔºåÂú®Á¨¨‰∏ÄÊ¨°ÈìæÊé•RedisÊó∂ÔºåËæìÂÖ•ÂëΩ‰ª§ÔºöConfig set requirepass ÂØÜÁ†Å</p><p>ÂêéÁª≠ËøûÊé•redisÂÆ¢Êà∑Á´ØÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÂÖà AUTH ÂÅö‰∏Ä‰∏ãÊ†°È™å</p><p>127.0.0.1:6379&gt; auth ÂØÜÁ†Å</p></blockquote><blockquote><p>2.ÂàõÂª∫MavenÂ∑•Á®ãÔºåÂØºÂÖ•‰æùËµñ</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- jedisÂÆ¢Êà∑Á´Ø --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.13.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>3.ÁºñÂÜôÂÆû‰ΩìÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qf.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4.ÁºñÂÜôÊµãËØïÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qf.jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson2.JSON;</span><br><span class="line"><span class="keyword">import</span> com.qf.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JedisTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñÂÆ¢Êà∑Á´ØÂØπË±°</span></span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;192.168.126.129&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        <span class="comment">//Â¶ÇÊûúÊúâÂØÜÁ†ÅÔºåÂøÖÈ°ªËÆæÁΩÆ</span></span><br><span class="line">        <span class="comment">//jedis.auth(&quot;root&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Â≠òÂÇ®StringÁ±ªÂûãÊï∞ÊçÆ</span></span><br><span class="line">        jedis.set(<span class="string">&quot;content&quot;</span>,<span class="string">&quot;java2203&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂèñStringÂÄº</span></span><br><span class="line">        System.out.println(jedis.get(<span class="string">&quot;content&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Â≠òÂØπË±°</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">1</span>);</span><br><span class="line">        user.setName(<span class="string">&quot;Âº†‰∏â&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">userJson</span> <span class="operator">=</span> JSON.toJSONString(user);</span><br><span class="line">        jedis.set(<span class="string">&quot;user&quot;</span>,userJson);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂèñÂØπË±°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">jsonStringUser</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        System.out.println(jsonStringUser);</span><br><span class="line">        <span class="type">User</span> <span class="variable">db_user</span> <span class="operator">=</span> JSON.parseObject(jsonStringUser, User.class);</span><br><span class="line">        System.out.println(db_user);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//ÈÄöËøáÊ±†ÊãøjedisÂØπË±°</span></span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆ‰∏Ä‰∫õÂèÇÊï∞</span></span><br><span class="line">        <span class="type">JedisPoolConfig</span> <span class="variable">jedisPoolConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÂèÇÊï∞</span></span><br><span class="line">        jedisPoolConfig.setMaxTotal(<span class="number">200</span>);<span class="comment">//ÊúÄÂ§ßËøûÊé•Êï∞</span></span><br><span class="line">        jedisPoolConfig.setMaxIdle(<span class="number">20</span>);<span class="comment">//ÊúÄÂ§ßÁ©∫Èó≤</span></span><br><span class="line">        jedisPoolConfig.setMinIdle(<span class="number">1</span>);<span class="comment">//ÊúÄÂ∞èÁ©∫Èó≤</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂàõÂª∫JedisPoolÂØπË±°</span></span><br><span class="line">        <span class="type">JedisPool</span> <span class="variable">jedisPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPool</span>(jedisPoolConfig,<span class="string">&quot;192.168.126.129&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñjedisÂØπË±°</span></span><br><span class="line">        <span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> jedisPool.getResource();</span><br><span class="line">        <span class="comment">//Â¶ÇÊûúÊúâÂØÜÁ†ÅÔºåÂøÖÈ°ªËÆæÁΩÆ</span></span><br><span class="line">        <span class="comment">//jedis.auth(&quot;root&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Êìç‰ΩúListÈõÜÂêà</span></span><br><span class="line">        jedis.lpush(<span class="string">&quot;sina001&quot;</span>,<span class="string">&quot;‰ªäÂ§©‰∏≠ÂçàÂêÉ‰ªÄ‰πàÔºü&quot;</span>,<span class="string">&quot;‰ªäÂ§©Êôö‰∏äÂñù‰ªÄ‰πà&quot;</span>);</span><br><span class="line">        System.out.println(jedis.lrange(<span class="string">&quot;sina001&quot;</span>,<span class="number">0</span>,-<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Êìç‰ΩúSetÈõÜÂêà</span></span><br><span class="line">        jedis.sadd(<span class="string">&quot;userList&quot;</span>,<span class="string">&quot;jack&quot;</span>,<span class="string">&quot;rose&quot;</span>,<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        System.out.println(jedis.smembers(<span class="string">&quot;userList&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÊúâÂ∫èSet‰ª•ÂèäHash</span></span><br><span class="line">        <span class="comment">//....</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        jedis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="‰∏É„ÄÅRedis‰∏≠ÁöÑ‰∫ãÂä°„Äê‰∫ÜËß£„Äë"><a href="#‰∏É„ÄÅRedis‰∏≠ÁöÑ‰∫ãÂä°„Äê‰∫ÜËß£„Äë" class="headerlink" title="‰∏É„ÄÅRedis‰∏≠ÁöÑ‰∫ãÂä°„Äê‰∫ÜËß£„Äë"></a>‰∏É„ÄÅRedis‰∏≠ÁöÑ‰∫ãÂä°„Äê‰∫ÜËß£„Äë</h3><hr><blockquote><p>Redis‰∏≠ÁöÑ‰∫ãÂä°ÂíåMySQL‰∏≠ÁöÑ‰∫ãÂä°ÊúâÊú¨Ë¥®ÁöÑÂå∫Âà´ÔºåRedis‰∏≠ÁöÑ‰∫ãÂä°ÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÈöîÁ¶ªÊìç‰ΩúÔºå‰∫ãÂä°‰∏≠ÊâÄÊúâÁöÑÂëΩ‰ª§ÈÉΩ‰ºöÂ∫èÂàóÂåñÔºåÊåâÁÖßÈ°∫Â∫èÊâßË°åÔºå‰∫ãÂä°Âú®ÊâßË°åÁöÑËøáÁ®ã‰∏≠Ôºå‰∏ç‰ºöË¢´ÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÂèëÊù•ÁöÑÂëΩ‰ª§ÊâÄÊâìÊñ≠ÔºåÂõ†‰∏∫RedisÊúçÂä°Á´ØÊòØ‰∏™ÂçïÁ∫øÁ®ãÁöÑÊû∂ÊûÑÔºå‰∏çÂêåÁöÑClientËôΩÁÑ∂Áúã‰ººÂèØ‰ª•ÂêåÊó∂‰øùÊåÅËøûÊé•Ôºå‰ΩÜÂèëÂá∫ÂéªÁöÑÂëΩ‰ª§ÊòØÂ∫èÂàóÂåñÊâßË°åÁöÑÔºåËøôÂú®ÈÄöÂ∏∏ÁöÑÊï∞ÊçÆÂ∫ìÁêÜËÆ∫‰∏ãÊòØÊúÄÈ´òÁ∫ßÂà´ÁöÑÈöîÁ¶ª„ÄÇ</p><p>Redis‰∏≠ÁöÑ‰∫ãÂä°ÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏≤ËÅîÂ§ö‰∏™ÂëΩ‰ª§ÔºåÈò≤Ê≠¢Âà´ÁöÑÂëΩ‰ª§ÊèíÈòü„ÄÇ</p><p>Â∏∏Áî®ÂëΩ‰ª§Ôºömulti„ÄÅexec„ÄÅdiscard„ÄÅwatch„ÄÅunwatch</p><p>ÂΩìËæìÂÖ•multiÂëΩ‰ª§Êó∂Ôºå‰πãÂêéËæìÂÖ•ÁöÑÂëΩ‰ª§ÈÉΩ‰ºöË¢´ÊîæÂú®ÈòüÂàó‰∏≠Ôºå‰ΩÜ‰∏ç‰ºöÊâßË°åÔºåÁõ¥Âà∞ËæìÂÖ•execÂêéÔºåRedis‰ºöÂ∞ÜÈòüÂàó‰∏≠ÁöÑÂëΩ‰ª§‰æùÊ¨°ÊâßË°åÔºådiscardÁî®Êù•Êí§ÈîÄExec‰πãÂâçË¢´ÊöÇÂ≠òÁöÑÂëΩ‰ª§ÔºåÂπ∂‰∏çÊòØÂõûÊªö„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240256.png"></p></blockquote><blockquote><p>watch&#x2F;unwatch</p><p>Âú®ÊâßË°åmulti‰πãÂâçÔºåÂÖàÊâßË°åwatch key1 [key2‚Ä¶] ÔºåwatchÊèê‰æõÁöÑ‰πêËßÇÈîÅÂäüËÉΩÔºàÂàùÂßãÊó∂‰∏Ä‰∏™ÁâàÊú¨Âè∑Ôºåexec‰πãÂêé‰ºöÊõ¥Êñ∞ÂΩìÂâçÁâàÊú¨Âè∑ÔºâÔºåÂú®‰Ω†execÁöÑÈÇ£‰∏ÄÂàªÔºåÂ¶ÇÊûúË¢´watchÁöÑÈîÆÂèëÁîüËøáÊîπÂä®ÔºåÂàômultiÂà∞exec‰πãÈó¥ÁöÑÊåá‰ª§ÂÖ®ÈÉ®‰∏çÊâßË°å„ÄÇ</p><p>watchË°®Á§∫ÁõëÊéßÔºåÁõ∏ÂΩì‰∫éÂä†ÈîÅÔºå‰ΩÜÂú®ÊâßË°åÂÆåexecÊó∂Â∞±‰ºöËß£ÈîÅ„ÄÇ</p><p>unwatchÂèñÊ∂àÊâÄÊúâÈîÅ„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240336.png"></p></blockquote><blockquote><p>Redis‰∏≠ÁöÑ‰∫ãÂä°ÁöÑÁâπÊÄßÊÄªÁªì</p><p>1.ÂçïÁã¨ÁöÑÈöîÁ¶ªÊìç‰Ωú</p><p>‚Äã‰∫ãÂä°‰∏≠ÁöÑÊâÄÊúâÂëΩ‰ª§ÈÉΩ‰ºöÂ∫èÂàóÂåñÔºåÁÑ∂ÂêéÊåâÈ°∫Â∫èÊâßË°åÔºåÂú®ÊâßË°åËøáÁ®ã‰∏≠Ôºå‰∏ç‰ºöË¢´ÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑÂëΩ‰ª§ÊâìÊñ≠„ÄÇ</p><p>2.Ê≤°ÊúâÈöîÁ¶ªÁ∫ßÂà´ÁöÑÊ¶ÇÂøµ</p><p>‚ÄãÈòüÂàó‰∏≠ÁöÑÂëΩ‰ª§Ê≤°ÊúâË¢´Êèê‰∫§‰πãÂâçÈÉΩ‰∏ç‰ºöÊâßË°å„ÄÇ</p><p>3.‰∏çËÉΩ‰øùËØÅÂéüÂ≠êÊÄß</p><p>‚ÄãRedisÂêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠Â¶ÇÊûúÊúâ‰∏ÄÊù°ÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÔºåÂÖ∂ÂêéÁöÑÂëΩ‰ª§‰ªçÁÑ∂‰ºöË¢´ÊâßË°åÔºå‰∏ç‰ºöÂõûÊªö</p></blockquote><h3 id="ÂÖ´„ÄÅRedisÊ∂àÊÅØËÆ¢ÈòÖ‰∏éÂèëÂ∏É„Äê‰∫ÜËß£„Äë"><a href="#ÂÖ´„ÄÅRedisÊ∂àÊÅØËÆ¢ÈòÖ‰∏éÂèëÂ∏É„Äê‰∫ÜËß£„Äë" class="headerlink" title="ÂÖ´„ÄÅRedisÊ∂àÊÅØËÆ¢ÈòÖ‰∏éÂèëÂ∏É„Äê‰∫ÜËß£„Äë"></a>ÂÖ´„ÄÅRedisÊ∂àÊÅØËÆ¢ÈòÖ‰∏éÂèëÂ∏É„Äê‰∫ÜËß£„Äë</h3><hr><blockquote><p>subscribe channel   ËÆ¢ÈòÖÈ¢ëÈÅì      ‰æãÂ¶ÇÔºösubscribe cctv5</p><p>publish channel content  Âú®ÊåáÂÆöÈ¢ëÈÅì‰∏≠ÂèëÂ∏ÉÂÜÖÂÆπ  ‰æãÂ¶ÇÔºöpublish cctv5 basketball</p><p>ÂêåÊó∂ÊâìÂºÄ‰∏§‰∏™ÂÆ¢Êà∑Á´ØÔºå‰∏Ä‰∏™ËÆ¢ÈòÖÈ¢ëÈÅìÔºå‰∏Ä‰∏™Âú®È¢ëÈÅì‰∏≠ÂèëÂ∏ÉÂÜÖÂÆπÔºåËÆ¢ÈòÖÈ¢ëÈÅìÁöÑÂÆ¢Êà∑Á´Ø‰ºöÊé•Êî∂Âà∞Ê∂àÊÅØ„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240777.png"></p></blockquote><h3 id="‰πù„ÄÅRedisÂõæÂΩ¢ÂåñÁ®ãÂ∫èÁïåÈù¢„Äê‰∫ÜËß£„Äë"><a href="#‰πù„ÄÅRedisÂõæÂΩ¢ÂåñÁ®ãÂ∫èÁïåÈù¢„Äê‰∫ÜËß£„Äë" class="headerlink" title="‰πù„ÄÅRedisÂõæÂΩ¢ÂåñÁ®ãÂ∫èÁïåÈù¢„Äê‰∫ÜËß£„Äë"></a>‰πù„ÄÅRedisÂõæÂΩ¢ÂåñÁ®ãÂ∫èÁïåÈù¢„Äê‰∫ÜËß£„Äë</h3><hr><blockquote><p> Redis‰∏≠ÈªòËÆ§Êúâ16‰∏™Â∫ìÔºåÂèØ‰ª•Âú®‰∏çÂêåÁöÑÂ∫ì‰∏≠Â≠òÂÇ®Êï∞ÊçÆÔºåÈªòËÆ§‰ΩøÁî®0Âè∑Â∫ìÂ≠òÂÇ®Êï∞ÊçÆÔºå‰ΩøÁî®select 0-15ÂèØ‰ª•ÈÄâÊã©‰∏çÂêåÁöÑÂ∫ì„ÄÇ</p><p> <img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240008.png"></p></blockquote><blockquote><p>ÂÆâË£Ö‰πãÂâçÔºåÈúÄË¶Å‰øÆÊîπredis.confÊñá‰ª∂‰∏≠ÁöÑbind‰∏∫Ôºö0.0.0.0Ôºà‰πãÂâçÂ∑≤Áªè‰øÆÊîπËøá‰∫ÜÔºâ</p></blockquote><blockquote><p>‰∏ãËΩΩÂú∞ÂùÄÔºö<a href="https://github.com/lework/RedisDesktopManager-Windows">https://github.com/lework/RedisDesktopManager-Windows</a></p></blockquote><blockquote><p>ÂÆâË£Ö‰πãÂêéÔºåËæìÂÖ•IPÂú∞ÂùÄÁôªÂΩïÂç≥ÂèØÁúãÂà∞Â¶Ç‰∏ãÁïåÈù¢Ôºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240715.png"></p></blockquote><h3 id="ÂçÅ„ÄÅRedis‰∏≠ÁöÑÊåÅ‰πÖÂåñ„ÄêÈáçÁÇπ„Äë"><a href="#ÂçÅ„ÄÅRedis‰∏≠ÁöÑÊåÅ‰πÖÂåñ„ÄêÈáçÁÇπ„Äë" class="headerlink" title="ÂçÅ„ÄÅRedis‰∏≠ÁöÑÊåÅ‰πÖÂåñ„ÄêÈáçÁÇπ„Äë"></a>ÂçÅ„ÄÅRedis‰∏≠ÁöÑÊåÅ‰πÖÂåñ„ÄêÈáçÁÇπ„Äë</h3><hr><blockquote><p>RedisÊúâ‰∏§ÁßçÊåÅ‰πÖÂåñÊñπÂºèÔºöRDBÂíåAOF„ÄÇ</p></blockquote><h4 id="1-RDBÔºàRedis-DataBaseÔºâ"><a href="#1-RDBÔºàRedis-DataBaseÔºâ" class="headerlink" title="1.RDBÔºàRedis DataBaseÔºâ"></a>1.RDBÔºàRedis DataBaseÔºâ</h4><blockquote><p>Â∞ÜÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰ª•Âø´ÁÖßÁöÑÊñπÂºèÂÜôÂÖ•Á£ÅÁõò‰∏≠ÔºåÂú®redis.confÊñá‰ª∂‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊâæÂà∞Â¶Ç‰∏ãÈÖçÁΩÆÔºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240254.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240309.png"></p><p>save 900 1</p><p>save 300 10</p><p>save 60 10000</p><p>ÈÖçÁΩÆÂê´‰πâÔºö</p><p>900ÁßíÂÜÖÔºåÂ¶ÇÊûúË∂ÖËøá1‰∏™keyË¢´‰øÆÊîπÔºåÂàôÂèëËµ∑Âø´ÁÖß‰øùÂ≠ò</p><p>300ÁßíÂÜÖÔºåÂ¶ÇÊûúË∂ÖËøá10‰∏™keyË¢´‰øÆÊîπÔºåÂàôÂèëËµ∑Âø´ÁÖß‰øùÂ≠ò</p><p>60ÁßíÂÜÖÔºåÂ¶ÇÊûú1‰∏á‰∏™keyË¢´‰øÆÊîπÔºåÂàôÂèëËµ∑Âø´ÁÖß‰øùÂ≠ò</p><p>RDBÊñπÂºèÂ≠òÂÇ®ÁöÑÊï∞ÊçÆ‰ºöÂú®</p><p>dump.rdbÊñá‰ª∂‰∏≠ÔºàÂú®Âì™‰∏™ÁõÆÂΩïÂêØÂä®redisÊúçÂä°Á´ØÔºåËØ•Êñá‰ª∂Â∞±‰ºöÂú®ÂØπÂ∫îÁõÆÂΩï‰∏ãÁîüÊàêÔºâÔºåËØ•Êñá‰ª∂‰∏çËÉΩÊü•ÁúãÔºåÂ¶ÇÈúÄÂ§á‰ªΩÔºåÂØπRedisÊìç‰ΩúÂÆåÊàê‰πãÂêéÔºåÂè™ÈúÄÊã∑Ë¥ùËØ•Êñá‰ª∂Âç≥ÂèØÔºàRedisÊúçÂä°Á´ØÂêØÂä®Êó∂‰ºöËá™Âä®Âä†ËΩΩËØ•Êñá‰ª∂Ôºâ</p></blockquote><h4 id="2-AOFÔºàAppend-Of-FileÔºâ"><a href="#2-AOFÔºàAppend-Of-FileÔºâ" class="headerlink" title="2.AOFÔºàAppend Of FileÔºâ"></a>2.AOFÔºàAppend Of FileÔºâ</h4><blockquote><p>AOFÈªòËÆ§ÊòØ‰∏çÂºÄÂêØÁöÑÔºåÈúÄË¶ÅÊâãÂä®ÂºÄÂêØÔºåÂêåÊ†∑ÊòØÂú®redis.confÊñá‰ª∂‰∏≠ÂºÄÂêØÔºåÂ¶Ç‰∏ãÔºö</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240657.png"></p><p>ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑappendonly‰øÆÊîπ‰∏∫yesÔºåÂºÄÂêØAOFÊåÅ‰πÖÂåñ„ÄÇÂºÄÂêØÂêéÔºåÂêØÂä®redisÊúçÂä°Á´ØÔºåÂèëÁé∞Â§ö‰∫Ü‰∏Ä‰∏™appendonly.aofÊñá‰ª∂„ÄÇ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240766.png"></p><p>‰πãÂêé‰ªª‰ΩïÁöÑÊìç‰ΩúÈÉΩ‰ºö‰øùÂ≠òÂú®appendonly.aofÊñá‰ª∂‰∏≠ÔºåÂèØ‰ª•ËøõË°åÊü•ÁúãÔºåRedisÂêØÂä®Êó∂‰ºöÂ∞Üappendonly.aofÊñá‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÊâßË°å‰∏ÄÈÅç„ÄÇ</p><p>Â¶ÇÊûúAOFÂíåRDBÂêåÊó∂ÂºÄÂêØÔºåÁ≥ªÁªü‰ºöÈªòËÆ§ËØªÂèñAOFÁöÑÊï∞ÊçÆ„ÄÇ</p></blockquote><h4 id="3-ÊÄªÁªì"><a href="#3-ÊÄªÁªì" class="headerlink" title="3.ÊÄªÁªì"></a>3.ÊÄªÁªì</h4><blockquote><p><strong>RDB‰ºòÁÇπ‰∏éÁº∫ÁÇπ</strong></p><p>‰ºòÁÇπ</p><p>Â¶ÇÊûúË¶ÅËøõË°åÂ§ßËßÑÊ®°Êï∞ÊçÆÁöÑÊÅ¢Â§çÔºåRDBÊñπÂºèË¶ÅÊØîAOFÊñπÂºèÊÅ¢Â§çÈÄüÂ∫¶Ë¶ÅÂø´„ÄÇ</p><p>RDBÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Á¥ßÂáë(compact)ÁöÑÊñá‰ª∂,ÂÆÉ‰øùÂ≠ò‰∫ÜÊüê‰∏™Êó∂Èó¥ÁÇπÁöÑÊï∞ÊçÆÈõÜÔºåÈùûÂ∏∏ÈÄÇÂêàÁî®‰ΩúÂ§á‰ªΩÔºåÂêåÊó∂‰πüÈùûÂ∏∏ÈÄÇÂêàÁî®‰ΩúÁÅæÈöæÊÄßÊÅ¢Â§çÔºåÂÆÉÂè™Êúâ‰∏Ä‰∏™Êñá‰ª∂ÔºåÂÜÖÂÆπÁ¥ßÂáëÔºåÈÄöËøáÂ§á‰ªΩÂéüÊñá‰ª∂Âà∞Êú¨Êú∫Â§ñÁöÑÂÖ∂‰ªñ‰∏ªÊú∫‰∏äÔºå‰∏ÄÊó¶Êú¨Êú∫ÂèëÁîüÂÆïÊú∫ÔºåÂ∞±ËÉΩÂ∞ÜÂ§á‰ªΩÊñá‰ª∂Â§çÂà∂Âà∞redisÂÆâË£ÖÁõÆÂΩï‰∏ãÔºåÈÄöËøáÂêØÁî®ÊúçÂä°Â∞±ËÉΩÂÆåÊàêÊï∞ÊçÆÁöÑÊÅ¢Â§ç„ÄÇ</p><p>Áº∫ÁÇπ</p><p>RDBËøôÁßçÊåÅ‰πÖÂåñÊñπÂºè‰∏çÂ§™ÈÄÇÂ∫îÂØπÊï∞ÊçÆÂÆåÊï¥ÊÄßË¶ÅÊ±Ç‰∏•Ê†ºÁöÑÊÉÖÂÜµÔºåÂõ†‰∏∫ÔºåÂ∞ΩÁÆ°Êàë‰ª¨ÂèØ‰ª•Áî®Ëøá‰øÆÊîπÂø´ÁÖßÂÆûÁé∞ÊåÅ‰πÖÂåñÁöÑÈ¢ëÁéáÔºå‰ΩÜÊòØË¶ÅÊåÅ‰πÖÂåñÁöÑÊï∞ÊçÆÊòØ‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÊï¥‰∏™Êï∞ÊçÆÈõÜÁöÑÁä∂ÊÄÅÔºåÂ¶ÇÊûúÂú®ËøòÊ≤°ÊúâËß¶ÂèëÂø´ÁÖßÊó∂ÔºåÊú¨Êú∫Â∞±ÂÆïÊú∫‰∫ÜÔºåÈÇ£‰πàÂØπÊï∞ÊçÆÂ∫ìÊâÄÂÅöÁöÑÂÜôÊìç‰ΩúÂ∞±Èöè‰πãËÄåÊ∂àÂ§±‰∫ÜÂπ∂Ê≤°ÊúâÊåÅ‰πÖÂåñÊú¨Âú∞dump.rdbÊñá‰ª∂‰∏≠„ÄÇ</p><p><strong>AOF‰ºòÁÇπ‰∏éÁº∫ÁÇπ</strong></p><p>‰ºòÁÇπ</p><p>AOFÊúâÁùÄÂ§öÁßçÊåÅ‰πÖÂåñÁ≠ñÁï•Ôºö</p><p>appendfsync always:ÊØè‰øÆÊîπÂêåÊ≠•ÔºåÊØè‰∏ÄÊ¨°ÂèëÁîüÊï∞ÊçÆÂèòÊõ¥ÈÉΩ‰ºöÊåÅ‰πÖÂåñÂà∞Á£ÅÁõò‰∏äÔºåÊÄßËÉΩËæÉÂ∑ÆÔºå‰ΩÜÊï∞ÊçÆÂÆåÊï¥ÊÄßËæÉÂ•Ω„ÄÇ</p><p>appendfsync everysec: ÊØèÁßíÂêåÊ≠•ÔºåÊØèÁßíÂÜÖËÆ∞ÂΩïÊìç‰ΩúÔºåÂºÇÊ≠•Êìç‰ΩúÔºåÂ¶ÇÊûú‰∏ÄÁßíÂÜÖÂÆïÊú∫ÔºåÊúâÊï∞ÊçÆ‰∏¢Â§±„ÄÇ</p><p>appendfsync no:‰∏çÂêåÊ≠•„ÄÇ</p><p>AOFÊñá‰ª∂ÊòØ‰∏Ä‰∏™Âè™ËøõË°åËøΩÂä†Êìç‰ΩúÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÂØπÊñá‰ª∂ÂÜôÂÖ•‰∏çÈúÄË¶ÅËøõË°åseekÔºåÂç≥‰ΩøÂú®ËøΩÂä†ÁöÑËøáÁ®ã‰∏≠ÔºåÂÜôÂÖ•‰∫Ü‰∏çÂÆåÊï¥ÁöÑÂëΩ‰ª§Ôºà‰æãÂ¶ÇÔºöÁ£ÅÁõòÂ∑≤Êª°ÔºâÔºåÂèØ‰ª•‰ΩøÁî®redis-check-aofÂ∑•ÂÖ∑ÂèØ‰ª•‰øÆÂ§çËøôÁßçÈóÆÈ¢ò</p><p>RedisÂèØ‰ª•Âú®AOFÊñá‰ª∂ÂèòÂæóËøáÂ§ßÊó∂Ôºå‰ºöËá™Âä®Âú∞Âú®ÂêéÂè∞ÂØπAOFËøõË°åÈáçÂÜôÔºöÈáçÂÜôÂêéÁöÑÊñ∞ÁöÑAOFÊñá‰ª∂ÂåÖÂê´‰∫ÜÊÅ¢Â§çÂΩìÂâçÊï∞ÊçÆÈõÜÊâÄÈúÄÁöÑÊúÄÂ∞èÂëΩ‰ª§ÈõÜÂêà„ÄÇÊï¥‰∏™ÈáçÂÜôÊìç‰ΩúÊòØÁªùÂØπÂÆâÂÖ®ÁöÑÔºåÂõ†‰∏∫RedisÂú®ÂàõÂª∫AOFÊñá‰ª∂ÁöÑËøáÁ®ã‰∏≠Ôºå‰ºöÁªßÁª≠Â∞ÜÂëΩ‰ª§ËøΩÂä†Âà∞Áé∞ÊúâÁöÑAOFÊñá‰ª∂‰∏≠ÔºåÂç≥‰ΩøÂú®ÈáçÂÜôÁöÑËøáÁ®ã‰∏≠ÂèëÁîüÂÆïÊú∫ÔºåÁé∞ÊúâÁöÑAOFÊñá‰ª∂‰πü‰∏ç‰ºö‰∏¢Â§±„ÄÇ‰∏ÄÊó¶Êñ∞AOFÊñá‰ª∂ÂàõÂª∫ÂÆåÊØïÔºåRedisÂ∞±‰ºö‰ªéÊóßÁöÑAOFÊñá‰ª∂ÂàáÊç¢Âà∞Êñ∞ÁöÑAOFÊñá‰ª∂ÔºåÂπ∂ÂØπÊñ∞ÁöÑAOFÊñá‰ª∂ËøõË°åËøΩÂä†Êìç‰Ωú„ÄÇ</p><p>Áº∫ÁÇπ</p><p>ÂØπ‰∫éÁõ∏ÂêåÁöÑÊï∞ÊçÆÈõÜÊù•ËØ¥ÔºåAOFÊñá‰ª∂Ë¶ÅÊØîRDBÊñá‰ª∂Â§ß„ÄÇ</p><p>Ê†πÊçÆÊâÄ‰ΩøÁî®ÁöÑÊåÅ‰πÖÂåñÁ≠ñÁï•Êù•ËØ¥ÔºåAOFÁöÑÈÄüÂ∫¶Ë¶ÅÊÖ¢‰∫éRDB„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÊØèÁßíÂêåÊ≠•Á≠ñÁï•ÊïàÊûúËæÉÂ•Ω„ÄÇ‰∏ç‰ΩøÁî®ÂêåÊ≠•Á≠ñÁï•ÁöÑÊÉÖÂÜµ‰∏ãÔºåAOF‰∏éRDBÈÄüÂ∫¶‰∏ÄÊ†∑Âø´„ÄÇ</p></blockquote><h3 id="ÂçÅ‰∏Ä„ÄÅRedisÁöÑ‰∏ª‰ªéÂ§çÂà∂-„ÄêÈáçÁÇπ„Äë"><a href="#ÂçÅ‰∏Ä„ÄÅRedisÁöÑ‰∏ª‰ªéÂ§çÂà∂-„ÄêÈáçÁÇπ„Äë" class="headerlink" title="ÂçÅ‰∏Ä„ÄÅRedisÁöÑ‰∏ª‰ªéÂ§çÂà∂ „ÄêÈáçÁÇπ„Äë"></a>ÂçÅ‰∏Ä„ÄÅRedisÁöÑ‰∏ª‰ªéÂ§çÂà∂ „ÄêÈáçÁÇπ„Äë</h3><hr><blockquote><p>‰∏ª‰ªéÂ§çÂà∂ÊòØÊåáÂ∞Ü‰∏ÄÂè∞RedisÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÔºåÂ§çÂà∂Âà∞ÂÖ∂ÂÆÉÁöÑRedisÊúçÂä°Âô®„ÄÇÂâçËÄÖÁß∞‰∏∫‰∏ªËäÇÁÇπ(master)ÔºåÂêéËÄÖÁß∞‰∏∫‰ªéËäÇÁÇπ(slave)ÔºõÊï∞ÊçÆÁöÑÂ§çÂà∂ÊòØÂçïÂêëÁöÑÔºåÂè™ËÉΩÁî±‰∏ªËäÇÁÇπÂà∞‰ªéËäÇÁÇπ„ÄÇ</p><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊØèÂè∞RedisÊúçÂä°Âô®ÈÉΩÊòØ‰∏ªËäÇÁÇπÔºå‰∏î‰∏Ä‰∏™‰∏ªËäÇÁÇπÂèØ‰ª•ÊúâÂ§ö‰∏™‰ªéËäÇÁÇπÔºàÊàñÊ≤°Êúâ‰ªéËäÇÁÇπÔºâÔºå‰ΩÜ‰∏Ä‰∏™‰ªéËäÇÁÇπÂè™ËÉΩÊúâ‰∏Ä‰∏™‰∏ªËäÇÁÇπ„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071240740.png"></p><blockquote><p>‰∏ª‰ªéÂ§çÂà∂ÁöÑ‰ΩúÁî®Ôºö</p><p>1.Êï∞ÊçÆÂÜó‰ΩôÔºö‰∏ª‰ªéÂ§çÂà∂ÂÆûÁé∞‰∫ÜÊï∞ÊçÆÁöÑÁÉ≠Â§á‰ªΩÔºåÊòØÊåÅ‰πÖÂåñ‰πãÂ§ñÁöÑ‰∏ÄÁßçÊï∞ÊçÆÂÜó‰ΩôÊñπÂºè„ÄÇ</p><p>2.ÊïÖÈöúÊÅ¢Â§çÔºöÂΩì‰∏ªËäÇÁÇπÂá∫Áé∞ÈóÆÈ¢òÊó∂ÔºåÂèØ‰ª•Áî±‰ªéËäÇÁÇπÊèê‰æõÊúçÂä°ÔºåÂÆûÁé∞Âø´ÈÄüÁöÑÊïÖÈöúÊÅ¢Â§çÔºå‰ΩÜÂÆûÈôÖ‰∏äÊòØ‰∏ÄÁßçÊúçÂä°ÁöÑÂÜó‰Ωô.</p><p>3.Ë¥üËΩΩÂùáË°°ÔºöÂú®‰∏ª‰ªéÂ§çÂà∂ÁöÑÂü∫Á°Ä‰∏äÔºåÈÖçÂêàËØªÂÜôÂàÜÁ¶ªÔºåÂèØ‰ª•Áî±‰∏ªËäÇÁÇπÊèê‰æõÂÜôÊúçÂä°ÔºåÁî±‰ªéËäÇÁÇπÊèê‰æõËØªÊúçÂä°ÔºàÂç≥ÂÜôRedisÊï∞ÊçÆÊó∂Â∫îÁî®ËøûÊé•‰∏ªËäÇÁÇπÔºåËØªRedisÊï∞ÊçÆÊó∂Â∫îÁî®ËøûÊé•‰ªéËäÇÁÇπÔºâÔºåÂàÜÊãÖÊúçÂä°Âô®Ë¥üËΩΩÔºõÂ∞§ÂÖ∂ÊòØÂú®ÂÜôÂ∞ëËØªÂ§öÁöÑÂú∫ÊôØ‰∏ãÔºåÈÄöËøáÂ§ö‰∏™‰ªéËäÇÁÇπÂàÜÊãÖËØªË¥üËΩΩÔºåÂèØ‰ª•Â§ßÂ§ßÊèêÈ´òRedisÊúçÂä°Âô®ÁöÑÂπ∂ÂèëÈáè„ÄÇ</p><p>4.È´òÂèØÁî®Âü∫Áü≥ÔºöÈô§‰∫Ü‰∏äËø∞‰ΩúÁî®‰ª•Â§ñÔºå‰∏ª‰ªéÂ§çÂà∂ËøòÊòØÂì®ÂÖµÂíåÈõÜÁæ§ËÉΩÂ§üÂÆûÊñΩÁöÑÂü∫Á°ÄÔºåÂõ†Ê≠§ËØ¥‰∏ª‰ªéÂ§çÂà∂ÊòØRedisÈ´òÂèØÁî®ÁöÑÂü∫Á°Ä.</p></blockquote><blockquote><p><strong>ÈÖçÁΩÆÊ≠•È™§Ôºö</strong></p><p>1.Êü•ÁúãÂΩìÂâçÂ∫ìÁöÑ‰ø°ÊÅØÔºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; info replication</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241232.png"></p><p>2.ÂÖ≥Èó≠ÂΩìÂâçËøêË°åÁöÑredisÔºåÊâìÂºÄÂõõ‰∏™ÈìæÊé•ÔºåËøõË°åÊµãËØïÔºåÊã∑Ë¥ù‰∏â‰∏™redis.confÊñá‰ª∂ÔºàÊîπÊàê6379Ôºå6380Ôºå6381Ôºâ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241363.png"></p><p>3.ÂàÜÂà´‰øÆÊîπËøô‰∏â‰∏™Êñá‰ª∂‰ø°ÊÅØÔºåÈúÄË¶Å‰øÆÊîπÔºöÁ´ØÂè£ÔºåpidÂêçÂ≠óÔºålogÊñá‰ª∂ÂêçÂ≠óÔºådump.rdbÂêçÂ≠ó</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241463.png"></p><p>port 6379</p><p>pidfile &#x2F;var&#x2F;run&#x2F;redis_6379.pid</p><p>logfile ‚Äú6379.log‚Äù</p><p>dbfilename dump6379.rdb</p><p>port 6380</p><p>pidfile &#x2F;var&#x2F;run&#x2F;redis_63780pid</p><p>logfile ‚Äú6380.log‚Äù</p><p>dbfilename dump6380.rdb</p><p>port 6381</p><p>pidfile &#x2F;var&#x2F;run&#x2F;redis_6381.pid</p><p>logfile ‚Äú6381.log‚Äù</p><p>dbfilename dump6381.rdb</p><p>4.ÂàÜÂà´Âú®‰∏â‰∏™ÈìæÊé•‰∏≠ÂêØÂä®6379Ôºå6380Ôºå6381‰∏âÂè∞redis-serverÔºåÂú®Á¨¨Âõõ‰∏™ÈìæÊé•‰∏≠Êü•Áúã</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241739.png"></p><p>Êü•ÁúãÁä∂ÊÄÅ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241022.png"></p><p>5.ÈÖçÁΩÆ‰∏Ä‰∏ª‰∫å‰ªé</p><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊØèÂè∞RedisÈÉΩÊòØ‰∏ªËäÇÁÇπÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÈÖçÁΩÆ‰ªéÊú∫Âç≥ÂèØÔºåÊàë‰ª¨ËøôÈáå‰ΩøÁî®6379‰∏∫‰∏ªÊú∫Ôºå6380Âíå6381‰∏∫‰ªéÊú∫.</p><p>Âú®ÂØπÂ∫î6380ÁöÑÈìæÊé•‰∏≠ËøõË°åÈÖçÁΩÆÔºö</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-cli -p 6380</span><br><span class="line"></span><br><span class="line">127.0.0.1:6380&gt; slaveof 127.0.0.1 6379</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241702.png"></p><p>6380‰ªéÊú∫ÈÖçÁΩÆÊàêÂäü‰πãÂêéÔºåÂèØ‰ª•Âéª‰∏ªÊú∫‰∏≠Êü•ÁúãÂØπÂ∫î‰ø°ÊÅØ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241494.png"></p><p>6381‰ªéÊú∫ÈÖçÁΩÆÊñπÂºèÂíå6380‰∏ÄÊ†∑ÔºåÈÖçÁΩÆÊàêÂäü‰πãÂêéÂèØ‰ª•ÂÜçÂéªÁúã‰∏Ä‰∏ã‰∏ªÊú∫</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241741.png"></p><p>6.Áî±‰∫éËøôÈáå‰ΩøÁî®ÁöÑÊòØÂëΩ‰ª§ËøõË°åÈÖçÁΩÆÔºåÊâÄ‰ª•ÊòØÊöÇÊó∂ÁöÑÔºå‰∏ÄËà¨ÂÖ¨Âè∏ÈÖçÁΩÆ‰ºöÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËøõË°åÈÖçÁΩÆÔºåÂ±û‰∫éÊ∞∏‰πÖÊÄßÈÖçÁΩÆÔºåÁõ∏ÂΩì‰∫é‰∏ÄÊâìÂºÄÂΩìÂâçÊúçÂä°Âô®ÔºåËØ•ÊúçÂä°Âô®Â∞±ÊòØ‰ªéÊú∫Ôºå‰∏ÄËà¨‰∏ªÊú∫ÂèØ‰ª•ÂÜôÔºå‰ªéÊú∫‰∏çËÉΩÂÜôÂè™ËÉΩËØªÔºå‰∏ªÊú∫‰∏≠ÁöÑÊâÄÊúâ‰ø°ÊÅØÂíåÊï∞ÊçÆÈÉΩ‰ºöË¢´‰ªéÊú∫‰øùÂ≠òÔºÅ</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241875.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241162.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241729.png"></p><p>Âç≥‰Ωø‰∏ªÊú∫Êñ≠ÂºÄÈìæÊé•Ôºà127.0.0.1:6379&gt;shutdownÔºâÔºå‰ªéÊú∫‰ªçÁÑ∂ÂèØ‰ª•ËøûÊé•Âà∞‰∏ªÊú∫ÔºåÂ¶ÇÊûú‰ΩøÁî®ÁöÑÊòØÂëΩ‰ª§Ë°åÈÖçÁΩÆÁöÑ‰ªéÊú∫Ôºå‰ªéÊú∫‰∏ÄÊó¶Êñ≠ÂºÄÈìæÊé•ÂêéÔºåÂ∞±‰ºöÂèòÂõû‰∏ªÊú∫‰∫ÜÔºåÂ¶ÇÊûúÂÜçÊ¨°ÂèòÂõû‰ªéÊú∫Ôºå‰ªçÊóßÂèØ‰ª•Ëé∑Âèñ‰∏ªÊú∫‰∏≠ÁöÑÂÄº.</p><p>Â¶ÇÊûú‰∏ªÊú∫Êñ≠ÂºÄÈìæÊé•Ôºå‰ªéÊú∫ÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ôºö127.0.0.1:6380&gt;slaveof no one ‰ΩøËá™Â∑±Êàê‰∏∫‰∏ªÊú∫</p><p>7.‰∏ª‰ªéÂ§çÂà∂ÂéüÁêÜ</p><p>SlaveÂêØÂä®ÊàêÂäüËøûÊé•Âà∞masterÂêé‰ºöÂèëÈÄÅ‰∏Ä‰∏™syncÂêåÊ≠•ÂëΩ‰ª§ÔºåMasterÊé•Âà∞ÂëΩ‰ª§ÂêéÔºå‰ºöÂêØÂä®ÂêéÂè∞ÁöÑÂ≠òÁõòËøõÁ®ãÔºåÂêåÊó∂Êî∂ÈõÜÊâÄÊúâÊé•Êî∂Âà∞ÁöÑÁî®‰∫é‰øÆÊîπÊï∞ÊçÆÈõÜÂëΩ‰ª§ÔºåÂú®ÂêéÂè∞ËøõÁ®ãÊâßË°åÂÆåÊØïÂêéÔºåmasterÂ∞Ü‰º†ÈÄÅÊï¥‰∏™Êï∞ÊçÆÊñá‰ª∂Âà∞salveÔºåÂπ∂ÂÆåÊàê‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑÂêåÊ≠•.</p><p>ÂÖ®ÈáèÂ§çÂà∂ÔºösalveÊúçÂä°Âú®Êé•Êî∂Âà∞Êï∞ÊçÆÂ∫ìÊñá‰ª∂Êï∞ÊçÆÂêéÔºåÂ∞ÜÂÖ∂Â≠òÁõòÂπ∂Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠.</p><p>Â¢ûÈáèÂ§çÂà∂ÔºömasterÁªßÁª≠Â∞ÜÊñ∞ÁöÑÊâÄÊúâÊî∂ÈõÜÂà∞ÁöÑ‰øÆÊîπÂëΩ‰ª§‰æùÊ¨°‰º†ÈÄíÁªôsalveÔºåÂÆåÊàêÂêåÊ≠•.</p></blockquote><blockquote><p>Â¶ÇÊûúÊòØÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÔºåÂèØÁõ¥Êé•Âú®ÂØπÂ∫îÁöÑredis.confÊñá‰ª∂‰∏≠Ê∑ªÂä†Ôºö slaveof 127.0.0.1 6379 ÔºàÂíåÂëΩ‰ª§‰∏ÄÊ†∑Ôºâ</p></blockquote><h3 id="ÂçÅ‰∫å„ÄÅRedisÁöÑÂì®ÂÖµÊ®°Âºè„ÄêÈáçÁÇπ„Äë"><a href="#ÂçÅ‰∫å„ÄÅRedisÁöÑÂì®ÂÖµÊ®°Âºè„ÄêÈáçÁÇπ„Äë" class="headerlink" title="ÂçÅ‰∫å„ÄÅRedisÁöÑÂì®ÂÖµÊ®°Âºè„ÄêÈáçÁÇπ„Äë"></a>ÂçÅ‰∫å„ÄÅRedisÁöÑÂì®ÂÖµÊ®°Âºè„ÄêÈáçÁÇπ„Äë</h3><hr><blockquote><p>ÂΩì‰∏ªÊúçÂä°Âô®ÂÆïÊú∫ÂêéÔºåÂπ∂‰∏îÊàë‰ª¨Âπ∂Ê≤°ÊúâÂèäÊó∂ÂèëÁé∞ÔºåËøôÊó∂ÂÄôÂ∞±ÂèØËÉΩ‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏¢Â§±ÊàñÁ®ãÂ∫èÊó†Ê≥ïËøêË°å„ÄÇÊ≠§Êó∂ÔºåredisÁöÑÂì®ÂÖµÊ®°ÂºèÂ∞±Ê¥æ‰∏äÁî®Âú∫‰∫ÜÔºåÂèØ‰ª•Áî®ÂÆÉÊù•ÂÅöredisÁöÑÈ´òÂèØÁî®.</p><p>ÊØè‰∏™Âì®ÂÖµÈÉΩÊòØÁõëÊéß‰∏ªËäÇÁÇπÔºå‰∏ªËäÇÁÇπÂÆïÊú∫ÔºåÂì®ÂÖµ‰∏ç‰ºöÂÆïÊú∫ÔºÅ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241034.png"></p><blockquote><p>ÂäüËÉΩ‰ΩúÁî®Ôºö</p><p>1.ÁõëÊéß(monitoring)ÔºöSentinel ‰ºö‰∏çÊñ≠Âú∞Ê£ÄÊü•‰Ω†ÁöÑ‰∏ªÊúçÂä°Âô®Âíå‰ªéÊúçÂä°Âô®ÊòØÂê¶Ëøê‰ΩúÊ≠£Â∏∏„ÄÇ</p><p>2.ÊèêÈÜí(Notifation)ÔºöÂΩìË¢´ÁõëÊéßÁöÑÊüê‰∏™ Redis ÊúçÂä°Âô®Âá∫Áé∞ÈóÆÈ¢òÊó∂Ôºå Sentinel ÂèØ‰ª•ÈÄöËøá API ÂêëÁÆ°ÁêÜÂëòÊàñËÄÖÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÂèëÈÄÅÈÄöÁü•„ÄÇ</p><p>3.Ëá™Âä®ÊïÖÈöúËΩ¨Áßª(Automatic failover)ÔºöÂΩì‰∏Ä‰∏™‰∏ªÊúçÂä°Âô®‰∏çËÉΩÊ≠£Â∏∏Â∑•‰ΩúÊó∂Ôºå Sentinel ‰ºöÂºÄÂßã‰∏ÄÊ¨°Ëá™Âä®ÊïÖÈöúËøÅÁßªÊìç‰ΩúÔºå ÂÆÉ‰ºöÂ∞ÜÂ§±Êïà‰∏ªÊúçÂä°Âô®ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™‰ªéÊúçÂä°Âô®ÂçáÁ∫ß‰∏∫Êñ∞ÁöÑ‰∏ªÊúçÂä°Âô®Ôºå Âπ∂ËÆ©Â§±Êïà‰∏ªÊúçÂä°Âô®ÁöÑÂÖ∂‰ªñ‰ªéÊúçÂä°Âô®Êîπ‰∏∫Â§çÂà∂Êñ∞ÁöÑ‰∏ªÊúçÂä°Âô®Ôºõ ÂΩìÂÆ¢Êà∑Á´ØËØïÂõæËøûÊé•Â§±ÊïàÁöÑ‰∏ªÊúçÂä°Âô®Êó∂Ôºå ÈõÜÁæ§‰πü‰ºöÂêëÂÆ¢Êà∑Á´ØËøîÂõûÊñ∞‰∏ªÊúçÂä°Âô®ÁöÑÂú∞ÂùÄÔºå ‰ΩøÂæóÈõÜÁæ§ÂèØ‰ª•‰ΩøÁî®Êñ∞‰∏ªÊúçÂä°Âô®‰ª£ÊõøÂ§±ÊïàÊúçÂä°Âô®„ÄÇ</p></blockquote><blockquote><p><strong>ÈÖçÁΩÆÊ≠•È™§Ôºö</strong></p><p>1.ÂàõÂª∫Âì®ÂÖµÈÖçÁΩÆÊñá‰ª∂</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# vim sentinel.conf</span><br></pre></td></tr></table></figure><p>sentinel.confÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºöÔºàÊ†ºÂºèÔºösentinel monitor Ë¢´ÁõëÊéßÂêçÁß∞ host port 1Ôºâ</p><p>sentinel monitor myredis 127.0.0.1 6379 1</p><p>Ê≥®ÊÑèÔºöÈúÄË¶Å‰øÆÊîπredis.confÊñá‰ª∂‰∏≠ÁöÑbind‰∏∫Ôºö0.0.0.0Ôºà‰πãÂâçÂ∑≤Áªè‰øÆÊîπËøá‰∫ÜÔºâÔºåÂ¶ÇÊûúÊòØ‰∏âÂè∞ÈòøÈáå‰∫ëÊúçÂä°Âô®ÔºåÊØè‰∏™ÊúçÂä°Âô®ÈÉΩË¶ÅËÆæÁΩÆsentinel.confÊñá‰ª∂Âπ∂ÂêØÂä®Âì®ÂÖµÔºå127.0.0.1ÊîπÊàê‰∏ªÊú∫ÁöÑIPÂú∞ÂùÄÔºåÔºà‰ªéÊú∫‰πüÊòØÁõëÊéß‰∏ªÊú∫IPÔºåÁõ∏ÂΩì‰∫é‰∏âÂè∞ÊúçÂä°Âô®ÁöÑsentinel.confÁöÑÂÜÖÂÆπÈÉΩÊòØ‰∏ÄÊ†∑ÁöÑÔºösentinel monitor myredis ‰∏ªÊú∫IPÂú∞ÂùÄ 6379 1ÔºâÔºåÂêéÈù¢ÁöÑÊï∞Â≠ó1Ë°®Á§∫Êúâ1‰∏™sentinelËÆ§‰∏∫‰∏Ä‰∏™masterÂ§±ÊïàÊó∂ÔºåmasterÂ∞±ÁÆóÁúüÊ≠£Â§±ÊïàÔºåslave‰ºö‰ª•ÊäïÁ•®ÁöÑÊñπÂºèÈÄâ‰∏æÊàê‰∏∫‰∏ªÊú∫Ôºå‰∏ÄËà¨ËÆæÁΩÆÁöÑÂÄº‰∏∫‰ªéÊú∫Êï∞Èáè‰∏ÄÂçä‰ª•‰∏äÔºåÊØîÂ¶ÇËØ¥Ôºö‰∏â‰∏™‰ªéÊú∫Â∞±ËÆæÁΩÆ‰∏∫Ôºö2</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241771.png"></p><p>2.ÂêØÂä®Âì®ÂÖµ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# ./redis-sentinel sentinel.conf</span><br></pre></td></tr></table></figure><p><img src="/Pictures%5C59.png"></p><p>3.Â¶ÇÊûúMasterËäÇÁÇπÊñ≠ÂºÄ‰∫ÜÔºà‰∏ªÊú∫ÂÆïÊú∫‰∫ÜÔºâÔºåËøá‰∏Ä‰ºöÔºå‰ºöÂèëÈÄÅÂì®ÂÖµÊó•ÂøóÔºåÂπ∂Ëá™Âä®ÈÄöËøáÁÆóÊ≥ïÂú®ÂÖ∂‰ªñ‰∏§‰∏™‰ªéÊú∫‰∏≠ÈÄâÊã©‰∏Ä‰∏™Êàê‰∏∫‰∏ªÊú∫.</p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071241535.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242550.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242883.png"></p><p>Â¶ÇÊûú‰πãÂâçÁöÑ‰∏ªÊú∫6379ÂèàÈáçÊñ∞ÂêØÂä®‰∫ÜÔºåËøá‰∏Ä‰ºöÔºåÂì®ÂÖµÊ£ÄÊµãÂà∞‰∫Ü‰πãÂêéÔºå‰ºöÊää6379ËÆæÁΩÆ‰∏∫‰ªéÊú∫ÔºÅ</p><p>Âì®ÂÖµÊ®°ÂºèÁöÑ‰ºòÁº∫ÁÇπ</p><p>‰ºòÁÇπ</p><p>1.Âì®ÂÖµÈõÜÁæ§Ê®°ÂºèÊòØÂü∫‰∫é‰∏ª‰ªéÊ®°ÂºèÁöÑÔºåÊâÄÊúâ‰∏ª‰ªéÁöÑ‰ºòÁÇπÔºåÂì®ÂÖµÊ®°ÂºèÂêåÊ†∑ÂÖ∑Êúâ„ÄÇ</p><p>2.‰∏ª‰ªéÂèØ‰ª•ÂàáÊç¢ÔºåÊïÖÈöúÂèØ‰ª•ËΩ¨ÁßªÔºåÁ≥ªÁªüÂèØÁî®ÊÄßÊõ¥Â•Ω„ÄÇ</p><p>3.Âì®ÂÖµÊ®°ÂºèÊòØ‰∏ª‰ªéÊ®°ÂºèÁöÑÂçáÁ∫ßÔºåÁ≥ªÁªüÊõ¥ÂÅ•Â£ÆÔºåÂèØÁî®ÊÄßÊõ¥È´ò„ÄÇ</p><p>Áº∫ÁÇπ</p><p>1.RedisËæÉÈöæÊîØÊåÅÂú®Á∫øÊâ©ÂÆπÔºåÂú®ÈõÜÁæ§ÂÆπÈáèËææÂà∞‰∏äÈôêÊó∂Âú®Á∫øÊâ©ÂÆπ‰ºöÂèòÂæóÂæàÂ§çÊùÇ„ÄÇ</p><p>2.ÂÆûÁé∞Âì®ÂÖµÊ®°ÂºèÁöÑÈÖçÁΩÆ‰πü‰∏çÁÆÄÂçïÔºåÁîöËá≥ÂèØ‰ª•ËØ¥Êúâ‰∫õÁπÅÁêê</p></blockquote><h3 id="ÂçÅ‰∏â„ÄÅRedisÁºìÂ≠òÁ©øÈÄèÔºåÂáªÁ©øÔºåÈõ™Â¥©ÔºåÂÄæÊñú"><a href="#ÂçÅ‰∏â„ÄÅRedisÁºìÂ≠òÁ©øÈÄèÔºåÂáªÁ©øÔºåÈõ™Â¥©ÔºåÂÄæÊñú" class="headerlink" title="ÂçÅ‰∏â„ÄÅRedisÁºìÂ≠òÁ©øÈÄèÔºåÂáªÁ©øÔºåÈõ™Â¥©ÔºåÂÄæÊñú"></a>ÂçÅ‰∏â„ÄÅRedisÁºìÂ≠òÁ©øÈÄèÔºåÂáªÁ©øÔºåÈõ™Â¥©ÔºåÂÄæÊñú</h3><hr><h4 id="1-1-ÁºìÂ≠òÁ©øÈÄèÔºàÊü•‰∏çÂà∞Ôºâ"><a href="#1-1-ÁºìÂ≠òÁ©øÈÄèÔºàÊü•‰∏çÂà∞Ôºâ" class="headerlink" title="1.1 ÁºìÂ≠òÁ©øÈÄèÔºàÊü•‰∏çÂà∞Ôºâ"></a>1.1 ÁºìÂ≠òÁ©øÈÄèÔºàÊü•‰∏çÂà∞Ôºâ</h4><blockquote><p>Ê¶ÇÂøµÔºöÂΩìÁî®Êà∑ÂéªÊü•ËØ¢Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂèëÁé∞redisÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì‰∏≠Ê≤°ÊúâÔºå‰∫éÊòØÂêëÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÔºåÂèëÁé∞‰πüÊ≤°ÊúâÔºå‰∫éÊòØÊü•ËØ¢Â§±Ë¥•ÔºåÂΩìÁî®Êà∑ËøáÂ§öÊó∂ÔºåÁºìÂ≠òÈÉΩÊ≤°ÊúâÊü•Âà∞Ôºå‰∫éÊòØÈÉΩÂéªÊü•ÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ìÔºåËøô‰ºöÁªôÊåÅ‰πÖÂ±ÇÊï∞ÊçÆÂ∫ìÈÄ†ÊàêÂæàÂ§ßÁöÑÂéãÂäõÔºåÊ≠§Êó∂Áõ∏ÂΩì‰∫éÂá∫Áé∞‰∫ÜÁºìÂ≠òÁ©øÈÄè„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242308.png"></p><blockquote><p> Ëß£ÂÜ≥ÊñπÊ°àÔºö</p><p> 1.Â∏ÉÈöÜËøáÊª§Âô®ÔºöÊòØ‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÔºåÂØπÊâÄÊúâÂèØËÉΩÊü•ËØ¢ÁöÑÂèÇÊï∞‰ª•hashÂΩ¢ÂºèÂ≠òÂÇ®ÔºåÂú®ÊéßÂà∂Â±ÇÂÖàËøõË°åÊ†°È™åÔºå‰∏çÁ¨¶ÂêàÂàô‰∏¢ÂºÉÔºå‰ªéËÄåÈÅøÂÖç‰∫ÜÂØπÂ∫ïÂ±ÇÂ≠òÂÇ®Á≥ªÁªüÁöÑÂéãÂäõÔºå‰ΩÜÊòØÔºåÂ∏ÉÈöÜËøáÊª§Âô®ÊúâËØØÂ∑ÆÔºåËØ¥myql ÊúâËØ•id Ôºå‰∏ç‰∏ÄÂÆöÊúâÔºåËØ¥myql Ê≤°ÊúâËØ•idÔºå‰∏ÄÂÆöÊ≤°Êúâ ÔºÅ</p><p> <img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242234.png"></p><p> 2.ÁºìÂ≠òÁ©∫ÂØπË±°ÔºöÂΩìÂ≠òÂÇ®Â±ÇÊü•‰∏çÂà∞Êó∂ÔºåÂç≥‰ΩøËøîÂõûÁöÑÁ©∫ÂØπË±°‰πüÂ∞ÜÂÖ∂ÁºìÂ≠òËµ∑Êù•ÔºåÂêåÊó∂ËÆæÁΩÆ‰∏Ä‰∏™ËøáÊúüÊó∂Èó¥Ôºå‰πãÂêéÂÜçËÆøÈóÆËøô‰∏™Êï∞ÊçÆÂ∞Ü‰ºö‰ªéÁºìÂ≠ò‰∏≠Ëé∑ÂèñÔºå‰øùÊä§ÂêéÁ´ØÊï∞ÊçÆ.</p><p> <img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242723.png"></p><p> ‰ΩÜ‰ºöÊúâ‰∏§‰∏™ÈóÆÈ¢òÔºö</p><p> 1.Â¶ÇÊûúÁ©∫ÂÄºË¢´ÁºìÂ≠òËµ∑Êù•ÔºåÂ∞±ÊÑèÂë≥ÁùÄÈúÄË¶ÅÊõ¥Â§öÁöÑÁ©∫Èó¥Â≠òÂÇ®Êõ¥Â§öÁöÑÈîÆÔºå‰ºöÊúâÂæàÂ§öÁ©∫ÂÄºÁöÑÈîÆ.</p><p> 2.Âç≥‰ΩøÂØπÁ©∫ÂÄºËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÔºåËøòÊòØ‰ºöÂ≠òÂú® ÁºìÂ≠òÂ±ÇÂíåÂ≠òÂÇ®Â±Ç‰ºöÊúâ‰∏ÄÊÆµÊó∂Èó¥Á™óÂè£‰∏ç‰∏ÄËá¥ÔºåËøôÂØπ‰∫éÈúÄË¶Å‰øùÊåÅ‰∏ÄËá¥ÊÄßÁöÑ‰∏öÂä°‰ºöÊúâÂΩ±Âìç.</p></blockquote><h4 id="1-2-ÁºìÂ≠òÂáªÁ©øÔºàËÆøÈóÆÈáèÂ§ßÔºåÁºìÂ≠òËøáÊúüÔºâ"><a href="#1-2-ÁºìÂ≠òÂáªÁ©øÔºàËÆøÈóÆÈáèÂ§ßÔºåÁºìÂ≠òËøáÊúüÔºâ" class="headerlink" title="1.2 ÁºìÂ≠òÂáªÁ©øÔºàËÆøÈóÆÈáèÂ§ßÔºåÁºìÂ≠òËøáÊúüÔºâ"></a>1.2 ÁºìÂ≠òÂáªÁ©øÔºàËÆøÈóÆÈáèÂ§ßÔºåÁºìÂ≠òËøáÊúüÔºâ</h4><blockquote><p>ÊåáÂØπÊüê‰∏Ä‰∏™keyÁöÑÈ¢ëÁπÅËÆøÈóÆÔºåÂú®‰∏çÂÅúÁöÑÊâõÁùÄÂ§ßÂπ∂ÂèëÔºåÂ§ßÂπ∂ÂèëÈõÜ‰∏≠ÂØπËøô‰∏Ä‰∏™ÁÇπËøõË°åËÆøÈóÆÔºåÂΩìËøô‰∏™keyÂú®Â§±ÊïàÁöÑÁû¨Èó¥ÔºåÊåÅÁª≠ÁöÑÂ§ßÂπ∂ÂèëÂ∞±‰ºöÁõ¥Êé•ËØ∑Ê±ÇÊï∞ÊçÆÂ∫ìÔºåÂ∞±ÂÉèÂú®‰∏Ä‰∏™Â±èÈöú‰∏äÂáøÂºÄ‰∫Ü‰∏Ä‰∏™Ê¥ûÔºå‰æãÂ¶ÇÂæÆÂçöÁî±‰∫éÊüê‰∏™ÁÉ≠ÊêúÂØºËá¥ÂÆïÊú∫.</p><p>‚Äã</p><p>ÂÖ∂ÂÆûÂ∞±ÊòØÔºöÂΩìÊüê‰∏™keyÂú®ËøáÊúüÁöÑÁû¨Èó¥ÔºåÊúâÂ§ßÈáèÁöÑËØ∑Ê±ÇÂπ∂ÂèëËÆøÈóÆÔºåËøôÁ±ªÊï∞ÊçÆ‰∏ÄÊÆµÊòØÁÉ≠ÁÇπÊï∞ÊçÆÔºåÁî±‰∫éÁºìÂ≠òËøáÊúüÔºå‰ºöÂêåÊó∂ËÆøÈóÆÊï∞ÊçÆÂ∫ìÊù•Êü•ËØ¢ÊúÄÊñ∞Êï∞ÊçÆÔºåÂπ∂ÂõûÂÜôÁºìÂ≠òÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÁû¨Èó¥ÂéãÂäõËøáÂ§ß„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242941.png"></p><blockquote><p>Ëß£ÂÜ≥ÊñπÊ°àÔºö</p><p>1.ËÆæÁΩÆÁÉ≠ÁÇπÊï∞ÊçÆÊ∞∏‰∏çËøáÊúüÔºö‰ªéÁºìÂ≠òÂ±ÇÈù¢‰∏äÊù•ËØ¥Ôºå‰∏çËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºåÂ∞±‰∏ç‰ºöÂá∫Áé∞ÁÉ≠ÁÇπkeyËøáÊúüÂêé‰∫ßÁîüÁöÑÈóÆÈ¢ò.</p><p>2.Ê∑ªÂä†‰∫íÊñ•ÈîÅÔºö‰ΩøÁî®ÂàÜÂ∏ÉÂºèÈîÅÔºå‰øùËØÅÂØπÊØè‰∏™keyÂêåÊó∂Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂéªÊü•ËØ¢ÂêéÁ´ØÊúçÂä°ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÊ≤°ÊúâËé∑ÂæóÂàÜÂ∏ÉÂºèÈîÅÁöÑÊùÉÈôêÔºåÂõ†Ê≠§Âè™ÈúÄË¶ÅÁ≠âÂæÖÂç≥ÂèØÔºåËøôÁßçÊñπÂºèÂ∞ÜÈ´òÂπ∂ÂèëÁöÑÂéãÂäõËΩ¨ÁßªÂà∞‰∫ÜÂàÜÂ∏ÉÂºèÈîÅ‰∏äÔºåÂØπÂàÜÂ∏ÉÂºèÈîÅ‰πüÊòØ‰∏ÄÁßçÊûÅÂ§ßÁöÑËÄÉÈ™å.</p></blockquote><h4 id="1-3-ÁºìÂ≠òÈõ™Â¥©"><a href="#1-3-ÁºìÂ≠òÈõ™Â¥©" class="headerlink" title="1.3 ÁºìÂ≠òÈõ™Â¥©"></a>1.3 ÁºìÂ≠òÈõ™Â¥©</h4><blockquote><p>ÊåáÂú®Êüê‰∏Ä‰∏™Êó∂Èó¥ÊÆµÔºåÁºìÂ≠òÈõÜ‰∏≠ËøáÊúüÂ§±ÊïàÊàñRedisÂÆïÊú∫ÂØºËá¥ÁöÑÔºå‰æãÂ¶ÇÂèåÂçÅ‰∏ÄÊä¢Ë¥≠ÁÉ≠Èó®ÂïÜÂìÅÔºåËøô‰∫õÂïÜÂìÅÈÉΩ‰ºöÊîæÂú®ÁºìÂ≠ò‰∏≠ÔºåÂÅáËÆæÁºìÂ≠òÊó∂Èó¥‰∏∫‰∏Ä‰∏™Â∞èÊó∂Ôºå‰∏Ä‰∏™Â∞èÊó∂‰πãÂêéÔºåËøô‰∫õÂïÜÂìÅÁöÑÁºìÂ≠òÈÉΩËøáÊúü‰∫ÜÔºåËÆøÈóÆÂéãÂäõÁû¨Èó¥ÈÉΩÊù•Âà∞‰∫ÜÊï∞ÊçÆÂ∫ì‰∏äÔºåÊ≠§Êó∂Êï∞ÊçÆÂ∫ì‰ºö‰∫ßÁîüÂë®ÊúüÊÄßÁöÑÂéãÂäõÊ≥¢Â≥∞ÔºåÊâÄÊúâÁöÑËØ∑Ê±ÇÈÉΩ‰ºöÂà∞ËææÂ≠òÂÇ®Â±ÇÔºåÂ≠òÂÇ®Â±ÇÁöÑË∞ÉÁî®ÈáèÊö¥Â¢ûÔºåÈÄ†ÊàêÂ≠òÂÇ®Â±ÇÊåÇÊéâÁöÑÊÉÖÂÜµ.</p></blockquote><p><img src="/Pictures%5C67.png"></p><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242355.png"></p><blockquote><p>ÂÖ∂ÂÆûÊØîËæÉËá¥ÂëΩÁöÑÁºìÂ≠òÈõ™Â¥©ÔºåÊòØÁºìÂ≠òÊúçÂä°Âô®Êüê‰∏™ËäÇÁÇπÂÆïÊú∫ÊàñÊñ≠ÁΩëÔºåÂõ†‰∏∫Ëá™ÁÑ∂ÂΩ¢ÊàêÁöÑÁºìÂ≠òÈõ™Â¥©Ôºå‰∏ÄÂÆöÊòØÂú®Êüê‰∏™Êó∂Èó¥ÊÆµÈõÜ‰∏≠ÂàõÂª∫ÁºìÂ≠òÔºåÊ≠§Êó∂ÁöÑÊï∞ÊçÆÂ∫ìËøòÊòØÂèØ‰ª•È°∂‰ΩèÂéãÂäõÁöÑÔºåËÄåÁºìÂ≠òÊúçÂä°ËäÇÁÇπÁöÑÂÆïÊú∫ÔºåÂØπÊï∞ÊçÆÂ∫ìÊúçÂä°Âô®ÈÄ†ÊàêÁöÑÂéãÂäõÊòØ‰∏çÂèØÈ¢ÑÁü•ÁöÑÔºåÊúâÂèØËÉΩÁû¨Èó¥Â∞±ÊääÊúçÂä°Âô®ÂéãÂûÆ.</p><p>Ëß£ÂÜ≥ÊñπÊ°àÔºö</p><p>1.ÈÖçÁΩÆRedisÁöÑÈ´òÂèØÁî®ÔºöÂÖ∂ÂÆûÂ∞±ÊòØÊê≠Âª∫ÈõÜÁæ§ÁéØÂ¢ÉÔºåÊúâÊõ¥Â§öÁöÑÂ§áÁî®Êú∫.</p><p>2.ÈôêÊµÅÈôçÁ∫ßÔºöÂú®ÁºìÂ≠òÂ§±ÊïàÂêéÔºåÈÄöËøáÂä†ÈîÅÊàñËÄÖÈòüÂàóÊù•ÊéßÂà∂ËØªÊúçÂä°Âô®‰ª•ÂèäÂÜôÁºìÂ≠òÁöÑÁ∫øÁ®ãÊï∞ÈáèÔºåÊØîÂ¶ÇÂØπÊüê‰∏™keyÂè™ÂÖÅËÆ∏‰∏Ä‰∏™Á∫øÁ®ãÊü•ËØ¢Êï∞ÊçÆÂíåÂÜôÁºìÂ≠òÔºåÂÖ∂‰ªñÁ∫øÁ®ãÁ≠âÂæÖ.</p><p>3.Êï∞ÊçÆÈ¢ÑÁÉ≠ÔºöÂú®È°πÁõÆÊ≠£ÂºèÈÉ®ÁΩ≤‰πãÂâçÔºåÊääÂèØËÉΩÁî®ÁöÑÊï∞ÊçÆÈ¢ÑÂÖàËÆøÈóÆ‰∏ÄËæπÔºåËøôÊ†∑ÂèØ‰ª•Êää‰∏Ä‰∫õÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÂú®Âç≥Â∞ÜÂèëÁîüÂ§ßÂπ∂ÂèëËÆøÈóÆ‰πãÂâçÊâãÂä®Ëß¶ÂèëÂä†ËΩΩÁºìÂ≠ò‰∏≠‰∏çÂêåÁöÑkeyÔºåËÆæÁΩÆ‰∏çÂêåÁöÑËøáÊúüÊó∂Èó¥ÔºåËÆ©ÁºìÂ≠òÂ§±ÊïàÁöÑÊó∂Èó¥Â∞ΩÈáèÂùáË°°.</p></blockquote><h4 id="1-4-ÁºìÂ≠òÂÄæÊñú"><a href="#1-4-ÁºìÂ≠òÂÄæÊñú" class="headerlink" title="1.4 ÁºìÂ≠òÂÄæÊñú"></a>1.4 ÁºìÂ≠òÂÄæÊñú</h4><blockquote><p>ÊåáÊüê‰∏ÄÂè∞redisÊúçÂä°Âô®ÂéãÂäõËøáÂ§ßËÄåÂØºËá¥ËØ•ÊúçÂä°Âô®ÂÆïÊú∫.</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242384.png"></p><h3 id="ÂçÅÂõõ„ÄÅRedisÈõÜÁæ§Êê≠Âª∫"><a href="#ÂçÅÂõõ„ÄÅRedisÈõÜÁæ§Êê≠Âª∫" class="headerlink" title="ÂçÅÂõõ„ÄÅRedisÈõÜÁæ§Êê≠Âª∫"></a>ÂçÅÂõõ„ÄÅRedisÈõÜÁæ§Êê≠Âª∫</h3><hr><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071242006.png"></p><h3 id="ÂçÅ‰∫î„ÄÅRedisÂÖ∂‰ªñÂ∏∏ËßÅÈóÆÈ¢ò"><a href="#ÂçÅ‰∫î„ÄÅRedisÂÖ∂‰ªñÂ∏∏ËßÅÈóÆÈ¢ò" class="headerlink" title="ÂçÅ‰∫î„ÄÅRedisÂÖ∂‰ªñÂ∏∏ËßÅÈóÆÈ¢ò"></a>ÂçÅ‰∫î„ÄÅRedisÂÖ∂‰ªñÂ∏∏ËßÅÈóÆÈ¢ò</h3><hr><h4 id="1-keyÁöÑÁîüÂ≠òÊó∂Èó¥Âà∞‰∫ÜÔºåRedis‰ºöÁ´ãÂç≥Âà†Èô§ÂêóÔºü"><a href="#1-keyÁöÑÁîüÂ≠òÊó∂Èó¥Âà∞‰∫ÜÔºåRedis‰ºöÁ´ãÂç≥Âà†Èô§ÂêóÔºü" class="headerlink" title="1.keyÁöÑÁîüÂ≠òÊó∂Èó¥Âà∞‰∫ÜÔºåRedis‰ºöÁ´ãÂç≥Âà†Èô§ÂêóÔºü"></a>1.keyÁöÑÁîüÂ≠òÊó∂Èó¥Âà∞‰∫ÜÔºåRedis‰ºöÁ´ãÂç≥Âà†Èô§ÂêóÔºü</h4><blockquote><p><strong>‰∏ç‰ºöÁ´ãÂç≥Âà†Èô§</strong></p><p>1.1ÂÆöÊúüÂà†Èô§ÔºöRedisÊØèÈöî‰∏ÄÊÆµÊó∂Èó¥Â∞±Âéª‰ºöÂéªÊü•ÁúãRedisËÆæÁΩÆ‰∫ÜËøáÊúüÊó∂Èó¥ÁöÑkeyÔºå‰ºöÂÜç100msÁöÑÈó¥Èöî‰∏≠ÈªòËÆ§Êü•Áúã3‰∏™key„ÄÇ</p><p>1.2ÊÉ∞ÊÄßÂà†Èô§ÔºöÂ¶ÇÊûúÂΩì‰Ω†ÂéªÊü•ËØ¢‰∏Ä‰∏™Â∑≤ÁªèËøá‰∫ÜÁîüÂ≠òÊó∂Èó¥ÁöÑkeyÊó∂ÔºåRedis‰ºöÂÖàÊü•ÁúãÂΩìÂâçkeyÁöÑÁîüÂ≠òÊó∂Èó¥ÔºåÊòØÂê¶Â∑≤ÁªèÂà∞‰∫ÜÔºåÁõ¥Êé•Âà†Èô§ÂΩìÂâçkeyÔºåÂπ∂‰∏îÁªôÁî®Êà∑ËøîÂõû‰∏Ä‰∏™Á©∫ÂÄº„ÄÇ</p></blockquote><h4 id="2-RedisÁöÑÊ∑òÊ±∞Êú∫Âà∂"><a href="#2-RedisÁöÑÊ∑òÊ±∞Êú∫Âà∂" class="headerlink" title="2.RedisÁöÑÊ∑òÊ±∞Êú∫Âà∂"></a>2.RedisÁöÑÊ∑òÊ±∞Êú∫Âà∂</h4><blockquote><p>Âú®RedisÂÜÖÂ≠òÂ∑≤ÁªèÊª°ÁöÑÊó∂ÂÄôÔºåÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆÔºåÊâßË°åÊ∑òÊ±∞Êú∫Âà∂„ÄÇ(redis.conf‰∏≠ÈÖçÁΩÆ)</p><p>2.1  volatile-lruÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ËÆæÁΩÆËøá‰∫ÜÁîüÂ≠òÊó∂Èó¥ÁöÑkey‰∏≠Âπ≤Êéâ‰∏Ä‰∏™ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑkey„ÄÇ</p><p>2.2  allkeys-lruÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ÂÖ®ÈÉ®ÁöÑkey‰∏≠Âπ≤Êéâ‰∏Ä‰∏™ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑkey„ÄÇ</p><p>2.3  volatile-lfuÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ËÆæÁΩÆËøá‰∫ÜÁîüÂ≠òÊó∂Èó¥ÁöÑkey‰∏≠Âπ≤Êéâ‰∏Ä‰∏™ÊúÄËøëÊúÄÂ∞ëÈ¢ëÊ¨°‰ΩøÁî®ÁöÑkey„ÄÇ</p><p>2.4  allkeys-lfuÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ÂÖ®ÈÉ®ÁöÑkey‰∏≠Âπ≤Êéâ‰∏Ä‰∏™ÊúÄËøëÊúÄÂ∞ëÈ¢ëÊ¨°‰ΩøÁî®ÁöÑkey„ÄÇ</p><p>2.5  volatile-randomÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ËÆæÁΩÆËøá‰∫ÜÁîüÂ≠òÊó∂Èó¥ÁöÑkey‰∏≠ÈöèÊú∫Âπ≤Êéâ‰∏Ä‰∏™„ÄÇ</p><p>2.6  allkeys-randomÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ÂÖ®ÈÉ®ÁöÑkey‰∏≠ÈöèÊú∫Âπ≤Êéâ‰∏Ä‰∏™„ÄÇ</p><p>2.7  volatile-ttlÔºöÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåRedis‰ºöÂú®ËÆæÁΩÆËøá‰∫ÜÁîüÂ≠òÊó∂Èó¥ÁöÑkey‰∏≠Âπ≤Êéâ‰∏Ä‰∏™Ââ©‰ΩôÁîüÂ≠òÊó∂Èó¥ÊúÄÂ∞ëÁöÑkey„ÄÇ</p><p>2.8  noevictionÔºöÔºàÈªòËÆ§ÔºâÂú®ÂÜÖÂ≠ò‰∏çË∂≥Êó∂ÔºåÁõ¥Êé•Êä•Èîô„ÄÇ</p><p>ÊñπÊ°àÔºöÊåáÂÆöÊ∑òÊ±∞Êú∫Âà∂ÁöÑÊñπÂºèÔºömaxmemory-policyÂÖ∑‰ΩìÁ≠ñÁï•ÔºåËÆæÁΩÆRedisÁöÑÊúÄÂ§ßÂÜÖÂ≠òÔºömaxmemory Â≠óËäÇÂ§ßÂ∞è</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071238373.jfif&quot; alt=&quot;1586740065742&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="ÂêéÁ´ØÂ≠¶‰π†" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="redis" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/redis/"/>
    
    
    <category term="java" scheme="http://example.com/tags/java/"/>
    
    <category term="Êï∞ÊçÆÂ∫ì" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>RabbitMQ</title>
    <link href="http://example.com/2022/06/30/RabbitMQ/"/>
    <id>http://example.com/2022/06/30/RabbitMQ/</id>
    <published>2022-06-30T00:05:07.000Z</published>
    <updated>2023-04-01T01:33:11.955Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h3 id="‰∏Ä„ÄÅÂºïË®Ä"><a href="#‰∏Ä„ÄÅÂºïË®Ä" class="headerlink" title="‰∏Ä„ÄÅÂºïË®Ä"></a>‰∏Ä„ÄÅÂºïË®Ä</h3><blockquote><p>Ê®°Âùó‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶ËøáÈ´òÔºå‰∏ÄÊó¶‰∏Ä‰∏™Ê®°ÂùóÂÆïÊú∫ÂêéÔºåÂÖ®ÈÉ®ÂäüËÉΩÈÉΩ‰∏çËÉΩÁî®‰∫ÜÔºåÂπ∂‰∏îÂêåÊ≠•ÈÄöËÆØÁöÑÊàêÊú¨ËøáÈ´òÔºåÁî®Êà∑‰ΩìÈ™åÂ∑Æ„ÄÇ</p></blockquote><table><thead><tr><th align="center">RabbitMQÂºïË®Ä</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071256754.png" alt="1587650344256"></td></tr></tbody></table><span id="more"></span><h3 id="‰∫å„ÄÅRabbitMQ‰ªãÁªç"><a href="#‰∫å„ÄÅRabbitMQ‰ªãÁªç" class="headerlink" title="‰∫å„ÄÅRabbitMQ‰ªãÁªç"></a>‰∫å„ÄÅRabbitMQ‰ªãÁªç</h3><hr><blockquote><p>Â∏ÇÈù¢‰∏äÊØîËæÉÁÅ´ÁàÜÁöÑÂá†Ê¨æMQÔºö</p><p>ActiveMQÔºåRocketMQÔºåKafkaÔºåRabbitMQ„ÄÇ</p><ul><li><p>ËØ≠Ë®ÄÁöÑÊîØÊåÅÔºöActiveMQÔºåRocketMQÂè™ÊîØÊåÅJavaËØ≠Ë®ÄÔºåKafkaÂèØ‰ª•ÊîØÊåÅÂ§öÈó®ËØ≠Ë®ÄÔºåRabbitMQÊîØÊåÅÂ§öÁßçËØ≠Ë®Ä„ÄÇ</p></li><li><p>ÊïàÁéáÊñπÈù¢ÔºöActiveMQÔºåRocketMQÔºåKafkaÊïàÁéáÈÉΩÊòØÊØ´ÁßíÁ∫ßÂà´ÔºåRabbitMQÊòØÂæÆÁßíÁ∫ßÂà´ÁöÑ„ÄÇ</p></li><li><p>Ê∂àÊÅØ‰∏¢Â§±ÔºåÊ∂àÊÅØÈáçÂ§çÈóÆÈ¢òÔºö RabbitMQÈíàÂØπÊ∂àÊÅØÁöÑÊåÅ‰πÖÂåñÔºåÂíåÈáçÂ§çÈóÆÈ¢òÈÉΩÊúâÊØîËæÉÊàêÁÜüÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ</p></li><li><p>Â≠¶‰π†ÊàêÊú¨ÔºöRabbitMQÈùûÂ∏∏ÁÆÄÂçï„ÄÇ</p></li></ul><p>RabbitMQÊòØÁî±RabbitÂÖ¨Âè∏ÂéªÁ†îÂèëÂíåÁª¥Êä§ÁöÑÔºåÊúÄÁªàÊòØÂú®PivotalÔºåÁî±ErlangËØ≠Ë®ÄÂºÄÂèëÔºàÂπ∂ÂèëÁöÑÁºñÁ®ãËØ≠Ë®ÄÔºâ</p><p>RabbitMQ‰∏•Ê†ºÁöÑÈÅµÂæ™AMQPÂçèËÆÆÔºåÈ´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºåÂ∏ÆÂä©Êàë‰ª¨Âú®ËøõÁ®ã‰πãÈó¥‰º†ÈÄíÂºÇÊ≠•Ê∂àÊÅØ„ÄÇ</p></blockquote><blockquote><p>‚ÄãRabbitMQÊòØÁî®ErlangÂÆûÁé∞ÁöÑ‰∏Ä‰∏™È´òÂπ∂ÂèëÈ´òÂèØÈù†AMQPÊ∂àÊÅØÈòüÂàóÊúçÂä°Âô®„ÄÇÊîØÊåÅÊ∂àÊÅØÁöÑÊåÅ‰πÖÂåñ„ÄÅ‰∫ãÂä°„ÄÅÊã•Â°ûÊéßÂà∂„ÄÅË¥üËΩΩÂùáË°°Á≠âÁâπÊÄßÔºå‰ΩøÂæóRabbitMQÊã•ÊúâÊõ¥Âä†ÂπøÊ≥õÁöÑÂ∫îÁî®Âú∫ÊôØ„ÄÇRabbitMQË∑üErlangÂíåAMQPÊúâÂÖ≥„ÄÇ‰∏ãÈù¢ÁÆÄÂçï‰ªãÁªç‰∏Ä‰∏ãErlangÂíåAMQP„ÄÇ</p><p>‚Äã ErlangÊòØ‰∏ÄÈó®Âä®ÊÄÅÁ±ªÂûãÁöÑÂáΩÊï∞ÂºèÁºñÁ®ãËØ≠Ë®ÄÔºåÂÆÉ‰πüÊòØ‰∏ÄÈó®Ëß£ÈáäÂûãËØ≠Ë®ÄÔºåÁî±ErlangËôöÊãüÊú∫Ëß£ÈáäÊâßË°å„ÄÇ‰ªéËØ≠Ë®ÄÊ®°Âûã‰∏äËØ¥ÔºåErlangÊòØÂü∫‰∫éActorÊ®°ÂûãÁöÑÂÆûÁé∞„ÄÇÂú®ActorÊ®°ÂûãÈáåÈù¢Ôºå‰∏áÁâ©ÁöÜActorÔºåÊØè‰∏™ActorÈÉΩÂ∞ÅË£ÖÁùÄÂÜÖÈÉ®Áä∂ÊÄÅÔºåActorÁõ∏‰∫í‰πãÈó¥Âè™ËÉΩÈÄöËøáÊ∂àÊÅØ‰º†ÈÄíËøô‰∏ÄÁßçÊñπÂºèÊù•ËøõË°åÈÄö‰ø°„ÄÇÂØπÂ∫îÂà∞ErlangÈáåÔºåÊØè‰∏™ActorÂØπÂ∫îÁùÄ‰∏Ä‰∏™ErlangËøõÁ®ãÔºåËøõÁ®ã‰πãÈó¥ÈÄöËøáÊ∂àÊÅØ‰º†ÈÄíËøõË°åÈÄö‰ø°„ÄÇÁõ∏ÊØîÂÖ±‰∫´ÂÜÖÂ≠òÔºåËøõÁ®ãÈó¥ÈÄöËøáÊ∂àÊÅØ‰º†ÈÄíÊù•ÈÄö‰ø°Â∏¶Êù•ÁöÑÁõ¥Êé•Â•ΩÂ§ÑÂ∞±ÊòØÊ∂àÈô§‰∫ÜÁõ¥Êé•ÁöÑÈîÅÂºÄÈîÄ(‰∏çËÄÉËôëErlangËôöÊãüÊú∫Â∫ïÂ±ÇÂÆûÁé∞‰∏≠ÁöÑÈîÅÂ∫îÁî®)„ÄÇ</p><p>‚ÄãAMQP(Advanced Message Queue Protocol)ÂÆö‰πâ‰∫Ü‰∏ÄÁßçÊ∂àÊÅØÁ≥ªÁªüËßÑËåÉ„ÄÇËøô‰∏™ËßÑËåÉÊèèËø∞‰∫ÜÂú®‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁöÑÁ≥ªÁªü‰∏≠ÂêÑ‰∏™Â≠êÁ≥ªÁªüÂ¶Ç‰ΩïÈÄöËøáÊ∂àÊÅØ‰∫§‰∫í„ÄÇËÄåRabbitMQÂàôÊòØAMQPÁöÑ‰∏ÄÁßçÂü∫‰∫éerlangÁöÑÂÆûÁé∞„ÄÇAMQPÂ∞ÜÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÂêÑ‰∏™Â≠êÁ≥ªÁªüÈöîÁ¶ªÂºÄÊù•ÔºåÂ≠êÁ≥ªÁªü‰πãÈó¥‰∏çÂÜçÊúâ‰æùËµñ„ÄÇÂ≠êÁ≥ªÁªü‰ªÖ‰æùËµñ‰∫éÊ∂àÊÅØ„ÄÇÂ≠êÁ≥ªÁªü‰∏çÂÖ≥ÂøÉÊ∂àÊÅØÁöÑÂèëÈÄÅËÄÖÔºå‰πü‰∏çÂÖ≥ÂøÉÊ∂àÊÅØÁöÑÊé•ÂèóËÄÖ„ÄÇ</p></blockquote><blockquote><p>‰ºòÁÇπ</p><p>1„ÄÅËß£ËÄ¶ÔºöÈôç‰ΩéÁ≥ªÁªüÊ®°ÂùóÁöÑËÄ¶ÂêàÂ∫¶</p><p>2„ÄÅÊèêÈ´òÁ≥ªÁªüÂìçÂ∫îÊó∂Èó¥</p><p>3„ÄÅÂºÇÊ≠•Ê∂àÊÅØ</p><p>4„ÄÅËøáËΩΩ‰øùÊä§ÔºåÊµÅÈáèÂâäÂ≥∞</p></blockquote><blockquote><p>1.Â∫îÁî®Ëß£ËÄ¶</p><p>Âú∫ÊôØÔºöÂèå11Ë¥≠Áâ©ÔºåÁî®Êà∑‰∏ãÂçïÂêéÔºåËÆ¢ÂçïÁ≥ªÁªüÈúÄË¶ÅÈÄöÁü•Â∫ìÂ≠òÁ≥ªÁªüÔºå‰º†ÁªüÁöÑÂÅöÊ≥ïÂ∞±ÊòØËÆ¢ÂçïÁ≥ªÁªüË∞ÉÁî®Â∫ìÂ≠òÁ≥ªÁªüÁöÑÊé•Âè£.</p><p>ËøôÁßçÂÅöÊ≥ïÊúâ‰∏Ä‰∏™Áº∫ÁÇπ:</p><ul><li>ÂΩìÂ∫ìÂ≠òÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöúÊó∂ÔºåËÆ¢ÂçïÂ∞±‰ºöÂ§±Ë¥•.</li><li>ËÆ¢ÂçïÁ≥ªÁªüÂíåÂ∫ìÂ≠òÁ≥ªÁªüÈ´òËÄ¶Âêà.</li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071256494.png" alt="1617864607294"></p><blockquote><p>ÂºïÂÖ•Ê∂àÊÅØÈòüÂàó</p><ul><li><p>ËÆ¢ÂçïÁ≥ªÁªü: Áî®Êà∑‰∏ãÂçïÂêéÔºåËÆ¢ÂçïÁ≥ªÁªüÂÆåÊàêÊåÅ‰πÖÂåñÂ§ÑÁêÜÔºåÂ∞ÜÊ∂àÊÅØÂÜôÂÖ•Ê∂àÊÅØÈòüÂàó,ËøîÂõûÁî®Êà∑ËÆ¢Âçï‰∏ãÂçïÊàêÂäü„ÄÇ</p></li><li><p>Â∫ìÂ≠òÁ≥ªÁªü: ËÆ¢ÈòÖ‰∏ãÂçïÁöÑÊ∂àÊÅØ,Ëé∑Âèñ‰∏ãÂçïÊ∂àÊÅØÔºåËøõË°åÂ∫ìÊìç‰Ωú„ÄÇ Â∞±ÁÆóÂ∫ìÂ≠òÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöúÔºåÊ∂àÊÅØÈòüÂàó‰πüËÉΩ‰øùËØÅÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄíÔºå‰∏ç‰ºöÂØºËá¥Ê∂àÊÅØ‰∏¢Â§±</p></li></ul></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071256472.png" alt="1617864757691"></p><blockquote><p>2.ÂºÇÊ≠•Â§ÑÁêÜ<br>Âú∫ÊôØËØ¥ÊòéÔºöÁî®Êà∑Ê≥®ÂÜåÂêéÔºåÈúÄË¶ÅÂèëÊ≥®ÂÜåÈÇÆ‰ª∂ÂíåÊ≥®ÂÜåÁü≠‰ø°Ôºå‰º†ÁªüÁöÑÂÅöÊ≥ïÊúâ‰∏§Áßç  1. ‰∏≤Ë°åÁöÑÊñπÂºè   2. Âπ∂Ë°åÁöÑÊñπÂºè</p><p>‰∏≤Ë°åÊñπÂºè: Â∞ÜÊ≥®ÂÜå‰ø°ÊÅØÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÂêé,ÂèëÈÄÅÊ≥®ÂÜåÈÇÆ‰ª∂ÔºåÂÜçÂèëÈÄÅÊ≥®ÂÜåÁü≠‰ø°Ôºå‰ª•‰∏ä‰∏â‰∏™‰ªªÂä°ÂÖ®ÈÉ®ÂÆåÊàêÂêéÊâçËøîÂõûÁªôÂÆ¢Êà∑Á´Ø„ÄÇ ËøôÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÈÇÆ‰ª∂ÔºåÁü≠‰ø°Âπ∂‰∏çÊòØÂøÖÈ°ªÁöÑÔºåÂÆÉÂè™ÊòØ‰∏Ä‰∏™ÈÄöÁü•,ËÄåËøôÁßçÂÅöÊ≥ïËÆ©ÂÆ¢Êà∑Á´ØÁ≠âÂæÖÊ≤°ÊúâÂøÖË¶ÅÁ≠âÂæÖÁöÑ‰∏úË•ø.</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071256803.png" alt="1617865002916"></p><blockquote><p>Âπ∂Ë°åÊñπÂºè:Â∞ÜÊ≥®ÂÜå‰ø°ÊÅØÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÂêé,ÂèëÈÄÅÈÇÆ‰ª∂ÁöÑÂêåÊó∂,ÂèëÈÄÅÁü≠‰ø°,‰ª•‰∏ä‰∏â‰∏™‰ªªÂä°ÂÆåÊàêÂêé,ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø,Âπ∂Ë°åÁöÑÊñπÂºèËÉΩÊèêÈ´òÂ§ÑÁêÜÁöÑÊó∂Èó¥</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257793.png" alt="1617865040355"></p><blockquote><p>ÂÅáËÆæ‰∏â‰∏™‰∏öÂä°ËäÇÁÇπÂàÜÂà´‰ΩøÁî®50msÔºå‰∏≤Ë°åÊñπÂºè‰ΩøÁî®Êó∂Èó¥150ms,Âπ∂Ë°å‰ΩøÁî®Êó∂Èó¥100ms„ÄÇËôΩÁÑ∂Âπ∂ÊÄßÂ∑≤ÁªèÊèêÈ´òÁöÑÂ§ÑÁêÜÊó∂Èó¥Ôºå‰ΩÜÊòØÔºåÂâçÈù¢ËØ¥Ëøá,ÈÇÆ‰ª∂ÂíåÁü≠‰ø°ÂØπÊàëÊ≠£Â∏∏ÁöÑ‰ΩøÁî®ÁΩëÁ´ôÊ≤°Êúâ‰ªª‰ΩïÂΩ±ÂìçÔºåÂÆ¢Êà∑Á´ØÊ≤°ÊúâÂøÖË¶ÅÁ≠âÁùÄÂÖ∂ÂèëÈÄÅÂÆåÊàêÊâçÊòæÁ§∫Ê≥®ÂÜåÊàêÂäü,Ëã±Áà±ÊòØÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÂêéÂ∞±ËøîÂõû.</p></blockquote><blockquote><p>Ê∂àÊÅØÈòüÂàó</p><p>ÂºïÂÖ•Ê∂àÊÅØÈòüÂàóÂêéÔºåÊääÂèëÈÄÅÈÇÆ‰ª∂ÔºåÁü≠‰ø°‰∏çÊòØÂøÖÈ°ªÁöÑ‰∏öÂä°ÈÄªËæëÂºÇÊ≠•Â§ÑÁêÜÔºåÂºïÂÖ•Ê∂àÊÅØÈòüÂàóÂêéÔºåÁî®Êà∑ÁöÑÂìçÂ∫îÊó∂Èó¥Â∞±Á≠â‰∫éÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÁöÑÊó∂Èó¥+ÂÜôÂÖ•Ê∂àÊÅØÈòüÂàóÁöÑÊó∂Èó¥(ÂèØ‰ª•ÂøΩÁï•‰∏çËÆ°)ÔºåÂºïÂÖ•Ê∂àÊÅØÈòüÂàóÂêéÂ§ÑÁêÜÂêéÔºåÂìçÂ∫îÊó∂Èó¥ÊòØ‰∏≤Ë°åÁöÑ3ÂÄçÔºåÊòØÂπ∂Ë°åÁöÑ2ÂÄç</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257549.png" alt="1617865161427"></p><blockquote><p>3.ÊµÅÈáèÂâäÂ≥∞</p><p>ÊµÅÈáèÂâäÂ≥∞‰∏ÄËà¨Âú®ÁßíÊùÄÊ¥ªÂä®‰∏≠Â∫îÁî®ÂπøÊ≥õ</p><p>Âú∫ÊôØ:ÁßíÊùÄÊ¥ªÂä®Ôºå‰∏ÄËà¨‰ºöÂõ†‰∏∫ÊµÅÈáèËøáÂ§ßÔºåÂØºËá¥Â∫îÁî®ÊåÇÊéâÔºå‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏ÄËà¨Âú®Â∫îÁî®ÂâçÁ´ØÂä†ÂÖ•Ê∂àÊÅØÈòüÂàó„ÄÇ</p><p>‰ΩúÁî®:<br>1.ÂèØ‰ª•ÊéßÂà∂Ê¥ªÂä®‰∫∫Êï∞ÔºåË∂ÖËøáÊ≠§‰∏ÄÂÆöÈòÄÂÄºÁöÑËÆ¢ÂçïÁõ¥Êé•‰∏¢ÂºÉ</p><p>2.ÂèØ‰ª•ÁºìËß£Áü≠Êó∂Èó¥ÁöÑÈ´òÊµÅÈáèÂéãÂûÆÂ∫îÁî®(Â∫îÁî®Á®ãÂ∫èÊåâËá™Â∑±ÁöÑÊúÄÂ§ßÂ§ÑÁêÜËÉΩÂäõËé∑ÂèñËÆ¢Âçï)</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257803.png" alt="1617865250142"></p><blockquote><p>ËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•ÈááÁî®ÈòüÂàóÁöÑÊú∫Âà∂Êù•Â§ÑÁêÜÔºåÂ¶ÇÂêåÊàë‰ª¨Âú®Ë∂ÖÂ∏ÇÁªìÁÆó‰∏ÄÊ†∑ÔºåÂπ∂‰∏ç‰ºö‰∏ÄÁ™ùËúÇ‰∏ÄÊ†∑Ê∂åÂÖ•Êî∂Èì∂Âè∞ÔºåËÄåÊòØÊéíÈòüÁªìÁÆóÔºå‰∏Ä‰∏™Êé•ÁùÄ‰∏Ä‰∏™ÁöÑÂ§ÑÁêÜÔºå‰∏çËÉΩÊèíÈòüÔºåÂõ†‰∏∫ÂêåÊó∂ÁªìÁÆóÂ∞±Âè™ËÉΩËææÂà∞Ëøô‰πàÂ§ö„ÄÇ</p></blockquote><h3 id="‰∏â„ÄÅRabbitMQÂÆâË£Ö"><a href="#‰∏â„ÄÅRabbitMQÂÆâË£Ö" class="headerlink" title="‰∏â„ÄÅRabbitMQÂÆâË£Ö"></a>‰∏â„ÄÅRabbitMQÂÆâË£Ö</h3><hr><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.1&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">daocloud.io/library/rabbitmq:management</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">rabbitmq</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5672</span><span class="string">:5672</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">15672</span><span class="string">:15672</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/var/lib/rabbitmq</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@192 ~]<span class="comment"># cd /opt</span></span><br><span class="line">[root@192 opt]<span class="comment"># mkdir docker_rabbitmq</span></span><br><span class="line">[root@192 opt]<span class="comment"># cd docker_rabbitmq/</span></span><br><span class="line">[root@192 docker_rabbitmq]<span class="comment"># vim docker-compose.yml</span></span><br><span class="line">[root@192 docker_rabbitmq]<span class="comment"># docker-compose up -d</span></span><br><span class="line">Creating network <span class="string">&quot;docker_rabbitmq_default&quot;</span> with the default driver</span><br><span class="line">Pulling rabbitmq (daocloud.io/library/rabbitmq:management)...</span><br><span class="line">management: Pulling from library/rabbitmq</span><br><span class="line">01bf7da0a88c: Pull complete</span><br><span class="line">f3b4a5f15c7a: Pull complete</span><br><span class="line">57ffbe87baa1: Pull complete</span><br><span class="line">5ef3ef76b1b5: Pull complete</span><br><span class="line">82a3ce07c0eb: Pull complete</span><br><span class="line">1da219d9bd70: Pull complete</span><br><span class="line">446554ac749d: Pull complete</span><br><span class="line">8e4c09e200e7: Pull complete</span><br><span class="line">7a8620611ebf: Pull complete</span><br><span class="line">c70a2924b273: Pull complete</span><br><span class="line">3b0b9e36b4e9: Pull complete</span><br><span class="line">7619a9a42512: Pull complete</span><br><span class="line">965a8e1f1b1c: Pull complete</span><br><span class="line">Digest: sha256:4cc2267788b21e0f34523b4f2d9b32ee1c2867bf2de75d572158d6115349658c</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> daocloud.io/library/rabbitmq:management</span><br><span class="line">Creating rabbitmq ... <span class="keyword">done</span></span><br></pre></td></tr></table></figure><blockquote><p>ÊµèËßàÂô®ËÆøÈóÆÔºö<a href="http://ip:15672/">http://ip:15672</a>  ÔºàÊ≥®ÔºöipÊåáÂΩìÂâç‰∫ëÊúçÂä°Âô®ÁöÑÂú∞ÂùÄÔºå‰∫ëÊúçÂä°Âô®ËÆ∞ÂæóÂºÄÊîæ 15672 Âíå 5672 Á´ØÂè£Ôºâ</p><p>Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÈªòËÆ§ÈÉΩÊòØÔºöguest</p></blockquote><h3 id="Âõõ„ÄÅRabbitMQÊû∂ÊûÑ„ÄêÈáçÁÇπ„Äë"><a href="#Âõõ„ÄÅRabbitMQÊû∂ÊûÑ„ÄêÈáçÁÇπ„Äë" class="headerlink" title="Âõõ„ÄÅRabbitMQÊû∂ÊûÑ„ÄêÈáçÁÇπ„Äë"></a>Âõõ„ÄÅRabbitMQÊû∂ÊûÑ„Äê<code>ÈáçÁÇπ</code>„Äë</h3><hr><h4 id="4-1-ÂÆòÊñπÁöÑÁÆÄÂçïÊû∂ÊûÑÂõæ"><a href="#4-1-ÂÆòÊñπÁöÑÁÆÄÂçïÊû∂ÊûÑÂõæ" class="headerlink" title="4.1 ÂÆòÊñπÁöÑÁÆÄÂçïÊû∂ÊûÑÂõæ"></a>4.1 ÂÆòÊñπÁöÑÁÆÄÂçïÊû∂ÊûÑÂõæ</h4><blockquote><ul><li><p>Publisher - Áîü‰∫ßËÄÖÔºöÂèëÂ∏ÉÊ∂àÊÅØÂà∞RabbitMQ‰∏≠ÁöÑExchange</p></li><li><p>Consumer - Ê∂àË¥πËÄÖÔºöÁõëÂê¨RabbitMQ‰∏≠ÁöÑQueue‰∏≠ÁöÑÊ∂àÊÅØ</p></li><li><p>Exchange - ‰∫§Êç¢Êú∫ÔºöÂíåÁîü‰∫ßËÄÖÂª∫Á´ãËøûÊé•Âπ∂Êé•Êî∂Áîü‰∫ßËÄÖÁöÑÊ∂àÊÅØ</p></li><li><p>Queue - ÈòüÂàóÔºöExchange‰ºöÂ∞ÜÊ∂àÊÅØÂàÜÂèëÂà∞ÊåáÂÆöÁöÑQueueÔºåQueueÂíåÊ∂àË¥πËÄÖËøõË°å‰∫§‰∫í</p></li><li><p>Routes - Ë∑ØÁî±Ôºö‰∫§Êç¢Êú∫‰ª•‰ªÄ‰πàÊ†∑ÁöÑÁ≠ñÁï•Â∞ÜÊ∂àÊÅØÂèëÂ∏ÉÂà∞Queue</p></li></ul></blockquote><table><thead><tr><th align="center">ÁÆÄÂçïÊû∂ÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257617.png" alt="1587703812776"></td></tr></tbody></table><h4 id="4-2-RabbitMQÁöÑÂÆåÊï¥Êû∂ÊûÑÂõæ"><a href="#4-2-RabbitMQÁöÑÂÆåÊï¥Êû∂ÊûÑÂõæ" class="headerlink" title="4.2 RabbitMQÁöÑÂÆåÊï¥Êû∂ÊûÑÂõæ"></a>4.2 RabbitMQÁöÑÂÆåÊï¥Êû∂ÊûÑÂõæ</h4><blockquote><p>ÂÆåÊï¥Êû∂ÊûÑÂõæ</p></blockquote><table><thead><tr><th align="center">ÂÆåÊï¥Êû∂ÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257828.png" alt="1587705504342"></td></tr></tbody></table><h4 id="4-3-RabbitMQ-ÈÄöËÆØÊñπÂºè"><a href="#4-3-RabbitMQ-ÈÄöËÆØÊñπÂºè" class="headerlink" title="4.3 RabbitMQ ÈÄöËÆØÊñπÂºè"></a>4.3 RabbitMQ ÈÄöËÆØÊñπÂºè</h4><blockquote><p><a href="https://www.rabbitmq.com/getstarted.html">https://www.rabbitmq.com/getstarted.html</a></p></blockquote><h4 id="4-4-Hello-WorldÊ°à‰æãÊºîÁ§∫"><a href="#4-4-Hello-WorldÊ°à‰æãÊºîÁ§∫" class="headerlink" title="4.4 Hello-WorldÊ°à‰æãÊºîÁ§∫"></a>4.4 Hello-WorldÊ°à‰æãÊºîÁ§∫</h4><blockquote><ol><li>ÂØºÂÖ•‰æùËµñ</li></ol></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.rabbitmq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>amqp-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.15.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><ol start="2"><li>ÂàõÂª∫Áîü‰∫ßËÄÖ Publisher</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.rabbitmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.ConnectionFactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Áîü‰∫ßËÄÖ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Publisher</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Publisher...&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆËøûÊé•ÂèÇÊï∞</span></span><br><span class="line">        <span class="type">ConnectionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConnectionFactory</span>();</span><br><span class="line">        factory.setHost(<span class="string">&quot;192.168.25.132&quot;</span>);</span><br><span class="line">        factory.setPort(<span class="number">5672</span>);</span><br><span class="line">        factory.setUsername(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        factory.setPassword(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> factory.newConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÈòüÂàóÂèÇÊï∞</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞1Ôºöqueue - ÊåáÂÆöÈòüÂàóÁöÑÂêçÁß∞</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞2Ôºödurable - ÂΩìÂâçÈòüÂàóÊòØÂê¶ÈúÄË¶ÅÊåÅ‰πÖÂåñ,ÂÄº‰∏∫trueÊó∂Ë°®Á§∫ÊåÅ‰πÖÂåñÔºårabbitmqÂÆïÊú∫ÊàñÈáçÂêØÂêéÔºåÈòüÂàó‰æùÁÑ∂Âú®</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞3Ôºöexclusive - ÂΩìÂâçÈòüÂàóÊòØÂê¶‰∏∫Êéí‰ªñÈòüÂàóÔºåÂÄº‰∏∫trueÊó∂Ë°®Á§∫‰∏éÂΩìÂâçËøûÊé•ÔºàconnectionÔºâÁªëÂÆöÔºåËøûÊé•ÂÖ≥Èó≠ÔºåÈòüÂàóÊ∂àÂ§±</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞4ÔºöautoDelete - ÂΩìÂâçÈòüÂàóÊòØÂê¶Ëá™Âä®Âà†Èô§ÔºåÂÄº‰∏∫trueÊó∂Ë°®Á§∫ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØ‰∏ÄÊó¶Ë¢´Ê∂àË¥πÔºåËØ•ÈòüÂàó‰ºöÊ∂àÂ§±</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞5Ôºöarguments - ÊåáÂÆöÂΩìÂâçÈòüÂàóÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞</span></span><br><span class="line">        channel.queueDeclare(<span class="string">&quot;helloworldQueue&quot;</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">false</span>,<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//ÂèëÂ∏ÉÊ∂àÊÅØÂà∞exchangeÔºåÂêåÊó∂ÊåáÂÆöË∑ØÁî±ÁöÑËßÑÂàô</span></span><br><span class="line">        <span class="comment">// ÂèÇÊï∞1ÔºöÊåáÂÆöexchangeÔºåÁõÆÂâçÊµãËØïÊ≤°ÊúâÂàõÂª∫‰∫§Êç¢Êú∫Ôºå‰ΩøÁî®&quot;&quot;</span></span><br><span class="line">        <span class="comment">// ÂèÇÊï∞2ÔºöÊåáÂÆöË∑ØÁî±ÁöÑËßÑÂàôÔºåÊàñËÄÖ‰ΩøÁî®ÂÖ∑‰ΩìÁöÑÈòüÂàóÂêçÁß∞</span></span><br><span class="line">        <span class="comment">// ÂèÇÊï∞3ÔºöÊåáÂÆö‰º†ÈÄíÁöÑÊ∂àÊÅØÊâÄÊê∫Â∏¶ÁöÑpropertiesÔºåÁõÆÂâçÊµãËØï‰∏çÈúÄË¶ÅÔºå‰ΩøÁî®null</span></span><br><span class="line">        <span class="comment">// ÂèÇÊï∞4ÔºöÊåáÂÆöÂèëÂ∏ÉÁöÑÂÖ∑‰ΩìÊ∂àÊÅØÔºåbyte[]Á±ªÂûãÔºåÁõÆÂâçÊµãËØïÈúÄË¶ÅÔºå‰º†ÈÄíÊï∞ÊçÆËøõË°åÁ±ªÂûãËΩ¨Êç¢</span></span><br><span class="line">        channel.basicPublish(<span class="string">&quot;&quot;</span>,<span class="string">&quot;helloworldQueue&quot;</span>,<span class="literal">null</span>,<span class="string">&quot;helloworld&quot;</span>.getBytes());</span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠ËµÑÊ∫ê</span></span><br><span class="line">        channel.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ol start="3"><li>ÂàõÂª∫Ê∂àË¥πËÄÖ Consumer</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.rabbitmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ê∂àË¥πËÄÖ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Consumer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Consumer...&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆËøûÊé•ÂèÇÊï∞</span></span><br><span class="line">        <span class="type">ConnectionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConnectionFactory</span>();</span><br><span class="line">        factory.setHost(<span class="string">&quot;192.168.25.132&quot;</span>);</span><br><span class="line">        factory.setPort(<span class="number">5672</span>);</span><br><span class="line">        factory.setUsername(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        factory.setPassword(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> factory.newConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÁõëÂê¨ÈòüÂàó</span></span><br><span class="line">        <span class="type">DefaultConsumer</span> <span class="variable">defaultConsumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultConsumer</span>(channel)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleDelivery</span><span class="params">(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, <span class="type">byte</span>[] body)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Êù•Ëá™Áîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÔºö&quot;</span>+<span class="keyword">new</span> <span class="title class_">String</span>(body));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ê∂àË¥πÊ∂àÊÅØ</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞1Ôºöqueue - ÊåáÂÆöÊ∂àË¥πÂì™‰∏™ÈòüÂàó</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞2ÔºöautoAck - ÊåáÂÆöÊòØÂê¶Ëá™Âä®ACK ÔºàtrueË°®Á§∫Êé•Êî∂Âà∞Ê∂àÊÅØÂêéÔºå‰ºöÁ´ãÂç≥ÂëäÁü•RabbitMQÔºåfalseË°®Á§∫‰∏çÂëäÁü•Ôºâ</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞3Ôºöconsumer - ÊåáÂÆöÊ∂àË¥πÂõûË∞É</span></span><br><span class="line">        channel.basicConsume(<span class="string">&quot;helloworldQueue&quot;</span>,<span class="literal">true</span>,defaultConsumer);</span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠ËµÑÊ∫ê</span></span><br><span class="line">        channel.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ÂàÜÂà´ÂêØÂä®Áîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖËøõË°åÊµãËØïÔºàÁîü‰∫ß‰∏ÄÊ¨°ÊâçËÉΩÊ∂àË¥π‰∏ÄÊ¨°Ôºâ</p></blockquote><h4 id="4-5-Âü∫Êú¨ÂéüÁêÜ"><a href="#4-5-Âü∫Êú¨ÂéüÁêÜ" class="headerlink" title="4.5 Âü∫Êú¨ÂéüÁêÜ"></a>4.5 Âü∫Êú¨ÂéüÁêÜ</h4><blockquote><p>RabbitMQÊòØÊ∂àÊÅØÈòüÂàóÁöÑ‰∏ÄÁßçÂÆûÁé∞ÔºåÈÇ£‰πà‰∏Ä‰∏™Ê∂àÊÅØÈòüÂàóÂà∞Â∫ïÈúÄË¶Å‰ªÄ‰πàÔºüÁ≠îÊ°àÊòØÈòüÂàóÔºåÂç≥QueueÔºåÈÇ£‰πàÊé•‰∏ãÊù•ÊâÄÊúâÂêçËØçÈÉΩÊòØÂõ¥ÁªïËøô‰∏™<strong>Queue</strong>Êù•ÊãìÂ±ïÁöÑ„ÄÇ</p><p>‚ÄãÂ∞±RabbimtMQËÄåË®ÄÔºåQueueÊòØÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÈÄªËæë‰∏äÁöÑÂÆûÁé∞ÔºåÊàë‰ª¨ÈúÄË¶ÅËøûÊé•Âà∞RabbitMQÊù•Êìç‰ΩúÈòüÂàóËøõËÄåÂÆûÁé∞‰∏öÂä°ÂäüËÉΩÔºåÊâÄ‰ª•Â∞±‰ºöÊúâ<strong>Connection</strong>ÔºåÊàë‰ª¨Âèë‰∏ÄÊù°Ê∂àÊÅØËøûÊé•‰∏ÄÊ¨°ÔºåËøôÊ†∑ÂæàÊòæÁÑ∂ÊòØÊµ™Ë¥πËµÑÊ∫êÁöÑÔºåÂª∫Á´ãËøûÊé•ÁöÑËøáÁ®ã‰πüÂæàËÄóÊó∂ÔºåÊâÄ‰ª•Êàë‰ª¨Â∞±‰ºöÂÅö‰∏Ä‰∏™‰∏úË•øËÆ©‰ªñÊù•ÁÆ°ÁêÜËøûÊé•ÔºåÂΩìÊàëÁî®ÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•‰ªéÈáåËæπÊãøÂá∫Êù•Â∑≤ÁªèÂª∫Á´ãÂ•ΩÁöÑËøûÊé•Âèë‰ø°ÊÅØÔºåÈÇ£‰πà<strong>ConnectionFactory</strong>Â∫îËøêËÄåÁîü„ÄÇ</p><p>‚ÄãÊé•‰∏ãÊù•ÔºåÂΩìÁ®ãÂ∫èÂºÄÂèëÊó∂ÔºåÂèØËÉΩ‰∏çÊ≠¢Áî®Âà∞‰∏Ä‰∏™ÈòüÂàóÔºåÂèØËÉΩÊúâËÆ¢ÂçïÁöÑÈòüÂàó„ÄÅÊ∂àÊÅØÁöÑÈòüÂàó„ÄÅ‰ªªÂä°ÁöÑÈòüÂàóÁ≠âÁ≠âÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÁªô‰∏çÂêåÁöÑqueueÂèë‰ø°ÊÅØÔºåÈÇ£‰πàÂíåÊØè‰∏Ä‰∏™ÈòüÂàóËøûÊé•ÁöÑËøô‰∏™Ê¶ÇÂøµÔºåÂ∞±Âè´<strong>Channel</strong>„ÄÇ</p><p>‚ÄãÂÜçÂæÄ‰∏ãÊù•ÔºåÂΩìÊàë‰ª¨ÂºÄÂèëÁöÑÊó∂ÂÄôËøòÊúâÊó∂ÂÄô‰ºöÁî®Âà∞ËøôÊ†∑‰∏ÄÁßçÂäüËÉΩÔºåÂ∞±ÊòØÂΩìÊàëÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÔºåÈúÄË¶ÅËÆ©Âá†‰∏™queueÈÉΩÊî∂Âà∞ÔºåÈÇ£‰πàÊÄé‰πàËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂë¢ÔºåÈöæÈÅìÊàëË¶ÅÁªôÊØè‰∏Ä‰∏™queueÂèëÈÄÅ‰∏ÄÊ¨°Ê∂àÊÅØÔºüÈÇ£Â≤Ç‰∏çÊòØÊµ™Ë¥πÂ∏¶ÂÆΩÂèàÊµ™Ë¥πËµÑÊ∫êÔºåÊàë‰ª¨ËÉΩÊÉ≥Âà∞‰ªÄ‰πàÂäûÊ≥ïÂë¢ÔºåÂΩìÁÑ∂ÊòØÊàë‰ª¨ÂèëÈÄÅÁªôRabbitMQÊúçÂä°Âô®‰∏ÄÊ¨°ÔºåÁÑ∂ÂêéËÆ©RabbitMQÊúçÂä°Âô®Ëá™Â∑±Ëß£ÊûêÈúÄË¶ÅÁªôÂì™‰∏™QueueÂèëÔºåÈÇ£‰πà<strong>Exchange</strong>Â∞±ÊòØÂπ≤Ëøô‰ª∂‰∫ãÁöÑ<br>‰ΩÜÊòØÊàë‰ª¨ÁªôExchangeÂèëÊ∂àÊÅØÔºå‰ªñÊÄé‰πàÁü•ÈÅìÁªôÂì™‰∏™QueueÂèëÂë¢ÔºüËøôÈáåÂ∞±Áî®Âà∞‰∫Ü<strong>RoutingKeyÂíåBindingKey</strong><br>BindingKeyÊòØExchangeÂíåQueueÁªëÂÆöÁöÑËßÑÂàôÊèèËø∞ÔºåËøô‰∏™ÊèèËø∞Áî®Êù•Ëß£ÊûêÂΩìExchangeÊé•Êî∂Âà∞Ê∂àÊÅØÊó∂ÔºåExchangeÊé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ‰ºöÂ∏¶ÊúâRoutingKeyËøô‰∏™Â≠óÊÆµÔºåExchangeÂ∞±ÊòØÊ†πÊçÆËøô‰∏™RoutingKeyÂíåÂΩìÂâçExchangeÊâÄÊúâÁªëÂÆöÁöÑBindingKeyÂÅöÂåπÈÖçÔºåÂ¶ÇÊûúÊª°Ë∂≥Ë¶ÅÊ±ÇÔºåÂ∞±ÂæÄBindingKeyÊâÄÁªëÂÆöÁöÑQueueÂèëÈÄÅÊ∂àÊÅØÔºåËøôÊ†∑Êàë‰ª¨Â∞±Ëß£ÂÜ≥‰∫ÜÊàë‰ª¨ÂêëRabbitMQÂèëÈÄÅ‰∏ÄÊ¨°Ê∂àÊÅØÔºåÂèØ‰ª•ÂàÜÂèëÂà∞‰∏çÂêåÁöÑQueueÁöÑËøáÁ®ã</p><p>Ëá≥Ê≠§ÔºåÊàë‰ª¨Â∞±ÊääÊâÄÊúâÁöÑÂêçËØçË¥ØÈÄöÂíØÔºåÊé•‰∏ãÊù•ÂÅö‰∏™Ê¶ÇË¶ÅÊèèËø∞Ôºö</p><ul><li>Broker:Êèê‰æõ‰∏ÄÁßç‰º†ËæìÊúçÂä°,ÂÆÉÁöÑËßíËâ≤Â∞±ÊòØÁª¥Êä§‰∏ÄÊù°‰ªéÁîü‰∫ßËÄÖÂà∞Ê∂àË¥πËÄÖÁöÑË∑ØÁ∫øÔºå‰øùËØÅÊï∞ÊçÆËÉΩÊåâÁÖßÊåáÂÆöÁöÑÊñπÂºèËøõË°å‰º†Ëæì</li><li>ConnectionFactoryÔºö‰∏éRabbitMQÊúçÂä°Âô®ËøûÊé•ÁöÑÁÆ°ÁêÜÂô®</li><li>ConnectionÔºö‰∏éRabbitMQÊúçÂä°Âô®ÁöÑTCPËøûÊé•</li><li>ChannelÔºö‰∏éExchangeÁöÑËøûÊé•Ôºå‰∏Ä‰∏™ConnectionÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™Channel„ÄÇ‰πãÊâÄ‰ª•ÈúÄË¶ÅChannelÔºåÊòØÂõ†‰∏∫TCPËøûÊé•ÁöÑÂª∫Á´ãÂíåÈáäÊîæÈÉΩÊòØÂçÅÂàÜÊòÇË¥µÁöÑÔºå‰∏∫‰∫ÜÂ§öË∑ØÂ§çÁî®„ÄÇRabbitMQÂª∫ËÆÆÂÆ¢Êà∑Á´ØÁ∫øÁ®ã‰πãÈó¥‰∏çË¶ÅÂÖ±Áî®ChannelÔºå‰ΩÜÊòØÂª∫ËÆÆÂ∞ΩÈáèÂÖ±Áî®Connection„ÄÇ</li><li>Queue:Ê∂àÊÅØÁöÑËΩΩ‰Ωì,ÊØè‰∏™Ê∂àÊÅØÈÉΩ‰ºöË¢´ÊäïÂà∞‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÈòüÂàó„ÄÇ</li><li>ExchangeÔºöÊé•ÂèóÊ∂àÊÅØÁîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÔºåÂπ∂Ê†πÊçÆÊ∂àÊÅØÁöÑRoutingKeyÂíå ExchangeÁªëÂÆöÁöÑBindingKeyÔºå‰ª•ÂèäBindingËßÑÂàôÂ∞ÜÊ∂àÊÅØË∑ØÁî±ÁªôÊúçÂä°Âô®‰∏≠ÁöÑÈòüÂàó„ÄÇExchangeTypeÂÜ≥ÂÆö‰∫ÜExchangeË∑ØÁî±Ê∂àÊÅØÁöÑË°å‰∏∫Ôºå‰æãÂ¶ÇÔºåÂú®RabbitMQ‰∏≠ÔºåExchangeTypeÊúâdirect„ÄÅFanoutÂíåTopic‰∏âÁßçÔºå‰∏çÂêåÁ±ªÂûãÁöÑExchangeË∑ØÁî±ÁöÑË°å‰∏∫ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ</li><li>Message QueueÔºöÊ∂àÊÅØÈòüÂàóÔºåÁî®‰∫éÂ≠òÂÇ®ËøòÊú™Ë¢´Ê∂àË¥πËÄÖÊ∂àË¥πÁöÑÊ∂àÊÅØ„ÄÇ</li><li>Message: Áî±HeaderÂíåBodyÁªÑÊàêÔºåHeaderÊòØÁî±Áîü‰∫ßËÄÖÊ∑ªÂä†ÁöÑÂêÑÁßçÂ±ûÊÄßÁöÑÈõÜÂêàÔºåÂåÖÊã¨MessageÊòØÂê¶Ë¢´ÊåÅ‰πÖÂåñ„ÄÅÁî±Âì™‰∏™Message QueueÊé•Âèó„ÄÅ‰ºòÂÖàÁ∫ßÊòØÂ§öÂ∞ëÁ≠â„ÄÇËÄåBodyÊòØÁúüÊ≠£ÈúÄË¶Å‰º†ËæìÁöÑAPPÊï∞ÊçÆ„ÄÇ</li><li>RoutingKeyÔºöÁî±ProducerÂèëÈÄÅMessageÊó∂ÊåáÂÆöÔºåÊåáÂÆöÂΩìÂâçÊ∂àÊÅØË¢´Ë∞ÅÊé•Âèó</li><li>BindingKeyÔºöÁî±ConsumerÂú®Binding Exchange‰∏éMessage QueueÊó∂ÊåáÂÆöÔºåÊåáÂÆöÂΩìÂâçExchange‰∏ãÔºå‰ªÄ‰πàÊ†∑ÁöÑRoutingKey‰ºöË¢´‰∏ãÊ¥æÂà∞ÂΩìÂâçÁªëÂÆöÁöÑQueue‰∏≠</li><li>Binding:ËÅîÁ≥ª‰∫ÜExchange‰∏éMessage Queue„ÄÇExchangeÂú®‰∏éÂ§ö‰∏™Message QueueÂèëÁîüBindingÂêé‰ºöÁîüÊàê‰∏ÄÂº†Ë∑ØÁî±Ë°®ÔºåË∑ØÁî±Ë°®‰∏≠Â≠òÂÇ®ÁùÄMessage QueueÊâÄÈúÄÊ∂àÊÅØÁöÑÈôêÂà∂Êù°‰ª∂Âç≥Binding Key„ÄÇÂΩìExchangeÊî∂Âà∞MessageÊó∂‰ºöËß£ÊûêÂÖ∂HeaderÂæóÂà∞Routing KeyÔºåExchangeÊ†πÊçÆRouting Key‰∏é<strong>Exchange Type</strong>Â∞ÜMessageË∑ØÁî±Âà∞Message Queue„ÄÇBinding KeyÁî±ConsumerÂú®Binding Exchange‰∏éMessage QueueÊó∂ÊåáÂÆöÔºåËÄåRouting KeyÁî±ProducerÂèëÈÄÅMessageÊó∂ÊåáÂÆöÔºå‰∏§ËÄÖÁöÑÂåπÈÖçÊñπÂºèÁî±Exchange TypeÂÜ≥ÂÆö„ÄÇ</li><li>Server: Êé•ÂèóÂÆ¢Êà∑Á´ØËøûÊé•ÔºåÂÆûÁé∞AMQPÊ∂àÊÅØÈòüÂàóÂíåË∑ØÁî±ÂäüËÉΩÁöÑËøõÁ®ã„ÄÇ</li><li>Virtual Host:ÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™ËôöÊãüÊ¶ÇÂøµÔºåÁ±ª‰ºº‰∫éÊùÉÈôêÊéßÂà∂ÁªÑÔºåÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§ÂàÜÈÖçÁªôÁî®Êà∑Virtual HostÁöÑÊùÉÈôêÔºåÈªòËÆ§ÁöÑguestÁî®Êà∑ÊòØÁÆ°ÁêÜÂëòÊùÉÈôêÔºåÂàùÂßãÁ©∫Èó¥Êúâ&#x2F;Ôºå‰∏Ä‰∏™Virtual HostÈáåÈù¢ÂèØ‰ª•ÊúâËã•Âπ≤‰∏™ExchangeÂíåQueueÔºå‰ΩÜÊòØÊùÉÈôêÊéßÂà∂ÁöÑÊúÄÂ∞èÁ≤íÂ∫¶ÊòØVirtual Host</li></ul></blockquote><h3 id="‰∫î„ÄÅSpringBootÊï¥ÂêàRabbitMQÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë"><a href="#‰∫î„ÄÅSpringBootÊï¥ÂêàRabbitMQÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë" class="headerlink" title="‰∫î„ÄÅSpringBootÊï¥ÂêàRabbitMQÁöÑ‰ΩøÁî®„ÄêÈáçÁÇπ„Äë"></a>‰∫î„ÄÅSpringBootÊï¥ÂêàRabbitMQÁöÑ‰ΩøÁî®„Äê<code>ÈáçÁÇπ</code>„Äë</h3><hr><h4 id="5-1-ÂØºÂÖ•‰æùËµñ"><a href="#5-1-ÂØºÂÖ•‰æùËµñ" class="headerlink" title="5.1 ÂØºÂÖ•‰æùËµñ"></a>5.1 ÂØºÂÖ•‰æùËµñ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="5-2-Âú®application-properties‰∏≠Â¢ûÂä†ÈÖçÁΩÆ"><a href="#5-2-Âú®application-properties‰∏≠Â¢ûÂä†ÈÖçÁΩÆ" class="headerlink" title="5.2 Âú®application.properties‰∏≠Â¢ûÂä†ÈÖçÁΩÆ"></a>5.2 Âú®application.properties‰∏≠Â¢ûÂä†ÈÖçÁΩÆ</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÂØπ‰∫érabbitMQÁöÑÊîØÊåÅ</span></span><br><span class="line">spring.rabbitmq.host=192.168.153.136</span><br><span class="line">spring.rabbitmq.port=5672</span><br><span class="line">spring.rabbitmq.username=guest</span><br><span class="line">spring.rabbitmq.password=guest</span><br></pre></td></tr></table></figure><h4 id="5-3-Hello-World-ÁÆÄÂçïÈòüÂàó"><a href="#5-3-Hello-World-ÁÆÄÂçïÈòüÂàó" class="headerlink" title="5.3 Hello-World ÁÆÄÂçïÈòüÂàó"></a>5.3 Hello-World ÁÆÄÂçïÈòüÂàó</h4><blockquote><p>‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰∏Ä‰∏™ÈªòËÆ§ÁöÑ‰∫§Êç¢Êú∫Ôºå‰∏Ä‰∏™ÈòüÂàóÔºå‰∏Ä‰∏™Ê∂àË¥πËÄÖ</p></blockquote><table><thead><tr><th align="center">ÁªìÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257229.png" alt="1587715551088"></td></tr></tbody></table><blockquote><p>1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ªÔºåÁî®‰∫éÂàõÂª∫ÈòüÂàóÂØπË±°</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleQueueConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">simple</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;simpleQueue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2ÔºâÂàõÂª∫Áîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleQueueProducer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SimpleQueueProducer&quot;</span>);</span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞‰∏∫ÈòüÂàóÂêçÁß∞ÔºåÁ¨¨‰∫åÂèÇÊï∞‰∏∫Ê∂àÊÅØÂÜÖÂÆπ</span></span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;simpleQueue&quot;</span>,<span class="string">&quot;ÁÆÄÂçïÊ®°Âºè&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3ÔºâÂàõÂª∫Ê∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleQueueCustomer</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RabbitListener(queues=&quot;simpleQueue&quot;)</span><span class="comment">//ÁõëÂê¨ÊåáÂÆöÁöÑÊ∂àÊÅØÈòüÂàó</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SimpleQueueCustomer&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Êù•SimpleQueueProducerÁöÑ‰ø°ÊÅØÔºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4ÔºâÂú®src\test\java\com\qf\Rabbitmq01ApplicationTests.javaËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture;</span><br><span class="line"><span class="keyword">import</span> com.couture.simple.SimpleQueueProducer;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rabbitmq01ApplicationTests</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SimpleQueueProducer simpleQueueProducer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSimpleQueueProducer</span><span class="params">()</span>&#123;</span><br><span class="line">        simpleQueueProducer.send();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Â¶ÇÊûú‰º†ÈÄíÁöÑÊòØ JavaBean ÂØπË±°ÔºåËØ•ÂÆû‰ΩìÁ±ªÈúÄË¶ÅÂÆûÁé∞Â∫èÂàóÂåñÊé•Âè£ÔºåÂÖ∑‰ΩìÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p></blockquote><blockquote><ol><li>ÂØºÂÖ•lombok‰æùËµñÔºåÂàõÂª∫UserÁ±ª</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ol start="2"><li>‰øÆÊîπÁîü‰∫ßËÄÖ‰∏≠ÁöÑ‰ª£Á†Å</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Áîü‰∫ßËÄÖ</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimplePublisher</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SimplePublisher...&quot;</span>);</span><br><span class="line">        <span class="comment">//rabbitTemplate.convertAndSend(&quot;&quot;,&quot;simpleQueue&quot;,&quot;ÁÆÄÂçïÊ®°Âºè&quot;);</span></span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;&quot;</span>,<span class="string">&quot;simpleQueue&quot;</span>,<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Âº†‰∏â&quot;</span>,<span class="string">&quot;123&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><ol start="3"><li>‰øÆÊîπÊ∂àË¥πËÄÖ‰∏≠ÁöÑ‰ª£Á†Å</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ê∂àË¥πËÄÖ</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleConsumer</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @RabbitListener(queues = &quot;simpleQueue&quot;)</span></span><br><span class="line"><span class="comment">//    public void receive(String content)&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;SimpleConsumer...&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;Êù•Ëá™SimplePublisherÁöÑÊ∂àÊÅØÔºö&quot;+content);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;simpleQueue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;SimpleConsumer...&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Êù•Ëá™SimplePublisherÁöÑÊ∂àÊÅØÔºö&quot;</span>+user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ol start="4"><li>ËøêË°åÊµãËØïÁ±ªÂç≥ÂèØÔºÅ</li></ol></blockquote><h4 id="5-4-Work-Â∑•‰ΩúÈòüÂàó"><a href="#5-4-Work-Â∑•‰ΩúÈòüÂàó" class="headerlink" title="5.4 Work Â∑•‰ΩúÈòüÂàó"></a>5.4 Work Â∑•‰ΩúÈòüÂàó</h4><blockquote><p>‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰∏Ä‰∏™ÈªòËÆ§ÁöÑ‰∫§Êç¢Êú∫Ôºå‰∏Ä‰∏™ÈòüÂàóÔºå‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><table><thead><tr><th align="center">ÁªìÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257641.png" alt="1587718055260"></td></tr></tbody></table><blockquote><p> 1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ªÔºåÁî®‰∫éÂàõÂª∫ÈòüÂàóÂØπË±°</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.work;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkQueueConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">work</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;workQueue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2ÔºâÂàõÂª∫Áîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.work;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkQueueProducer</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WorkQueueProducer&quot;</span>);</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;workQueue&quot;</span>,<span class="string">&quot;Â∑•‰ΩúÈòüÂàóÊ®°Âºè&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3ÔºâÂàõÂª∫Ê∂àË¥πËÄÖÔºåÊú¨Ê°à‰æãÂàõÂª∫‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.work;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkQueueCustomer_01</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RabbitListener(queues=&quot;workQueue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WorkQueueCustomer_01Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.work;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkQueueCustomer_02</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues=&quot;workQueue&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;WorkQueueCustomer_02Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4ÔºâÂú®ÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÊñπÊ≥ïËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> WorkQueueProducer workQueueProducer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testWorkQueueProducer</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;<span class="number">100</span>; i++)&#123;</span><br><span class="line">        workQueueProducer.send();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-5-Publish-x2F-Subscribe-ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè"><a href="#5-5-Publish-x2F-Subscribe-ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè" class="headerlink" title="5.5 Publish&#x2F;Subscribe ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè"></a>5.5 Publish&#x2F;Subscribe ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè</h4><blockquote><p>‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰∏Ä‰∏™‰∫§Êç¢Êú∫Ôºå‰∏§‰∏™ÈòüÂàóÔºå‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><table><thead><tr><th align="center">ÁªìÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257569.png" alt="1587720941513"></td></tr></tbody></table><blockquote><p>‰ΩøÁî®ËØ•Ê®°ÂºèÈúÄË¶ÅÂÄüÂä©‰∫§Êç¢Êú∫ÔºåÁîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫ÔºåÂÜçÈÄöËøá‰∫§Êç¢Êú∫Âà∞ËææÈòüÂàó.</p><p>ÊúâÂõõÁßç‰∫§Êç¢Êú∫Ôºödirect&#x2F;topic&#x2F;headers&#x2F;fanoutÔºåÈªòËÆ§‰∫§Êç¢Êú∫ÊòØdirectÔºåÂèëÂ∏É‰∏éËÆ¢ÈòÖÁöÑÂÆûÁé∞‰ΩøÁî®Á¨¨Âõõ‰∏™‰∫§Êç¢Âô®Á±ªÂûãfanout</p><p>‰ΩøÁî®‰∫§Êç¢Êú∫Êó∂ÔºåÊØè‰∏™Ê∂àË¥πËÄÖÊúâËá™Â∑±ÁöÑÈòüÂàóÔºåÁîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫(X)ÔºåÊØè‰∏™ÈòüÂàóÈÉΩË¶ÅÁªëÂÆöÂà∞‰∫§Êç¢Êú∫</p></blockquote><blockquote><p>Êú¨‰æã‰∏≠Ôºö</p><p>ÂàõÂª∫2‰∏™Ê∂àÊÅØÈòüÂàó</p><p>ÂàõÂª∫‰∏Ä‰∏™fanout‰∫§Êç¢Êú∫ÂØπË±°</p><p>Bind‰∫§Êç¢Êú∫ÂíåÈòüÂàó</p></blockquote><blockquote><p> 1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.fanout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Binding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.BindingBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.FanoutExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÂàõÂª∫‰∏§‰∏™ÈòüÂàó</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;fanoutQueue1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">fanoutQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;fanoutQueue2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÂàõÂª∫‰∏Ä‰∏™‰∫§Êç¢Êú∫</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FanoutExchange <span class="title function_">fanoutExchange</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">FanoutExchange</span>(<span class="string">&quot;fanoutExchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Â∞Ü‰∏§‰∏™ÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫‰∏ä</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bindingFanoutQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue1()).to(fanoutExchange());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bindingFanoutQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(fanoutQueue2()).to(fanoutExchange());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>2ÔºâÂàõÂª∫Áîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.fanout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutProducer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;FanoutProducer&quot;</span>);</span><br><span class="line">        <span class="comment">//Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØ‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞ ÔºåÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÊòØrouterKey ËøôÈáåËÆæÁΩÆ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤Âç≥ÂèØÔºåÁ¨¨‰∏â‰∏™ÂèÇÊï∞ÊòØË¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØ</span></span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;fanoutExchange&quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;ÂèëÂ∏É/ËÆ¢ÈòÖ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3ÔºâÂàõÂª∫Ê∂àË¥πËÄÖÔºåÊú¨Ê°à‰æãÂàõÂª∫‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.fanout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutCustomer_01</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;fanoutQueue1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;FanoutCustomer_01Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.fanout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FanoutCustomer_02</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;fanoutQueue2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;FanoutCustomer_02Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4ÔºâÂú®ÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÊñπÊ≥ïËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> FanoutProducer fanoutProducer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFanoutProducer</span><span class="params">()</span>&#123;</span><br><span class="line">    fanoutProducer.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-6-Routing-Ë∑ØÁî±Ê®°Âºè"><a href="#5-6-Routing-Ë∑ØÁî±Ê®°Âºè" class="headerlink" title="5.6 Routing Ë∑ØÁî±Ê®°Âºè"></a>5.6 Routing Ë∑ØÁî±Ê®°Âºè</h4><blockquote><p>‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰∏Ä‰∏™‰∫§Êç¢Êú∫Ôºå‰∏§‰∏™ÈòüÂàóÔºå‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><table><thead><tr><th align="center">ÁªìÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257024.png" alt="1587724886159"></td></tr></tbody></table><blockquote><p>Áîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞direct‰∫§Êç¢Êú∫ÔºàË∑ØÁî±Ê®°ÂºèÈúÄË¶ÅÂÄüÂä©Áõ¥Ëøû‰∫§Êç¢Êú∫ÂÆûÁé∞ÔºâÔºåÂú®ÁªëÂÆöÈòüÂàóÂíå‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄôÊúâ‰∏Ä‰∏™Ë∑ØÁî±keyÔºåÁîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊ∂àÊÅØ‰ºöÊåáÂÆö‰∏Ä‰∏™Ë∑ØÁî±keyÔºåÈÇ£‰πàÊ∂àÊÅØÂè™‰ºöÂèëÈÄÅÂà∞Áõ∏Â∫îkeyÁõ∏ÂêåÁöÑÈòüÂàóÔºåÊé•ÁùÄÁõëÂê¨ËØ•ÈòüÂàóÁöÑÊ∂àË¥πËÄÖÊ∂àË¥πÊ∂àÊÅØ„ÄÇ‰πüÂ∞±ÊòØËÆ©Ê∂àË¥πËÄÖÊúâÈÄâÊã©ÊÄßÁöÑÊé•Êî∂Ê∂àÊÅØ„ÄÇ</p></blockquote><blockquote><p>Êú¨‰æã‰∏≠Ôºö</p><p>ÂàõÂª∫2‰∏™Ê∂àÊÅØÈòüÂàó</p><p>ÂàõÂª∫‰∏Ä‰∏™direct‰∫§Êç¢Êú∫ÂØπË±°</p><p>Bind‰∫§Êç¢Êú∫ÂíåÈòüÂàó</p></blockquote><blockquote><p>1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.direct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Binding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.BindingBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.DirectExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">directQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;directQueue1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">directQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;directQueue2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DirectExchange <span class="title function_">directExchange</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">DirectExchange</span>(<span class="string">&quot;directExchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bingDirectQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue1()).to(directExchange()).with(<span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bingDirectQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(directQueue2()).to(directExchange()).with(<span class="string">&quot;lisi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2ÔºâÂàõÂª∫Áîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.direct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.DirectExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectProducer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DirectExchange directExchange;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DirectProducer&quot;</span>);</span><br><span class="line">        rabbitTemplate.convertAndSend(directExchange.getName(),<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;zhangsanContent&quot;</span>);</span><br><span class="line">        rabbitTemplate.convertAndSend(directExchange.getName(),<span class="string">&quot;lisi&quot;</span>,<span class="string">&quot;lisiContent&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3ÔºâÂàõÂª∫‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.direct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectCustomer_01</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;directQueue1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DirectCustomer_01Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.direct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DirectCustomer_02</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;directQueue2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;DirectCustomer_02Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4ÔºâÂú®ÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÊñπÊ≥ïËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> DirectProducer directProducer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDirectProducer</span><span class="params">()</span>&#123;</span><br><span class="line">    directProducer.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-7-Topic-‰∏ªÈ¢òÊ®°Âºè"><a href="#5-7-Topic-‰∏ªÈ¢òÊ®°Âºè" class="headerlink" title="5.7 Topic ‰∏ªÈ¢òÊ®°Âºè"></a>5.7 Topic ‰∏ªÈ¢òÊ®°Âºè</h4><blockquote><p>‰∏Ä‰∏™Áîü‰∫ßËÄÖÔºå‰∏Ä‰∏™‰∫§Êç¢Êú∫Ôºå‰∏§‰∏™ÈòüÂàóÔºå‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><table><thead><tr><th align="center">ÁªìÊûÑÂõæ</th></tr></thead><tbody><tr><td align="center"><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257254.png" alt="1587727436898"></td></tr></tbody></table><blockquote><p>ÂèàÁß∞ÈÄöÈÖçÁ¨¶Ê®°ÂºèÔºàÂèØ‰ª•ÁêÜËß£‰∏∫Ê®°Á≥äÂåπÈÖçÔºåË∑ØÁî±Ê®°ÂºèÁõ∏ÂΩì‰∫éÁ≤æÁ°ÆÂåπÈÖçÔºâ</p><p>‰ΩøÁî®Áõ¥Ëøû‰∫§Êç¢Êú∫ÂèØ‰ª•ÊîπÂñÑÊàë‰ª¨ÁöÑÁ≥ªÁªüÔºå‰ΩÜÊòØÂÆÉ‰ªçÊúâÂ±ÄÈôêÊÄßÔºåÂÆÉ‰∏çËÉΩÂÆûÁé∞Â§öÈáçÊù°‰ª∂ÁöÑË∑ØÁî±„ÄÇ</p><p>Âú®Ê∂àÊÅØÁ≥ªÁªü‰∏≠ÔºåÊàë‰ª¨‰∏ç‰ªÖÊÉ≥Ë¶ÅËÆ¢ÈòÖÂü∫‰∫éË∑ØÁî±ÈîÆÁöÑÈòüÂàóÔºåËøòÊÉ≥ËÆ¢ÈòÖÂü∫‰∫éÁîü‰∫ßÊ∂àÊÅØÁöÑÊ∫ê„ÄÇËøôÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®topic‰∫§Êç¢Êú∫„ÄÇ</p><p>‰ΩøÁî®‰∏ªÈ¢ò‰∫§Êç¢Êú∫Êó∂‰∏çËÉΩÈááÁî®‰ªªÊÑèÂÜôÊ≥ïÁöÑË∑ØÁî±ÈîÆÔºåË∑ØÁî±ÈîÆÁöÑÂΩ¢ÂºèÂ∫îËØ•ÊòØÁî±ÁÇπÂàÜÂâ≤ÁöÑÊúâÊÑè‰πâÁöÑÂçïËØç„ÄÇ‰æãÂ¶Ç‚Äùgoods.stock.info‚ÄùÁ≠â„ÄÇË∑ØÁî±keyÊúÄÂ§ö255Â≠óËäÇ„ÄÇ</p></blockquote><blockquote><p>*Âè∑‰ª£Ë°®‰∏Ä‰∏™ÂçïËØç</p><p>#Âè∑‰ª£Ë°®0‰∏™ÊàñÂ§ö‰∏™ÂçïËØç</p></blockquote><blockquote><p>1ÔºâÂàõÂª∫ÈÖçÁΩÆÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.topic;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Binding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.BindingBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.TopicExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TopicConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">topicQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;topicQueue1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">topicQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;topicQueue2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> TopicExchange <span class="title function_">topicExchange</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TopicExchange</span>(<span class="string">&quot;topicExchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bingTopicQueue1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(topicQueue1()).to(topicExchange()).with(<span class="string">&quot;wangwu.*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Binding <span class="title function_">bingTopicQueue2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(topicQueue2()).to(topicExchange()).with(<span class="string">&quot;zhaoliu.#&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2ÔºâÂàõÂª∫Áîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.topic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.DirectExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.TopicExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TopicProducer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TopicExchange topicExchange;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TopicProducer&quot;</span>);</span><br><span class="line"> rabbitTemplate.convertAndSend(topicExchange.getName(),<span class="string">&quot;wangwu.abc&quot;</span>,<span class="string">&quot;wangwuContent&quot;</span>);    rabbitTemplate.convertAndSend(topicExchange.getName(),<span class="string">&quot;zhaoliu.xyz.qwer&quot;</span>,<span class="string">&quot;zhaoliuContent&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3ÔºâÂàõÂª∫‰∏§‰∏™Ê∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.topic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TopicCustomer_01</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;topicQueue1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TopicCustomer_01Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.topic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TopicCustomer_02</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;topicQueue2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String content)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TopicCustomer_02Ôºö&quot;</span>+content);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4ÔºâÂú®ÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÊñπÊ≥ïËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> TopicProducer topicProducer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTopicProducer</span><span class="params">()</span>&#123;</span><br><span class="line">    topicProducer.send();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-8ÊâãÂä®Ack"><a href="#5-8ÊâãÂä®Ack" class="headerlink" title="5.8ÊâãÂä®Ack"></a>5.8ÊâãÂä®Ack</h4><blockquote><p>RabbitMQ‰∏≠ÁöÑAckÔºö ‰∏ªË¶ÅÊòØÁ°ÆËÆ§Ê∂àÊÅØË¢´Ê∂àË¥πËÄÖÊ∂àË¥πÂÆåÊàêÂêéÈÄöÁü•ÊúçÂä°Âô®Â∞ÜÈòüÂàóÈáåÈù¢ÁöÑÊ∂àÊÅØÊ∏ÖÈô§Ôºåspring-boot-data-amqp ÊòØËá™Âä®ACKÊú∫Âà∂ÔºåÂ∞±ÊÑèÂë≥ÁùÄ MQ ‰ºöÂú®Ê∂àÊÅØÂèëÈÄÅÂÆåÊØïÂêéÔºåËá™Âä®Â∏ÆÊàë‰ª¨ÂéªACKÔºåÁÑ∂ÂêéÂà†Èô§ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåËøôÊ†∑‰ºöÂ≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºöÂ¶ÇÊûúÊ∂àË¥πËÄÖÂ§ÑÁêÜÊ∂àÊÅØÈúÄË¶ÅËæÉÈïøÊó∂Èó¥ÔºåÊàñËÄÖÂú®Ê∂àË¥πÊ∂àÊÅØÁöÑÊó∂ÂÄôÂá∫Áé∞ÂºÇÂ∏∏ÔºåÈÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢òÔºåÊâãÂä®AckÂèØ‰ª•ÈÅøÂÖçÊ∂àÊÅØÈáçÂ§çÊ∂àË¥π„ÄÇ</p></blockquote><h5 id="5-8-1-ÂéüÁîüÊñπÂºèÊµãËØï"><a href="#5-8-1-ÂéüÁîüÊñπÂºèÊµãËØï" class="headerlink" title="5.8.1 ÂéüÁîüÊñπÂºèÊµãËØï"></a>5.8.1 ÂéüÁîüÊñπÂºèÊµãËØï</h5><blockquote><p>1.‰ª•ÁÆÄÂçïÊ®°Âºè‰∏∫‰æãÔºåÂè™ÈúÄË¶Å‰øÆÊîπÊ∂àË¥πËÄÖÂç≥ÂèØÔºåÂêØÂä®Áîü‰∫ßËÄÖËøõË°åÊµãËØï</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.helloworld;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeoutException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ê∂àË¥πËÄÖ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Consumer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, TimeoutException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Ê∂àË¥πËÄÖÂêØÂä®...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂàõÂª∫ËøûÊé•</span></span><br><span class="line">        <span class="type">ConnectionFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConnectionFactory</span>();</span><br><span class="line">        <span class="comment">//ËÆæÁΩÆÂèÇÊï∞</span></span><br><span class="line">        factory.setUsername(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        factory.setPassword(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        factory.setHost(<span class="string">&quot;192.168.25.134&quot;</span>);</span><br><span class="line">        factory.setPort(<span class="number">5672</span>);<span class="comment">//ÊµèËßàÂô®ËÆøÈóÆÁöÑÊòØÔºö15672</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> factory.newConnection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂõûË∞ÉÔºåÂàõÂª∫Consumer</span></span><br><span class="line">        <span class="type">DefaultConsumer</span> <span class="variable">defaultConsumer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultConsumer</span>(channel)&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleDelivery</span><span class="params">(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, <span class="type">byte</span>[] body)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">//Ëé∑ÂèñÊ∂àÊÅØ</span></span><br><span class="line">                    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(body, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">                    <span class="comment">//Ê®°ÊãüÂºÇÂ∏∏</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">                    <span class="comment">//ÊâãÂä®ack</span></span><br><span class="line">                    <span class="comment">//ÂèÇÊï∞1ÔºödeliveryTag:ÊäïÈÄíËøáÊù•Ê∂àÊÅØÁöÑÊ†áÁ≠æ,Áî±MQÊâìÁöÑÔºå‰ªé1ÂºÄÂßãÔºå1,2,3...</span></span><br><span class="line">        <span class="comment">//ÂèÇÊï∞2ÔºömultipleÔºöÊòØÂê¶ÊâπÈáèÁ°ÆËÆ§‰πãÂâçÂ∑≤ÁªèÊ∂àË¥πËøáÁöÑÊ∂àÊÅØÔºå‰∏ÄËà¨‰∏∫false</span></span><br><span class="line">                    channel.basicAck(envelope.getDeliveryTag(), <span class="literal">false</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;<span class="comment">//ÊçïËé∑ÊâÄÊúâÂºÇÂ∏∏</span></span><br><span class="line">                    <span class="comment">//Á¨¨‰∏â‰∏™ÂèÇÊï∞Ôºörequeue -&gt; trueË°®Á§∫ÈáçÊñ∞ÊîæÂÖ•ÈòüÂàóÔºåfalse -&gt; ÊîæÂºÉËØ•Ê∂àÊÅØ</span></span><br><span class="line">                    <span class="comment">//channel.basicNack(envelope.getDeliveryTag(), false, true);</span></span><br><span class="line">                    <span class="comment">//ÊäõÂºÉÊ≠§Êù°Ê∂àÊÅØ</span></span><br><span class="line">                    channel.basicNack(envelope.getDeliveryTag(), <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="comment">//ÂÖ≥Èó≠ÔºåÂê¶Âàô‰∏ÄÁõ¥Âæ™ÁéØÂΩìÂâçÊìç‰Ωú</span></span><br><span class="line">                    connection.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ëé∑ÂèñÊ∂àÊÅØ</span></span><br><span class="line">        <span class="comment">//1.ÈòüÂàóÂêçÁß∞Ôºà‰ªéÂì™‰∏™ÈòüÂàó‰∏≠Ëé∑ÂèñÊ∂àÊÅØÔºâ</span></span><br><span class="line">        <span class="comment">//2.trueË°®Á§∫Ëá™Âä®ackÔºàÊ∂àË¥πÂÆåÊ∂àÊÅØ‰πãÂêéÔºåËá™Âä®ÂëäËØârabbitmqÔºâ</span></span><br><span class="line">        <span class="comment">//  falseË°®Á§∫ÊâãÂä®ackÔºåÈúÄË¶ÅËá™Â∑±Êî∂Âà∞Ë∞ÉÁî®ÊñπÊ≥ï</span></span><br><span class="line">        <span class="comment">//3.ÂõûË∞É</span></span><br><span class="line">        channel.basicConsume(<span class="string">&quot;helloworld&quot;</span>,<span class="literal">false</span>,defaultConsumer);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠ÔºåÊ∂àË¥πÊñπ‰∏ÄËà¨‰∏çÂÖ≥Èó≠ÔºåÊúâÊ∂àÊÅØËøáÊù•Â∞±ÈúÄË¶ÅÂèäÊó∂Â§ÑÁêÜ</span></span><br><span class="line">        <span class="comment">//channel.close();</span></span><br><span class="line">        <span class="comment">//connection.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="5-8-2-SpringBoot‰∏≠ÊµãËØï"><a href="#5-8-2-SpringBoot‰∏≠ÊµãËØï" class="headerlink" title="5.8.2 SpringBoot‰∏≠ÊµãËØï"></a>5.8.2 SpringBoot‰∏≠ÊµãËØï</h5><blockquote><p>1.Âú® application.properties ‰∏≠Ê∑ªÂä†ÈÖçÁΩÆ</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÈÖçÁΩÆÊâãÂä®Ack</span></span><br><span class="line">spring.rabbitmq.listener.simple.acknowledge-mode=manual</span><br></pre></td></tr></table></figure><blockquote><p>2.Âú®‰πãÂâçÊµãËØïÁöÑ‰ªªÊÑèÊ®°Âºè‰∏≠Ê∑ªÂä† AckCustomer ÊºîÁ§∫</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Message;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ê∂àË¥πËÄÖÔºöÁõëÂê¨ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÔºåÁÑ∂ÂêéËé∑ÂèñÊ∂àÊÅØ</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;simpleQueue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AckCustomer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Â§ÑÁêÜÊ∂àÊÅØÔºàËé∑ÂèñÊ∂àÊÅØÔºåËøõ‰∏ÄÊ≠•Êìç‰ΩúÔºâ</span></span><br><span class="line">    <span class="meta">@RabbitHandler</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receive</span><span class="params">(String message,Channel channel,Message msg)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AckCustomer...&quot;</span>);</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñÊ∂àÊÅØÂÜÖÂÆπ</span></span><br><span class="line">        <span class="keyword">if</span>(message!=<span class="literal">null</span> &amp;&amp; message.length()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Ëé∑ÂèñÊ∂àÊÅØÔºö&quot;</span>+message);</span><br><span class="line">                <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>/<span class="number">0</span>;</span><br><span class="line">                <span class="comment">//ÊâãÂä®Á°ÆËÆ§</span></span><br><span class="line">                <span class="type">long</span> <span class="variable">deliveryTag</span> <span class="operator">=</span> msg.getMessageProperties().getDeliveryTag();</span><br><span class="line">                System.out.println(<span class="string">&quot;deliveryTagÔºö&quot;</span>+deliveryTag);</span><br><span class="line">                channel.basicAck(deliveryTag,<span class="literal">false</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;<span class="comment">//ÊçïËé∑ÊâÄÊúâÂºÇÂ∏∏</span></span><br><span class="line">                System.out.println(<span class="string">&quot;Ê∂àÊÅØÂ§ÑÁêÜ...&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">//ÈáçÊñ∞ÊîæÂÖ•ÈòüÂàó‰∏≠</span></span><br><span class="line">                    <span class="comment">//channel.basicNack(msg.getMessageProperties().getDeliveryTag(),false,true);</span></span><br><span class="line">                    <span class="comment">//ÊîæÂºÉÊ∂àÊÅØ</span></span><br><span class="line">                    channel.basicNack(msg.getMessageProperties().getDeliveryTag(),<span class="literal">false</span>,<span class="literal">false</span>);</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">                    channel.getConnection().close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">                    ex.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Ê≤°ÊúâÊ∂àÊÅØ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>Ê≥®ÈáäÊàñÊâìÂºÄÂºÇÂ∏∏ËøõË°åÊµãËØïÂç≥ÂèØÔºÅ</p></blockquote><h3 id="ÂÖ≠„ÄÅ‰∫ãÂä°‰∏éconfirmÊú∫Âà∂"><a href="#ÂÖ≠„ÄÅ‰∫ãÂä°‰∏éconfirmÊú∫Âà∂" class="headerlink" title="ÂÖ≠„ÄÅ‰∫ãÂä°‰∏éconfirmÊú∫Âà∂"></a>ÂÖ≠„ÄÅ‰∫ãÂä°‰∏éconfirmÊú∫Âà∂</h3><hr><h4 id="6-1-Ê∂àÊÅØÁöÑÂèØÈù†ÊÄß"><a href="#6-1-Ê∂àÊÅØÁöÑÂèØÈù†ÊÄß" class="headerlink" title="6.1 Ê∂àÊÅØÁöÑÂèØÈù†ÊÄß"></a>6.1 Ê∂àÊÅØÁöÑÂèØÈù†ÊÄß</h4><blockquote><p>ÊÄùËÄÉÔºü</p><p>1.Â¶ÇÊûúÊ∂àÊÅØÂ∑≤ÁªèÂà∞ËææRabbitMQÔºåRabbitMQÂÆïÊú∫‰∫ÜÔºåÊ∂àÊÅØÊòØ‰∏çÊòØÂ∞±‰∏¢Â§±‰∫ÜÔºü</p><p>ÂèØ‰ª•‰ΩøÁî®QueueÁöÑÊåÅ‰πÖÂåñÊú∫Âà∂</p><p>2.Ê∂àË¥πËÄÖÂú®Ê∂àË¥πÊ∂àÊÅØÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫èÊâßË°åÂà∞‰∏ÄÂçäÔºåÊ∂àË¥πËÄÖÂÆïÊú∫‰∫ÜÊÄé‰πàÂäûÔºü</p><p>ÂèØ‰ª•ÊâãÂä®Ack</p><p>3.Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÁî±‰∫éÁΩëÁªúÈóÆÈ¢òÔºåÂØºËá¥Ê∂àÊÅØÊ≤°ÊúâÂèëÈÄÅÂà∞RabbitMQÊÄé‰πàÂäûÔºü</p><p>RabbitMQÊèê‰æõ‰∫Ü‰∫ãÂä°Êìç‰ΩúÂíåConfirm‰ª•ÂèäReturnÊú∫Âà∂</p></blockquote><blockquote><p>‰øùËØÅÊ∂àÊÅØÁöÑ‰º†ÈÄíÂèØ‰ª•‰ΩøÁî®RabbitMQ‰∏≠ÁöÑ‰∫ãÂä°Ôºå‰∫ãÂä°ÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ100%‰º†ÈÄíÔºåÂèØ‰ª•ÈÄöËøá‰∫ãÂä°ÁöÑÂõûÊªöÂéªËÆ∞ÂΩïÊó•ÂøóÔºåÂêéÈù¢ÂÆöÊó∂ÂÜçÊ¨°ÂèëÈÄÅÂΩìÂâçÊ∂àÊÅØÔºå‰ΩÜÊòØ‰∫ãÂä°Êìç‰ΩúÊïàÁéáÂ§™‰Ωé„ÄÇ</p><p>RabbitMQ‰∏≠Èô§‰∫Ü‰∫ãÂä°ÔºåËøòÊèê‰æõ‰∫ÜConfirmÁöÑÁ°ÆËÆ§Êú∫Âà∂ÔºåËøô‰∏™ÊïàÁéáÊØî‰∫ãÂä°È´òÂæàÂ§ö„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071257525.png" alt="1587727436898"></p><h4 id="6-2-RabbitMQ‰∫ãÂä°"><a href="#6-2-RabbitMQ‰∫ãÂä°" class="headerlink" title="6.2 RabbitMQ‰∫ãÂä°"></a>6.2 RabbitMQ‰∫ãÂä°</h4><blockquote><p>RabbitMQÁöÑ‰∫ãÂä°ÊòØÂØπAMQPÂçèËÆÆÁöÑÂÆûÁé∞ÔºåÈÄöËøáËÆæÁΩÆ<code>Channel</code> ÁöÑÊ®°ÂºèÊù•ÂÆåÊàêÔºåÂÖ∑‰ΩìÊìç‰ΩúÂ¶Ç‰∏ãÔºö</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">channel.txSelect();  <span class="comment">//ÂºÄÂêØ‰∫ãÂä°</span></span><br><span class="line"><span class="comment">// ....Êú¨Âú∞‰∫ãÂä°Êìç‰Ωú</span></span><br><span class="line">channel.txCommit();  <span class="comment">//Êèê‰∫§‰∫ãÂä°</span></span><br><span class="line">channel.txRollback(); <span class="comment">//ÂõûÊªö‰∫ãÂä°</span></span><br></pre></td></tr></table></figure><p><font color="red"><strong>ÁâπÂà´ËØ¥ÊòéÔºöRabbitMQÁöÑ‰∫ãÂä°Êú∫Âà∂ÊòØÂêåÊ≠•Êìç‰ΩúÔºå‰ºöÊûÅÂ§ßÁöÑÈôç‰ΩéRabbitMQÁöÑÊÄßËÉΩ„ÄÇ</strong></font></p><h4 id="6-3-ConfirmÊú∫Âà∂"><a href="#6-3-ConfirmÊú∫Âà∂" class="headerlink" title="6.3 ConfirmÊú∫Âà∂"></a>6.3 ConfirmÊú∫Âà∂</h4><blockquote><p>Áî±‰∫éRabbitMQÁöÑ‰∫ãÂä°ÊÄßËÉΩÁöÑÈóÆÈ¢òÔºå‰∫éÊòØÂ∞±ÂèàÊé®Âá∫‰∫ÜÂèëÈÄÅÊñπÁ°ÆËÆ§Ê®°Âºè„ÄÇ</p></blockquote><h5 id="6-3-1-ÂàõÂª∫Â∑•ÂÖ∑Á±ª"><a href="#6-3-1-ÂàõÂª∫Â∑•ÂÖ∑Á±ª" class="headerlink" title="6.3.1 ÂàõÂª∫Â∑•ÂÖ∑Á±ª"></a>6.3.1 ÂàõÂª∫Â∑•ÂÖ∑Á±ª</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.ConnectionFactory;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeoutException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RabbitMQUtils</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1. ÂàõÂª∫ËøûÊé•Â∑•ÂéÇÔºàConnectionFactoryÔºâ</span></span><br><span class="line"><span class="comment">     * 2. ÂàõÂª∫ËøûÊé• (Connection)</span></span><br><span class="line"><span class="comment">     * 3. ÂàõÂª∫ÈÄöÈÅì  (Channel)</span></span><br><span class="line"><span class="comment">     Connection conn = connectionFactory.newConnection();</span></span><br><span class="line"><span class="comment">     Channel channel = conn.createChannel();</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ConnectionFactory connectionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        connectionFactory = <span class="keyword">new</span> <span class="title class_">ConnectionFactory</span>();</span><br><span class="line">        connectionFactory.setPort(<span class="number">5672</span>);</span><br><span class="line">        connectionFactory.setUsername(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        connectionFactory.setPassword(<span class="string">&quot;guest&quot;</span>);</span><br><span class="line">        connectionFactory.setHost(<span class="string">&quot;192.168.25.134&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection = connectionFactory.newConnection();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ioException) &#123;</span><br><span class="line">            ioException.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (TimeoutException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">(Channel channel, Connection connection)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="literal">null</span> != channel) &#123;</span><br><span class="line">                channel.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="literal">null</span> != connection)&#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-2-ÂçïÊù°Ê∂àÊÅØÁ°ÆËÆ§"><a href="#6-3-2-ÂçïÊù°Ê∂àÊÅØÁ°ÆËÆ§" class="headerlink" title="6.3.2 ÂçïÊù°Ê∂àÊÅØÁ°ÆËÆ§"></a>6.3.2 ÂçïÊù°Ê∂àÊÅØÁ°ÆËÆ§</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">channel.confirmSelect(); <span class="comment">//ÂºÄÂêØÂèëÈÄÅÊñπÁ°ÆËÆ§Ê®°Âºè</span></span><br></pre></td></tr></table></figure><blockquote><p>1.Âú®RabbitMqÊéßÂà∂Âè∞È°µÈù¢ÔºåÂàõÂª∫‰∏Ä‰∏™directÁ±ªÂûãÁöÑ‰∫§Êç¢Êú∫ÔºåÂÜçÂàõÂª∫‰∏Ä‰∏™ÈòüÂàóÂπ∂ÁªëÂÆö</p></blockquote><blockquote><p>channel.waitForConfirms(); &#x2F;&#x2F;ÂØπ‰∫éÂçïÊù°Ê∂àÊÅØÁöÑÁ°ÆËÆ§ÔºåtrueË°®Á§∫ÊàêÂäü</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.confirm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.utils.RabbitMQUtils;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComfirmTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> RabbitMQUtils.getConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÂºÄÂêØconfirm</span></span><br><span class="line">        channel.confirmSelect();</span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØÔºàÂâçÊèêÔºöÈòüÂàóÂ∑≤ÁªèÈÄöËøároutingKeyÁªëÂÆöÂà∞ËØ•‰∫§Êç¢Êú∫‰∏äÔºâ</span></span><br><span class="line">        channel.basicPublish(<span class="string">&quot;myExchange&quot;</span>,<span class="string">&quot;my&quot;</span>,<span class="literal">null</span>,<span class="string">&quot;Ê∂àÊÅØÂÜÖÂÆπ&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Âà§Êñ≠Ê∂àÊÅØÂà∞Ëææ‰∫§Êç¢Êú∫ÔºåtrueË°®Á§∫Âà∞ËææÔºåËã•Ê≤°Êúâ‰∫§Êç¢Êú∫ÂàôÁ≥ªÁªü‰ºöÁõ¥Êé•Êä•Èîô</span></span><br><span class="line">        <span class="keyword">if</span>(channel.waitForConfirms())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Ê∂àÊÅØÂ∑≤Âà∞Ëææ‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        RabbitMQUtils.close(channel,connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-2-ÊâπÈáèÊ∂àÊÅØÁ°ÆËÆ§"><a href="#6-3-2-ÊâπÈáèÊ∂àÊÅØÁ°ÆËÆ§" class="headerlink" title="6.3.2 ÊâπÈáèÊ∂àÊÅØÁ°ÆËÆ§"></a>6.3.2 ÊâπÈáèÊ∂àÊÅØÁ°ÆËÆ§</h5><blockquote><p>channel.waitForConfirmsOrDie();  &#x2F;&#x2F;ÊâπÈáèÊ∂àÊÅØÁ°ÆËÆ§ÔºåÂ¶ÇÊûúÊúâ‰∏ÄÊù°Ê∂àÊÅØÊ≤°ÊúâÂèëÈÄÅÊàêÂäüÔºå‰ºöÊäõÂá∫ÂºÇÂ∏∏</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.confirm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.utils.RabbitMQUtils;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComfirmTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> RabbitMQUtils.getConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÂºÄÂêØconfirm</span></span><br><span class="line">        channel.confirmSelect();</span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØÔºàÂâçÊèêÔºöÈòüÂàóÂ∑≤ÁªèÈÄöËøároutingKeyÁªëÂÆöÂà∞ËØ•‰∫§Êç¢Êú∫‰∏äÔºâ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//Âà§Êñ≠</span></span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">5</span>)&#123;</span><br><span class="line">                <span class="comment">//ÂâçÊèêÊòØÁ≥ªÁªü‰∏≠Ê≤°ÊúâÂêç‰∏∫myExchange2ÁöÑ‰∫§Êç¢Êú∫</span></span><br><span class="line">                channel.basicPublish(<span class="string">&quot;myExchange2&quot;</span>, <span class="string">&quot;my&quot;</span>, <span class="literal">null</span>, (<span class="string">&quot;Ê∂àÊÅØÂÜÖÂÆπ&quot;</span>+ i).getBytes());</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØ</span></span><br><span class="line">            channel.basicPublish(<span class="string">&quot;myExchange&quot;</span>, <span class="string">&quot;my&quot;</span>, <span class="literal">null</span>, (<span class="string">&quot;Ê∂àÊÅØÂÜÖÂÆπ&quot;</span>+ i).getBytes());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Á°ÆÂÆöÊâπÈáèÊìç‰ΩúÊòØÂê¶ÊàêÂäü</span></span><br><span class="line">        <span class="comment">//ÂΩìÂèëÈÄÅÁöÑÂÖ®ÈÉ®Ê∂àÊÅØÔºåÊúâ‰∏Ä‰∏™Â§±Ë¥•ÁöÑÊó∂ÂÄôÔºåÂ∞±Áõ¥Êé•ÂÖ®ÈÉ®Â§±Ë¥• ÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">        channel.waitForConfirmsOrDie();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        RabbitMQUtils.close(channel,connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-3-3-ÂõûË∞ÉÊñπÂºèÁ°ÆËÆ§"><a href="#6-3-3-ÂõûË∞ÉÊñπÂºèÁ°ÆËÆ§" class="headerlink" title="6.3.3 ÂõûË∞ÉÊñπÂºèÁ°ÆËÆ§"></a>6.3.3 ÂõûË∞ÉÊñπÂºèÁ°ÆËÆ§</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.confirm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.utils.RabbitMQUtils;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.ConfirmListener;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ComfirmTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> RabbitMQUtils.getConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÂºÄÂêØconfirm</span></span><br><span class="line">        channel.confirmSelect();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØÔºàÂâçÊèêÔºöÈòüÂàóÂ∑≤ÁªèÈÄöËøároutingKeyÁªëÂÆöÂà∞ËØ•‰∫§Êç¢Êú∫‰∏äÔºâ</span></span><br><span class="line">        channel.basicPublish(<span class="string">&quot;myExchange&quot;</span>,<span class="string">&quot;my&quot;</span>,<span class="literal">null</span>,<span class="string">&quot;Ê∂àÊÅØÂÜÖÂÆπ&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂºÄÂêØÂºÇÊ≠•ÂõûË∞É</span></span><br><span class="line">        channel.addConfirmListener(<span class="keyword">new</span> <span class="title class_">ConfirmListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleAck</span><span class="params">(<span class="type">long</span> deliveryTag, <span class="type">boolean</span> multiple)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;ÊàêÂäüËææÂà∞‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleNack</span><span class="params">(<span class="type">long</span> deliveryTag, <span class="type">boolean</span> multiple)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Ê≤°ÊúâÂà∞Ëææ‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        RabbitMQUtils.close(channel,connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-4-ReturnÊú∫Âà∂"><a href="#6-4-ReturnÊú∫Âà∂" class="headerlink" title="6.4 ReturnÊú∫Âà∂"></a>6.4 ReturnÊú∫Âà∂</h4><blockquote><p>ConfirmÂè™ËÉΩ‰øùËØÅÊ∂àÊÅØÂà∞ËææexchangeÔºåÊó†Ê≥ï‰øùËØÅÊ∂àÊÅØÂèØ‰ª•Ë¢´exchangeÂàÜÂèëÂà∞ÊåáÂÆöqueue</p><p>ËÄå‰∏îexchangeÊòØ‰∏çËÉΩÊåÅ‰πÖÂåñÊ∂àÊÅØÁöÑÔºåqueueÊòØÂèØ‰ª•ÊåÅ‰πÖÂåñÊ∂àÊÅØ</p><p>ÈááÁî®ReturnÊú∫Âà∂Êù•ÁõëÂê¨Ê∂àÊÅØÊòØÂê¶‰ªéexchangeÈÄÅÂà∞‰∫ÜÊåáÂÆöÁöÑqueue‰∏≠</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071258092.png" alt="1587727436898"></p><blockquote><p>ÂºÄÂêØReturnÊú∫Âà∂ÔºåÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÈúÄË¶ÅÊåáÂÆömandatory‰∏∫true</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.confirm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.utils.RabbitMQUtils;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReturnTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> RabbitMQUtils.getConnection();</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñChannel</span></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line">        <span class="comment">//ÂºÄÂêØconfirm</span></span><br><span class="line">        channel.confirmSelect();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØ</span></span><br><span class="line">        <span class="comment">//Ê≥®ÊÑèÔºöÊåáÂÆömandatoryÂèÇÊï∞‰∏∫trueÔºåËÆæÁΩÆÊ≤°ÊúâÁªëÂÆöÁöÑroutingkey</span></span><br><span class="line">        channel.basicPublish(<span class="string">&quot;myExchange&quot;</span>,<span class="string">&quot;my2&quot;</span>,<span class="literal">true</span>,<span class="literal">null</span>,<span class="string">&quot;Ê∂àÊÅØÂÜÖÂÆπ&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂºÄÂêØÂºÇÊ≠•ÂõûË∞É</span></span><br><span class="line">        channel.addConfirmListener(<span class="keyword">new</span> <span class="title class_">ConfirmListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleAck</span><span class="params">(<span class="type">long</span> deliveryTag, <span class="type">boolean</span> multiple)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;ÊàêÂäüËææÂà∞‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleNack</span><span class="params">(<span class="type">long</span> deliveryTag, <span class="type">boolean</span> multiple)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Ê≤°ÊúâÂà∞Ëææ‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ê≤°ÊúâÂà∞ËææÈòüÂàóÁöÑÊó∂ÂÄôËß¶Âèë</span></span><br><span class="line">        channel.addReturnListener(<span class="keyword">new</span> <span class="title class_">ReturnListener</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleReturn</span><span class="params">(<span class="type">int</span> replyCode, String replyText, String exchange,</span></span><br><span class="line"><span class="params">                                     String routingKey, AMQP.BasicProperties properties,</span></span><br><span class="line"><span class="params">                                     <span class="type">byte</span>[] body)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">                System.out.println(<span class="string">&quot;Ê≤°ÊúâÂà∞ËææÈòüÂàó&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠</span></span><br><span class="line">        RabbitMQUtils.close(channel,connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-5-SpringBootÂÆûÁé∞"><a href="#6-5-SpringBootÂÆûÁé∞" class="headerlink" title="6.5  SpringBootÂÆûÁé∞"></a>6.5  SpringBootÂÆûÁé∞</h4><blockquote><p>1.Âú® application.properties ‰∏≠Ê∑ªÂä†ÈÖçÁΩÆ</p></blockquote><blockquote><p>spring.rabbitmq.publisher-confirm-type ÂØπÂ∫îÂÄºÁöÑËØ¥Êòé</p><ul><li>NONE ÔºöÁ¶ÅÁî®ÂèëÂ∏ÉÁ°ÆËÆ§Ê®°ÂºèÔºåÊòØÈªòËÆ§ÂÄº</li><li>CORRELATEDÔºöÂèëÂ∏ÉÊ∂àÊÅØÊàêÂäüÂà∞‰∫§Êç¢Âô®Âêé‰ºöËß¶ÂèëÂõûË∞ÉÊñπÊ≥ï</li><li>SIMPLEÔºö‰∏§ÁßçÊïàÊûú</li></ul><ol><li>ÂíåCORRELATEDÂÄº‰∏ÄÊ†∑‰ºöËß¶ÂèëÂõûË∞ÉÊñπÊ≥ï</li><li>Âú®ÂèëÂ∏ÉÊ∂àÊÅØÊàêÂäüÂêé‰ΩøÁî®rabbitTemplateË∞ÉÁî®waitForConfirmsÊàñwaitForConfirmsOrDieÊñπÊ≥ïÁ≠âÂæÖbrokerËäÇÁÇπËøîÂõûÂèëÈÄÅÁªìÊûúÔºåÊ†πÊçÆËøîÂõûÁªìÊûúÊù•Âà§ÂÆö‰∏ã‰∏ÄÊ≠•ÁöÑÈÄªËæëÔºåË¶ÅÊ≥®ÊÑèÁöÑÁÇπÊòØwaitForConfirmsOrDieÊñπÊ≥ïÂ¶ÇÊûúËøîÂõûfalseÂàô‰ºöÂÖ≥Èó≠channelÔºåÂàôÊé•‰∏ãÊù•Êó†Ê≥ïÂèëÈÄÅÊ∂àÊÅØÂà∞broker</li></ol></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÖçÁΩÆÂºÄÂêØConfirmÂíåReturn</span></span><br><span class="line">spring.rabbitmq.publisher-confirm-type: simple</span><br><span class="line">spring.rabbitmq.publisher-returns: <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>2.ÂàõÂª∫ÈÖçÁΩÆÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.direct;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Message;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.ReturnedMessage;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.connection.CorrelationData;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PublisherConfirmAndReturnConfig</span> <span class="keyword">implements</span> <span class="title class_">RabbitTemplate</span>.ConfirmCallback,RabbitTemplate.ReturnsCallback &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initMethod</span><span class="params">()</span>&#123;</span><br><span class="line">        rabbitTemplate.setConfirmCallback(<span class="built_in">this</span>);</span><br><span class="line">        rabbitTemplate.setReturnsCallback(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">confirm</span><span class="params">(CorrelationData correlationData, <span class="type">boolean</span> ack, String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ack)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Âà∞Ëææ‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Ê≤°ÊúâÂà∞Ëææ‰∫§Êç¢Êú∫&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">returnedMessage</span><span class="params">(ReturnedMessage returnedMessage)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Ê≤°ÊúâÂà∞ËææÈòüÂàó&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3.‰øÆÊîπÁîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÊñπÊ≥ï‰∏≠ÁöÑroutingKeyÔºåÁÑ∂ÂêéÂêØÂä®ÊµãËØïÁ±ªÊµãËØïÂç≥ÂèØÔºÅ</p></blockquote><h3 id="‰∏É-Ê≠ª‰ø°ÈòüÂàó"><a href="#‰∏É-Ê≠ª‰ø°ÈòüÂàó" class="headerlink" title="‰∏É. Ê≠ª‰ø°ÈòüÂàó"></a>‰∏É. Ê≠ª‰ø°ÈòüÂàó</h3><hr><blockquote><p>Ê≠ª‰ø°ÈòüÂàóÂπ∂‰∏çÊòØ‰∏Ä‰∏™ÁâπÊÆäÁöÑÈòüÂàóÔºåÂè™ÊòØ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÈòüÂàóÔºåÂè™ÊòØÊàë‰ª¨Êää‰ªñ‰ª¨ÂèñÂêçÂè´ÂÅöÊ≠ª‰ø°ÈòüÂàó„ÄÇ</p><p>Ê≠ª‰ø°ÈòüÂàóÁöÑËÆæËÆ°ÊòØÂú®Êüê‰∏™ÈòüÂàóÁöÑÂ§¥‰ø°ÊÅØ‰∏≠ËÆæÂÆö<code>x-dead-letter-exchange</code> (Ê≠ª‰ø°‰∫§Êç¢Êú∫)Âíå<code>x-dead-letter-routing-key</code>(Ê≠ª‰ø°Ë∑ØÁî±ÈîÆ)Âç≥ÂèØ„ÄÇÂÖ≥ËÅîÂà∞‰∏Ä‰∏™ÁªëÂÆöÂà∞Êüê‰∏™Ê≠ª‰ø°‰∫§Êç¢Êú∫ÁöÑÈòüÂàó‰∏ä„ÄÇÁÑ∂ÂêéÁªôËØ•ÈòüÂàóÊåáÂÆöËøáÊúüÊó∂Èó¥ÊàñËÄÖÊåáÂÆöÁöÑÊ∂àÊÅØÁöÑËøáÊúüÊó∂Èó¥ÔºåÈÇ£‰πàËØ•Ê∂àÊÅØÂà∞ÊúüÂêé‰ºöËá™Âä®Âà∞ËææÊ≠ª‰ø°ÈòüÂàó‰∏≠„ÄÇ</p></blockquote><h5 id="7-1-Âú∫ÊôØ"><a href="#7-1-Âú∫ÊôØ" class="headerlink" title="7.1 Âú∫ÊôØ"></a>7.1 Âú∫ÊôØ</h5><blockquote><p>Âú∫ÊôØ‰∏ÄÔºöÊú™ÊîØ‰ªòËÆ¢ÂçïÂú®ËßÑÂÆöÁöÑÊó∂Èó¥ÂèñÊ∂à„ÄÇÂÆûÁé∞ÁöÑÊñπÂºè‰∏∫ÔºåÂ∞ÜËÆ¢ÂçïÊ∂àÊÅØÊîæÂÖ•Âà∞‰∏Ä‰∏™ÈòüÂàó‰∏≠ÔºåÂπ∂ÊåáÂÆöÂÖ∂ËøáÊúüÊó∂Èó¥„ÄÇÂΩìËøáÊúüÊó∂Èó¥Âà∞‰∫Ü‰πãÂêéÔºåÂ∞±ËøõÂÖ•Âà∞‰∫ÜÊ≠ª‰ø°ÈòüÂàóÔºåÈÇ£‰πàÂèØ‰ª•Áõ¥Êé•Âú®Ê≠ª‰ø°ÈòüÂàóÁöÑÊ∂àË¥πÁ´ØÂèñÂá∫ÂØπÂ∫îÁöÑÊ∂àÊÅØÂç≥ÂèØ„ÄÇ</p></blockquote><blockquote><p>Âú∫ÊôØ‰∫åÔºöÊüêÊù°Ê∂àÊÅØÂú®Ê∂àË¥πÁ´ØÊõæÂ§öÊ¨°Â∞ùËØïÊ∂àË¥πÔºå‰ΩÜÊòØÂùáÊú™Ê∂àË¥πÊàêÂäüÔºåÈÇ£‰πàÂ∞±ËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóÔºåËÆ©‰∫∫Â∑•Âπ≤È¢Ñ„ÄÇ</p></blockquote><h5 id="7-2-ÊµãËØï"><a href="#7-2-ÊµãËØï" class="headerlink" title="7.2 ÊµãËØï"></a>7.2 ÊµãËØï</h5><blockquote><p>ÊèêÂâçÂàõÂª∫RabbitMQUtilsÂ∑•ÂÖ∑Á±ªÂπ∂ÊµãËØïÂç≥ÂèØ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.dead;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.utils.RabbitMQUtils;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.AMQP;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Connection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeadQueueTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Ê≠ª‰ø°‰∫§Êç¢Êú∫</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">dead_letter_exchange</span> <span class="operator">=</span> <span class="string">&quot;dead_letter_exchange&quot;</span>;</span><br><span class="line">    <span class="comment">//Ê≠ª‰ø°Ë∑ØÁî±ÈîÆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">dead_letter_routing_key</span> <span class="operator">=</span> <span class="string">&quot;dead_letter_routing_key&quot;</span>;</span><br><span class="line">    <span class="comment">//Ê≠ª‰ø°ÈòüÂàó</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">dead_letter_queue</span> <span class="operator">=</span> <span class="string">&quot;dead_letter_queue&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">people_exchange</span> <span class="operator">=</span> <span class="string">&quot;people_exchange&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">people_routing_key</span> <span class="operator">=</span> <span class="string">&quot;people_routing_key&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">people_queue</span> <span class="operator">=</span> <span class="string">&quot;people_queue&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//Ëé∑ÂèñËøûÊé•</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> RabbitMQUtils.getConnection();</span><br><span class="line">        <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> connection.createChannel();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂàõÂª∫‰∏Ä‰∏™Ê≠ª‰ø°ÁöÑ‰∫§Êç¢Êú∫</span></span><br><span class="line">        channel.exchangeDeclare(dead_letter_exchange, <span class="string">&quot;direct&quot;</span>);</span><br><span class="line">        <span class="comment">// ÂàõÂª∫Ê≠ª‰ø°ÈòüÂàó</span></span><br><span class="line">        channel.queueDeclare(dead_letter_queue, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">// Â∞ÜÊ≠ª‰ø°ÈòüÂàóÁªëÂÆöÂà∞Ê≠ª‰ø°‰∫§Êç¢Êú∫ÔºåË∑ØÁî±ÈîÆ‰∏∫ &quot;dead_letter_routing_key&quot;</span></span><br><span class="line">        channel.queueBind(dead_letter_queue, dead_letter_exchange, dead_letter_routing_key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ËÆæÁΩÆÈòüÂàóÂèÇÊï∞</span></span><br><span class="line">        Map&lt;String, Object&gt; arguments = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        arguments.put(<span class="string">&quot;x-dead-letter-exchange&quot;</span>, dead_letter_exchange);</span><br><span class="line">        arguments.put(<span class="string">&quot;x-dead-letter-routing-key&quot;</span>, dead_letter_routing_key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂàõÂª∫ÂΩìÂâç‰∫§Êç¢Êú∫ÔºåÈòüÂàó‰ª•ÂèäË∑ØÁî±ÈîÆ</span></span><br><span class="line">        channel.exchangeDeclare(people_exchange, <span class="string">&quot;direct&quot;</span>);</span><br><span class="line">        <span class="comment">//ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞ÊòØÂΩìÂâçÈòüÂàóÁöÑÂ±ûÊÄß</span></span><br><span class="line">        channel.queueDeclare(people_queue, <span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">false</span>, arguments);</span><br><span class="line">        channel.queueBind(people_queue, people_exchange, people_routing_key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ËÆæÁΩÆÊ∂àÊÅØÁöÑËøáÊúüÊó∂Èó¥ÔºåÂçï‰ΩçÔºöÊØ´Áßí</span></span><br><span class="line">        AMQP.<span class="type">BasicProperties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AMQP</span>.BasicProperties.Builder()</span><br><span class="line">                .expiration(<span class="string">&quot;15000&quot;</span>).build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂèëÈÄÅÊ∂àÊÅØ</span></span><br><span class="line">        channel.basicPublish(people_exchange, people_routing_key, properties, <span class="string">&quot;dead_message&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        RabbitMQUtils.close(channel, connection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ÂÖ´-ÈÅøÂÖçÊ∂àÊÅØÈáçÂ§çÊ∂àË¥π"><a href="#ÂÖ´-ÈÅøÂÖçÊ∂àÊÅØÈáçÂ§çÊ∂àË¥π" class="headerlink" title="ÂÖ´. ÈÅøÂÖçÊ∂àÊÅØÈáçÂ§çÊ∂àË¥π"></a>ÂÖ´. ÈÅøÂÖçÊ∂àÊÅØÈáçÂ§çÊ∂àË¥π</h3><hr><h4 id="8-1-ÂπÇÁ≠âÊÄß"><a href="#8-1-ÂπÇÁ≠âÊÄß" class="headerlink" title="8.1 ÂπÇÁ≠âÊÄß"></a>8.1 ÂπÇÁ≠âÊÄß</h4><blockquote><p>ÊâÄÊúâÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÈÉΩ‰ºöÂ≠òÂú®ËøôÊ†∑‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈÇ£Â∞±ÊòØÊ∂àÊÅØÁöÑÈáçÂ§çÊ∂àË¥πÈóÆÈ¢òÔºåÊâÄ‰ª•Êàë‰ª¨ÂøÖÈ°ªÂÅöÂπÇÁ≠âÊÄßËÆæËÆ°ÔºåÊâÄË∞ìÂπÇÁ≠âÊÄßËÆæËÆ°Â∞±ÊòØÔºå‰∏ÄÊù°Ê∂àÊÅØÊó†ËÆ∫Ê∂àË¥πÂ§öÂ∞ëÊ¨°ÊâÄ‰∫ßÁîüÁöÑÁªìÊûúÈÉΩÊòØÁõ∏ÂêåÁöÑ„ÄÇ</p><p>ÈáçÂ§çÊ∂àË¥πÊ∂àÊÅØÔºåÊòØÂØπÈùûÂπÇÁ≠âÊÄßÊìç‰ΩúÈÄ†ÊàêÈóÆÈ¢òÔºåÈáçÂ§çÊ∂àË¥πÊ∂àÊÅØÁöÑÂéüÂõ†ÊòØÂõ†‰∏∫Ê∂àË¥πËÄÖÊ≤°ÊúâÁªôRabbitMQ‰∏Ä‰∏™Ack</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071258024.png" alt="1587727436898"></p><blockquote><p>‰∏∫‰∫ÜËß£ÂÜ≥Ê∂àÊÅØÈáçÂ§çÊ∂àË¥πÁöÑÈóÆÈ¢òÔºåÂèØ‰ª•ÈááÁî®RedisÔºåÂú®Ê∂àË¥πËÄÖÊ∂àË¥πÊ∂àÊÅØ‰πãÂâçÔºåÁé∞Â∞ÜÊ∂àÊÅØÁöÑidÊîæÂà∞Redis‰∏≠Ôºå</p><p>id-0ÔºàÊ≠£Âú®ÊâßË°å‰∏öÂä°Ôºâ</p><p>id-1ÔºàÊâßË°å‰∏öÂä°ÊàêÂäüÔºâ</p><p>Â¶ÇÊûúackÂ§±Ë¥•ÔºåÂú®RabbitMQÂ∞ÜÊ∂àÊÅØ‰∫§ÁªôÂÖ∂‰ªñÁöÑÊ∂àË¥πËÄÖÊó∂ÔºåÂÖàÊâßË°åsetnxÔºåÂ¶ÇÊûúkeyÂ∑≤ÁªèÂ≠òÂú®ÔºåËé∑Âèñ‰ªñÁöÑÂÄºÔºåÂ¶ÇÊûúÊòØ0ÔºåÂΩìÂâçÊ∂àË¥πËÄÖÂ∞±‰ªÄ‰πàÈÉΩ‰∏çÂÅöÔºåÂ¶ÇÊûúÊòØ1ÔºåÁõ¥Êé•ack„ÄÇ</p><p>ÊûÅÁ´ØÊÉÖÂÜµÔºöÁ¨¨‰∏Ä‰∏™Ê∂àË¥πËÄÖÂú®ÊâßË°å‰∏öÂä°Êó∂ÔºåÂá∫Áé∞‰∫ÜÊ≠ªÈîÅÔºåÂú®setnxÁöÑÂü∫Á°Ä‰∏äÔºåÂÜçÁªôkeyËÆæÁΩÆ‰∏Ä‰∏™ÁîüÂ≠òÊó∂Èó¥„ÄÇ</p></blockquote><h4 id="8-2-Ëß£ÂÜ≥ÊñπÊ°à"><a href="#8-2-Ëß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="8.2 Ëß£ÂÜ≥ÊñπÊ°à"></a>8.2 Ëß£ÂÜ≥ÊñπÊ°à</h4><blockquote><p>ÊñπÊ°à‰∏ÄÔºö‰∏∫ÊØèÊù°Ê∂àÊÅØÁîüÊàêÂÖ®Â±ÄÂîØ‰∏ÄIDÔºåÂ∞ÜIDÂíå‰∏öÂä°Êï∞ÊçÆÊîæÂú®Âêå‰∏Ä‰∏™‰∫ãÂä°‰∏≠ÔºåÊØèÊ¨°Ê∂àË¥πÊ∂àÊÅØ‰πãÂêéÈÉΩÂ∞ÜIDÂú®Ë°®‰∏≠ÊèíÂÖ•‰∏ÄÊù°Êï∞ÊçÆÔºåÊØèÊ¨°Ê∂àË¥π‰πãÂâçÂÖàÊü•ËØ¢IDÊòØÂê¶Â≠òÂú®ÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±ÊâßË°åÂØπÂ∫îÁöÑÈÄªËæëÔºõÂ¶ÇÊûúÂ≠òÂú®ÂàôÁõ¥Êé•Á°ÆËÆ§„ÄÇ</p></blockquote><blockquote><p>ÊñπÊ°à‰∫åÔºàÊé®ËçêÔºâÔºöÂà©Áî®redis+Êï∞ÊçÆÂ∫ìÁöÑÊñπÊ°àÊù•ÂÆûÁé∞ÂπÇÁ≠âÊÄßÁöÑËÆæËÆ°ÔºåÂÆûÁé∞ÁöÑÊÄùË∑Ø‰∏éredisÁöÑÁºìÂ≠òÂáªÁ©øÊñπÊ°àÁ±ª‰ººÔºõÂΩìÊèíÂÖ•Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ∞ÜÂîØ‰∏ÄIDÂêåÊó∂ÊèíÂÖ•Êï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÊîæÂÖ•Âà∞redis‰∏≠ÔºåËÆæÁΩÆËøáÊúüÊó∂Èó¥ÔºåÊØèÊ¨°‰ªéredis‰∏≠Âà§Êñ≠„ÄÇ</p></blockquote><h4 id="8-3-Âú®springboot‰∏≠ÊµãËØï"><a href="#8-3-Âú®springboot‰∏≠ÊµãËØï" class="headerlink" title="8.3 Âú®springboot‰∏≠ÊµãËØï"></a>8.3 Âú®springboot‰∏≠ÊµãËØï</h4><h5 id="8-3-1-ÂØºÂÖ•‰æùËµñ"><a href="#8-3-1-ÂØºÂÖ•‰æùËµñ" class="headerlink" title="8.3.1 ÂØºÂÖ•‰æùËµñ"></a>8.3.1 ÂØºÂÖ•‰æùËµñ</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="8-3-2-ÈÖçÁΩÆapplication-properties"><a href="#8-3-2-ÈÖçÁΩÆapplication-properties" class="headerlink" title="8.3.2 ÈÖçÁΩÆapplication.properties"></a>8.3.2 ÈÖçÁΩÆapplication.properties</h5><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÂØπ‰∫érabbitMQÁöÑÊîØÊåÅ</span></span><br><span class="line"><span class="attr">spring.rabbitmq.host</span>=<span class="string">192.168.25.140</span></span><br><span class="line"><span class="attr">spring.rabbitmq.port</span>=<span class="string">5672</span></span><br><span class="line"><span class="attr">spring.rabbitmq.username</span>=<span class="string">guest</span></span><br><span class="line"><span class="attr">spring.rabbitmq.password</span>=<span class="string">guest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.rabbitmq.listener.simple.acknowledge-mode</span>=<span class="string">manual</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.redis.host</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="attr">spring.redis.port</span>=<span class="string">6379</span></span><br></pre></td></tr></table></figure><h5 id="8-3-3-ËøôÈáå‰ª•ÁÆÄÂçïÊ®°ÂºèÊºîÁ§∫"><a href="#8-3-3-ËøôÈáå‰ª•ÁÆÄÂçïÊ®°ÂºèÊºîÁ§∫" class="headerlink" title="8.3.3 ËøôÈáå‰ª•ÁÆÄÂçïÊ®°ÂºèÊºîÁ§∫"></a>8.3.3 ËøôÈáå‰ª•ÁÆÄÂçïÊ®°ÂºèÊºîÁ§∫</h5><blockquote><p>1.ÁºñÂÜôÈÖçÁΩÆÁ±ª</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.AmqpException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.connection.CorrelationData;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÈÖçÁΩÆÁ±ªÔºåÂàõÂª∫ÈòüÂàó</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleQueueConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Queue <span class="title function_">simpleQueue</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Queue</span>(<span class="string">&quot;simpleQueue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÂàõÂª∫MessagePostProcessorÂØπË±°ÔºåÁî®‰∫éÂú®Áîü‰∫ßËÄÖ‰∏≠ÊääidÁ≠âÂèÇÊï∞‰º†ÁªôÊ∂àË¥πËÄÖ</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MessagePostProcessor <span class="title function_">correlationIdProcessor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MessagePostProcessor</span> <span class="variable">messagePostProcessor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MessagePostProcessor</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Message <span class="title function_">postProcessMessage</span><span class="params">(Message message, Correlation correlation)</span> &#123;</span><br><span class="line">                <span class="type">MessageProperties</span> <span class="variable">messageProperties</span> <span class="operator">=</span> message.getMessageProperties();</span><br><span class="line">                <span class="comment">//ÈÄöËøáCorrelationÂØπË±°Â≠òÂÇ®idÂèÇÊï∞ÔºåMessageËé∑ÂèñidÂèÇÊï∞</span></span><br><span class="line">                <span class="keyword">if</span> (correlation <span class="keyword">instanceof</span> CorrelationData) &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">correlationId</span> <span class="operator">=</span> ((CorrelationData) correlation).getId();</span><br><span class="line">                    messageProperties.setCorrelationId(correlationId);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//ËøîÂõû</span></span><br><span class="line">                <span class="keyword">return</span> message;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Message <span class="title function_">postProcessMessage</span><span class="params">(Message message)</span> <span class="keyword">throws</span> AmqpException &#123;</span><br><span class="line">                <span class="keyword">return</span> message;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> messagePostProcessor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>2.ÁºñÂÜôÁîü‰∫ßËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Message;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.MessagePostProcessor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.connection.CorrelationData;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Áîü‰∫ßËÄÖ</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleProducer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MessagePostProcessor messagePostProcessor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">send</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">CorrelationData</span> <span class="variable">correlationData</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorrelationData</span>();</span><br><span class="line">        System.out.println(correlationData.getId());</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">&quot;&quot;</span>,<span class="string">&quot;simpleQueue&quot;</span>,<span class="string">&quot;ÁÆÄÂçïÈòüÂàó&quot;</span>,messagePostProcessor,correlationData);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>3.ÁºñÂÜôÊ∂àË¥πËÄÖ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.simple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rabbitmq.client.Channel;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Message;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.MessageProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Ê∂àË¥πËÄÖ</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="comment">//ÁõëÂê¨ÊåáÂÆöÈòüÂàó</span></span><br><span class="line"><span class="meta">@RabbitListener(queues = &quot;simpleQueue&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AckCustomer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> StringRedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitHandler</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getMessage</span><span class="params">(String msg, Channel channel, Message message)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//1.Ëé∑ÂèñMessageId</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">messageId</span> <span class="operator">=</span> message.getMessageProperties().getCorrelationId();</span><br><span class="line">        System.out.println(messageId);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">aBoolean</span> <span class="operator">=</span> redisTemplate.opsForValue().setIfAbsent(messageId, <span class="string">&quot;0&quot;</span>, <span class="number">600</span>, TimeUnit.SECONDS);</span><br><span class="line">        <span class="comment">//2.ËÆæÁΩÆkeyÂà∞Redis</span></span><br><span class="line">        <span class="keyword">if</span>(aBoolean) &#123;</span><br><span class="line">            <span class="comment">//3.Ê∂àË¥πÊ∂àÊÅØ</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Ê≠£Âú®Â§ÑÁêÜÊ∂àÊÅØ....&quot;</span>);</span><br><span class="line">            <span class="comment">//System.out.println(&quot;Êé•Êî∂Âà∞Ê∂àÊÅØÔºö&quot; + msg);</span></span><br><span class="line">            <span class="comment">//4.ËÆæÁΩÆkeyÁöÑvalue‰∏∫1</span></span><br><span class="line">            <span class="comment">//redisTemplate.opsForValue().set(messageId,&quot;1&quot;,600, TimeUnit.SECONDS);</span></span><br><span class="line">            <span class="comment">//5.ÊâãÂä®ack</span></span><br><span class="line">            <span class="comment">//channel.basicAck(message.getMessageProperties().getDeliveryTag(),false);</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Âà§Êñ≠Ê∂àÊÅØÊòØÂê¶Â∑≤ÁªèÊ∂àË¥πÔºö1 -&gt; Â∑≤Ê∂àË¥π 0 -&gt; Êú™Ê∂àË¥π</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;0&quot;</span>.equalsIgnoreCase(redisTemplate.opsForValue().get(messageId)))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Êé•Êî∂Âà∞Ê∂àÊÅØÔºö&quot;</span> + msg);</span><br><span class="line">            redisTemplate.opsForValue().set(messageId,<span class="string">&quot;1&quot;</span>,<span class="number">600</span>, TimeUnit.SECONDS);</span><br><span class="line">            channel.basicAck(message.getMessageProperties().getDeliveryTag(),<span class="literal">false</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//Ëé∑ÂèñRedis‰∏≠ÁöÑvalueÂç≥ÂèØ Â¶ÇÊûúÊòØ1ÔºåÁõ¥Êé•ÊâãÂä®ackÔºå‰∏çÈúÄË¶ÅÂÜçÊ¨°Ê∂àË¥π‰∫Ü</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;1&quot;</span>.equalsIgnoreCase(redisTemplate.opsForValue().get(messageId)))&#123;</span><br><span class="line">                channel.basicAck(message.getMessageProperties().getDeliveryTag(),<span class="literal">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>4.ÊµãËØïÁ±ªÊµãËØïÂç≥ÂèØ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.couture.simple.SimpleProducer;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Springboot14RabbitmqApplicationTests</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SimpleProducer simpleProducer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        simpleProducer.send();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ÊµãËØïÊàêÂäüÂêéÔºåÂà∞redis‰∏≠Êü•ÁúãÂç≥ÂèØÔºÅ</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;‰∏Ä„ÄÅÂºïË®Ä&quot;&gt;&lt;a href=&quot;#‰∏Ä„ÄÅÂºïË®Ä&quot; class=&quot;headerlink&quot; title=&quot;‰∏Ä„ÄÅÂºïË®Ä&quot;&gt;&lt;/a&gt;‰∏Ä„ÄÅÂºïË®Ä&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;Ê®°Âùó‰πãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶ËøáÈ´òÔºå‰∏ÄÊó¶‰∏Ä‰∏™Ê®°ÂùóÂÆïÊú∫ÂêéÔºåÂÖ®ÈÉ®ÂäüËÉΩÈÉΩ‰∏çËÉΩÁî®‰∫ÜÔºåÂπ∂‰∏îÂêåÊ≠•ÈÄöËÆØÁöÑÊàêÊú¨ËøáÈ´òÔºåÁî®Êà∑‰ΩìÈ™åÂ∑Æ„ÄÇ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;RabbitMQÂºïË®Ä&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071256754.png&quot; alt=&quot;1587650344256&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    <category term="RabbitMQ" scheme="http://example.com/categories/RabbitMQ/"/>
    
    
    <category term="ÂêéÁ´Ø" scheme="http://example.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="RabbitMQ" scheme="http://example.com/tags/RabbitMQ/"/>
    
  </entry>
  
  <entry>
    <title>Shiro</title>
    <link href="http://example.com/2022/05/30/Shiro/"/>
    <id>http://example.com/2022/05/30/Shiro/</id>
    <published>2022-05-30T00:59:23.000Z</published>
    <updated>2023-03-30T00:26:30.386Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249775.png" alt="1587372890081"></p><p>[TOC]</p><h3 id="‰∏Ä„ÄÅRBAC‰ªãÁªç"><a href="#‰∏Ä„ÄÅRBAC‰ªãÁªç" class="headerlink" title="‰∏Ä„ÄÅRBAC‰ªãÁªç"></a>‰∏Ä„ÄÅRBAC‰ªãÁªç</h3><hr><h4 id="1-1-RBACÁÆÄ‰ªã"><a href="#1-1-RBACÁÆÄ‰ªã" class="headerlink" title="1.1 RBACÁÆÄ‰ªã"></a>1.1 RBACÁÆÄ‰ªã</h4><blockquote><p>RBACÊòØÂü∫‰∫éËßíËâ≤ÁöÑËÆøÈóÆÊéßÂà∂ÔºàRole-Based Access Control ÔºâÂú® RBAC ‰∏≠ÔºåÊùÉÈôê‰∏éËßíËâ≤Áõ∏ÂÖ≥ËÅîÔºåÁî®Êà∑ÈÄöËøáÊàê‰∏∫ÈÄÇÂΩìËßíËâ≤ÁöÑÊàêÂëòËÄåÂæóÂà∞Ëøô‰∫õËßíËâ≤ÁöÑÊùÉÈôê„ÄÇËøôÂ∞±ÊûÅÂ§ßÂú∞ÁÆÄÂåñ‰∫ÜÊùÉÈôêÁöÑÁÆ°ÁêÜ„ÄÇËøôÊ†∑ÁÆ°ÁêÜÈÉΩÊòØÂ±ÇÁ∫ßÁõ∏‰∫í‰æùËµñÁöÑÔºåÊùÉÈôêËµã‰∫àÁªôËßíËâ≤ÔºåËÄåÊääËßíËâ≤ÂèàËµã‰∫àÁî®Êà∑ÔºåËøôÊ†∑ÁöÑÊùÉÈôêËÆæËÆ°ÂæàÊ∏ÖÊ•öÔºåÁÆ°ÁêÜËµ∑Êù•ÂæàÊñπ‰æø„ÄÇ</p></blockquote><blockquote><p>Âú®RBACÊ®°ÂûãÈáåÈù¢ÔºåÊúâ3‰∏™Âü∫Á°ÄÁªÑÊàêÈÉ®ÂàÜÔºåÂàÜÂà´ÊòØÔºöÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ</p><p>RBACÈÄöËøáÂÆö‰πâËßíËâ≤ÁöÑÊùÉÈôêÔºåÂπ∂ÂØπÁî®Êà∑Êéà‰∫àÊüê‰∏™ËßíËâ≤‰ªéËÄåÊù•ÊéßÂà∂Áî®Êà∑ÁöÑÊùÉÈôêÔºåÂÆûÁé∞‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÈÄªËæëÂàÜÁ¶ªÔºåÊûÅÂ§ßÂú∞Êñπ‰æø‰∫ÜÊùÉÈôêÁöÑÁÆ°ÁêÜÔºåÂú®ËÆ≤Ëß£‰πãÂâçÔºåÂÖà‰ªãÁªç‰∏Ä‰∫õÂêçËØçÔºö</p></blockquote><span id="more"></span><blockquote><p>UserÔºàÁî®Êà∑ÔºâÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÊúâÂîØ‰∏ÄÁöÑUIDËØÜÂà´ÔºåÂπ∂Ë¢´Êéà‰∫à‰∏çÂêåÁöÑËßíËâ≤</p><p>RoleÔºàËßíËâ≤ÔºâÔºö‰∏çÂêåËßíËâ≤ÂÖ∑Êúâ‰∏çÂêåÁöÑÊùÉÈôê</p><p>PermissionÔºàÊùÉÈôêÔºâÔºöËÆøÈóÆÊùÉÈôê</p><p>Áî®Êà∑-ËßíËâ≤Êò†Â∞ÑÔºöÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</p><p>ËßíËâ≤-ÊùÉÈôêÊò†Â∞ÑÔºöËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÊò†Â∞Ñ</p></blockquote><h4 id="1-2-ÊùÉÈôêÁÆ°ÁêÜ"><a href="#1-2-ÊùÉÈôêÁÆ°ÁêÜ" class="headerlink" title="1.2 ÊùÉÈôêÁÆ°ÁêÜ"></a>1.2 ÊùÉÈôêÁÆ°ÁêÜ</h4><blockquote><p> Âè™Ë¶ÅÊúâÁî®Êà∑ÂèÇ‰∏éÁöÑÁ≥ªÁªü‰∏ÄËà¨ÈÉΩË¶ÅÊúâÊùÉÈôêÁÆ°ÁêÜÔºåÊùÉÈôêÁÆ°ÁêÜÂÆûÁé∞ÂØπÁî®Êà∑ËÆøÈóÆÁ≥ªÁªüÁöÑÊéßÂà∂ÔºåÊåâÁÖßÂÆâÂÖ®ËßÑÂàôÊàñËÄÖ<a href="http://baike.baidu.com/view/160028.htm_blank">ÂÆâÂÖ®Á≠ñÁï•</a>ÊéßÂà∂Áî®Êà∑ÂèØ‰ª•ËÆøÈóÆËÄå‰∏îÂè™ËÉΩËÆøÈóÆËá™Â∑±Ë¢´ÊéàÊùÉÁöÑËµÑÊ∫ê„ÄÇ</p><p> ÊùÉÈôêÁÆ°ÁêÜÂåÖÊã¨Áî®Êà∑ËÆ§ËØÅÂíåÊéàÊùÉ‰∏§ÈÉ®ÂàÜ„ÄÇ</p></blockquote><h3 id="‰∫å„ÄÅ-Áî®Êà∑ËÆ§ËØÅ"><a href="#‰∫å„ÄÅ-Áî®Êà∑ËÆ§ËØÅ" class="headerlink" title="‰∫å„ÄÅ Áî®Êà∑ËÆ§ËØÅ"></a>‰∫å„ÄÅ Áî®Êà∑ËÆ§ËØÅ</h3><blockquote><p>Áî®Êà∑ËÆ§ËØÅÔºåÁî®Êà∑ÂéªËÆøÈóÆÁ≥ªÁªüÔºåÁ≥ªÁªüË¶ÅÈ™åËØÅÁî®Êà∑Ë∫´‰ªΩÁöÑÂêàÊ≥ïÊÄß„ÄÇÊúÄÂ∏∏Áî®ÁöÑÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅÁöÑÊñπÊ≥ïÔºö</p><p>1„ÄÅÁî®Êà∑ÂêçÂØÜÁ†ÅÊñπÂºè„ÄÅ2„ÄÅÊåáÁ∫πÊâìÂç°Êú∫„ÄÅ3„ÄÅÂü∫‰∫éËØÅ‰π¶È™åËØÅÊñπÊ≥ï„ÄÇ„ÄÇÁ≥ªÁªüÈ™åËØÅÁî®Êà∑Ë∫´‰ªΩÂêàÊ≥ïÔºåÁî®Êà∑ÊñπÂèØËÆøÈóÆÁ≥ªÁªüÁöÑËµÑÊ∫ê„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249502.png"></p><blockquote><p>ÂÖ≥ÈîÆÂØπË±°Ôºö</p><p>subjectÔºö‰∏ª‰ΩìÔºåÁêÜËß£‰∏∫Áî®Êà∑,ÂèØËÉΩÊòØÁ®ãÂ∫èÔºåÈÉΩË¶ÅÂéªËÆøÈóÆÁ≥ªÁªüÁöÑËµÑÊ∫êÔºåÁ≥ªÁªüÈúÄË¶ÅÂØπsubjectËøõË°åË∫´‰ªΩËÆ§ËØÅ„ÄÇ</p><p>principalÔºöË∫´‰ªΩ‰ø°ÊÅØÔºåÈÄöÂ∏∏ÊòØÂîØ‰∏ÄÁöÑÔºå‰∏Ä‰∏™‰∏ª‰ΩìËøòÊúâÂ§ö‰∏™Ë∫´‰ªΩ‰ø°ÊÅØÔºå‰ΩÜÊòØÈÉΩÊúâ‰∏Ä‰∏™‰∏ªË∫´‰ªΩ‰ø°ÊÅØÔºàprimary principalÔºâ</p><p>credentialÔºöÂá≠ËØÅ‰ø°ÊÅØÔºåÂèØ‰ª•ÊòØÂØÜÁ†Å „ÄÅËØÅ‰π¶„ÄÅÊåáÁ∫π„ÄÇ</p><p>ÊÄªÁªìÔºö‰∏ª‰ΩìÂú®ËøõË°åË∫´‰ªΩËÆ§ËØÅÊó∂ÈúÄË¶ÅÊèê‰æõË∫´‰ªΩ‰ø°ÊÅØÂíåÂá≠ËØÅ‰ø°ÊÅØ„ÄÇ</p></blockquote><h3 id="‰∏â„ÄÅÁî®Êà∑ÊéàÊùÉ"><a href="#‰∏â„ÄÅÁî®Êà∑ÊéàÊùÉ" class="headerlink" title="‰∏â„ÄÅÁî®Êà∑ÊéàÊùÉ"></a>‰∏â„ÄÅÁî®Êà∑ÊéàÊùÉ</h3><hr><blockquote><p>Áî®Êà∑ÊéàÊùÉÔºåÁÆÄÂçïÁêÜËß£‰∏∫ËÆøÈóÆÊéßÂà∂ÔºåÂú®Áî®Êà∑ËÆ§ËØÅÈÄöËøáÂêéÔºåÁ≥ªÁªüÂØπÁî®Êà∑ËÆøÈóÆËµÑÊ∫êËøõË°åÊéßÂà∂ÔºåÁî®Êà∑ÂÖ∑ÊúâËµÑÊ∫êÁöÑËÆøÈóÆÊùÉÈôêÊñπÂèØËÆøÈóÆ„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249558.png"></p><blockquote><p>ÂÖ≥ÈîÆÂØπË±°</p><p>ÊéàÊùÉÁöÑËøáÁ®ãÁêÜËß£‰∏∫ÔºöwhoÂØπwhat(which)ËøõË°åhowÊìç‰Ωú„ÄÇ</p><p>whoÔºö‰∏ª‰ΩìÂç≥subjectÔºåsubjectÂú®ËÆ§ËØÅÈÄöËøáÂêéÁ≥ªÁªüËøõË°åËÆøÈóÆÊéßÂà∂„ÄÇ</p><p>what(which)ÔºöËµÑÊ∫ê(Resource)ÔºåsubjectÂøÖÈ°ªÂÖ∑Â§áËµÑÊ∫êÁöÑËÆøÈóÆÊùÉÈôêÊâçÂèØËÆøÈóÆËØ• ËµÑÊ∫ê„ÄÇËµÑÊ∫êÊØîÂ¶ÇÔºöÁ≥ªÁªüÁî®Êà∑ÂàóË°®È°µÈù¢„ÄÅÂïÜÂìÅ‰øÆÊîπËèúÂçï„ÄÅÂïÜÂìÅid‰∏∫001ÁöÑÂïÜÂìÅ‰ø°ÊÅØ„ÄÇ</p><p>ËµÑÊ∫êÂàÜ‰∏∫ËµÑÊ∫êÁ±ªÂûãÂíåËµÑÊ∫êÂÆû‰æãÔºö</p><p>Á≥ªÁªüÁöÑÁî®Êà∑‰ø°ÊÅØÂ∞±ÊòØËµÑÊ∫êÁ±ªÂûãÔºåÁõ∏ÂΩì‰∫éjavaÁ±ª„ÄÇ</p><p>Á≥ªÁªü‰∏≠id‰∏∫001ÁöÑÁî®Êà∑Â∞±ÊòØËµÑÊ∫êÂÆû‰æãÔºåÁõ∏ÂΩì‰∫énewÁöÑjavaÂØπË±°„ÄÇ</p><p>howÔºöÊùÉÈôê&#x2F;ËÆ∏ÂèØ(permission) ÔºåÈíàÂØπËµÑÊ∫êÁöÑÊùÉÈôêÊàñËÆ∏ÂèØÔºåsubjectÂÖ∑ÊúâpermissionËÆøÈóÆËµÑÊ∫êÔºåÂ¶Ç‰ΩïËÆøÈóÆ&#x2F;Êìç‰ΩúÈúÄË¶ÅÂÆö‰πâpermissionÔºåÊùÉÈôêÊØîÂ¶ÇÔºöÁî®Êà∑Ê∑ªÂä†„ÄÅÁî®Êà∑‰øÆÊîπ„ÄÅÂïÜÂìÅÂà†Èô§„ÄÇ</p></blockquote><h3 id="Âõõ„ÄÅÊùÉÈôêÊ®°Âûã"><a href="#Âõõ„ÄÅÊùÉÈôêÊ®°Âûã" class="headerlink" title="Âõõ„ÄÅÊùÉÈôêÊ®°Âûã"></a>Âõõ„ÄÅÊùÉÈôêÊ®°Âûã</h3><hr><blockquote><p>‰∏ª‰ΩìÔºàË¥¶Âè∑„ÄÅÂØÜÁ†ÅÔºâ</p><p>ËßíËâ≤ÔºàËßíËâ≤ÂêçÁß∞Ôºâ</p><p>ÊùÉÈôêÔºàÊùÉÈôêÂêçÁß∞„ÄÅËµÑÊ∫êidÔºâ</p><p>‰∏ª‰ΩìÂíåËßíËâ≤ÂÖ≥Á≥ªÔºà‰∏ª‰Ωìid„ÄÅËßíËâ≤idÔºâ</p><p>ËßíËâ≤ÂíåÊùÉÈôêÂÖ≥Á≥ªÔºàËßíËâ≤id„ÄÅÊùÉÈôêidÔºâ</p><p>ËµÑÊ∫êÔºàËµÑÊ∫êÂêçÁß∞„ÄÅËÆøÈóÆÂú∞ÂùÄÔºâ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249586.png"></p><blockquote><p>ÈÄöÂ∏∏‰ºÅ‰∏öÂºÄÂèë‰∏≠Â∞ÜËµÑÊ∫êÂíåÊùÉÈôêË°®ÂêàÂπ∂‰∏∫‰∏ÄÂº†ÊùÉÈôêË°®ÔºåÂ¶Ç‰∏ãÔºö</p><p>ËµÑÊ∫êÔºàËµÑÊ∫êÂêçÁß∞„ÄÅËÆøÈóÆÂú∞ÂùÄÔºâ</p><p>ÊùÉÈôêÔºàÊùÉÈôêÂêçÁß∞„ÄÅËµÑÊ∫êidÔºâ</p><p>ÂêàÂπ∂‰∏∫ÔºöÊùÉÈôêÔºàÊùÉÈôêÂêçÁß∞„ÄÅËµÑÊ∫êÂêçÁß∞„ÄÅËµÑÊ∫êËÆøÈóÆÂú∞ÂùÄÔºâ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249079.png"></p><blockquote><p>‰∏äÂõæÂ∏∏Ë¢´Áß∞‰∏∫ÊùÉÈôêÁÆ°ÁêÜÁöÑÈÄöÁî®Ê®°ÂûãÔºå‰∏çËøá‰ºÅ‰∏öÂú®ÂºÄÂèë‰∏≠Ê†πÊçÆÁ≥ªÁªüËá™Ë∫´ÁöÑÁâπÁÇπËøò‰ºöÂØπ‰∏äÂõæËøõË°å‰øÆÊîπÔºå‰ΩÜÊòØÁî®Êà∑„ÄÅËßíËâ≤„ÄÅÊùÉÈôê„ÄÅÁî®Êà∑ËßíËâ≤ÂÖ≥Á≥ª„ÄÅËßíËâ≤ÊùÉÈôêÂÖ≥Á≥ªÊòØÈúÄË¶ÅÂéªÁêÜËß£ÁöÑ„ÄÇ</p></blockquote><blockquote><p>ÂàÜÈÖçÊùÉÈôêÔºöÁî®Êà∑ÈúÄË¶ÅÂàÜÈÖçÁõ∏Â∫îÁöÑÊùÉÈôêÊâçÂèØËÆøÈóÆÁõ∏Â∫îÁöÑËµÑÊ∫ê„ÄÇÊùÉÈôêÊòØÂØπ‰∫éËµÑÊ∫êÁöÑÊìç‰ΩúËÆ∏ÂèØÔºåÈÄöÂ∏∏ÁªôÁî®Êà∑ÂàÜÈÖçËµÑÊ∫êÊùÉÈôêÈúÄË¶ÅÂ∞ÜÊùÉÈôê‰ø°ÊÅØÊåÅ‰πÖÂåñÔºåÊØîÂ¶ÇÂ≠òÂÇ®Âú®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰∏≠ÔºåÊääÁî®Êà∑‰ø°ÊÅØ„ÄÅÊùÉÈôêÁÆ°ÁêÜ„ÄÅÁî®Êà∑ÂàÜÈÖçÁöÑÊùÉÈôê‰ø°ÊÅØÂÜôÂà∞Êï∞ÊçÆÂ∫ìÔºàÊùÉÈôêÊï∞ÊçÆÊ®°ÂûãÔºâ„ÄÇ</p></blockquote><h3 id="‰∫î„ÄÅShiro‰ªãÁªç"><a href="#‰∫î„ÄÅShiro‰ªãÁªç" class="headerlink" title="‰∫î„ÄÅShiro‰ªãÁªç"></a>‰∫î„ÄÅShiro‰ªãÁªç</h3><hr><blockquote><p>shiroÊòØapacheÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÊ°ÜÊû∂ÔºåÊòØ‰∏Ä‰∏™ÊùÉÈôêÁÆ°ÁêÜÁöÑÊ°ÜÊû∂ÔºåÂÆûÁé∞ Áî®Êà∑ËÆ§ËØÅ„ÄÅÁî®Êà∑ÊéàÊùÉÔºåÂäüËÉΩÂº∫Â§ß„ÄÅ‰∏î ÁÆÄÂçï„ÄÅÁÅµÊ¥ªÔºå‰∏î‰∏çË∑ü‰ªª‰ΩïÁöÑÊ°ÜÊû∂ÊàñËÄÖÂÆπÂô®ÁªëÂÆöÔºåÂèØ‰ª•Áã¨Á´ãËøêË°å„ÄÇ</p><p>spring‰∏≠Êúâspring security (ÂéüÂêçAcegi)ÔºåÊòØ‰∏Ä‰∏™ÊùÉÈôêÊ°ÜÊû∂Ôºå‰ΩøÁî®Ëµ∑Êù•ÂæàÊñπ‰æøÔºåÂíåspring‰æùËµñËøá‰∫éÁ¥ßÂØÜ„ÄÇ</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249240.png"></p><blockquote><p>subjectÔºö‰∏ª‰ΩìÔºåÂèØ‰ª•ÊòØÁî®Êà∑‰πüÂèØ‰ª•ÊòØÁ®ãÂ∫èÔºå‰∏ª‰ΩìË¶ÅËÆøÈóÆÁ≥ªÁªüÔºåÁ≥ªÁªüÈúÄË¶ÅÂØπ‰∏ª‰ΩìËøõË°åËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÇ</p><p>securityManagerÔºöÂÆâÂÖ®ÁÆ°ÁêÜÂô®Ôºå‰∏ª‰ΩìËøõË°åËÆ§ËØÅÂíåÊéàÊùÉÈÉΩÊòØÈÄöËøásecurityManagerËøõË°å„ÄÇ</p><p>authenticatorÔºöËÆ§ËØÅÂô®Ôºå‰∏ª‰ΩìËøõË°åËÆ§ËØÅÊúÄÁªàÈÄöËøáauthenticatorËøõË°åÁöÑ„ÄÇ</p><p>authorizerÔºöÊéàÊùÉÂô®Ôºå‰∏ª‰ΩìËøõË°åÊéàÊùÉÊúÄÁªàÈÄöËøáauthorizerËøõË°åÁöÑ„ÄÇ</p><p>sessionManagerÔºöwebÂ∫îÁî®‰∏≠‰∏ÄËà¨ÊòØÁî®webÂÆπÂô®ÂØπsessionËøõË°åÁÆ°ÁêÜÔºåshiro‰πüÊèê‰æõ‰∏ÄÂ•ósessionÁÆ°ÁêÜÁöÑÊñπÂºè„ÄÇ</p><p>SessionDaoÔºöÈÄöËøáSessionDaoÁÆ°ÁêÜsessionÊï∞ÊçÆÔºåÈíàÂØπ‰∏™ÊÄßÂåñÁöÑsessionÊï∞ÊçÆÂ≠òÂÇ®ÈúÄË¶Å‰ΩøÁî®sessionDao„ÄÇ</p><p>cache ManagerÔºöÁºìÂ≠òÁÆ°ÁêÜÂô®Ôºå‰∏ªË¶ÅÂØπsessionÂíåÊéàÊùÉÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºåÊØîÂ¶ÇÂ∞ÜÊéàÊùÉÊï∞ÊçÆÈÄöËøácacheManagerËøõË°åÁºìÂ≠òÁÆ°ÁêÜÔºåÂíåehcacheÊï¥ÂêàÂØπÁºìÂ≠òÊï∞ÊçÆËøõË°åÁÆ°ÁêÜ„ÄÇ</p><p>realmÔºöÂüüÔºåÈ¢ÜÂüüÔºåÁõ∏ÂΩì‰∫éÊï∞ÊçÆÊ∫êÔºåÈÄöËøárealmÂ≠òÂèñËÆ§ËØÅ„ÄÅÊéàÊùÉÁõ∏ÂÖ≥Êï∞ÊçÆ„ÄÇ</p><p>Ê≥®ÔºöÂú®realm‰∏≠Â≠òÂÇ®ÊéàÊùÉÂíåËÆ§ËØÅÁöÑÈÄªËæë„ÄÇ</p><p>cryptographyÔºöÂØÜÁ†ÅÁÆ°ÁêÜÔºåÊèê‰æõ‰∫Ü‰∏ÄÂ•óÂä†ÂØÜ&#x2F;Ëß£ÂØÜÁöÑÁªÑ‰ª∂ÔºåÊñπ‰æøÂºÄÂèë„ÄÇÊØîÂ¶ÇÊèê‰æõÂ∏∏Áî®ÁöÑÊï£Âàó„ÄÅÂä†&#x2F;Ëß£ÂØÜÁ≠âÂäüËÉΩ„ÄÇ</p><p>ÊØîÂ¶ÇÔºömd5‰ø°ÊÅØÊëòË¶ÅÁÆóÊ≥ï„ÄÇ</p></blockquote><h3 id="ÂÖ≠„ÄÅËÆ§ËØÅÊµÅÁ®ã"><a href="#ÂÖ≠„ÄÅËÆ§ËØÅÊµÅÁ®ã" class="headerlink" title="ÂÖ≠„ÄÅËÆ§ËØÅÊµÅÁ®ã"></a>ÂÖ≠„ÄÅËÆ§ËØÅÊµÅÁ®ã</h3><hr><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249741.png"></h4><h4 id="6-1-ÂàõÂª∫MavenÂ∑•Á®ãÂπ∂ÂØºÂÖ•‰æùËµñ"><a href="#6-1-ÂàõÂª∫MavenÂ∑•Á®ãÂπ∂ÂØºÂÖ•‰æùËµñ" class="headerlink" title="6.1 ÂàõÂª∫MavenÂ∑•Á®ãÂπ∂ÂØºÂÖ•‰æùËµñ"></a>6.1 ÂàõÂª∫MavenÂ∑•Á®ãÂπ∂ÂØºÂÖ•‰æùËµñ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ÂêéÊúüÊï¥ÂêàspringbootÂ∑•Á®ãÊó∂‰ºö‰∫ßÁîüÊé•Âè£ÂÜ≤Á™ÅÈóÆÈ¢ò --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;dependency&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;artifactId&gt;shiro-spring-boot-starter&lt;/artifactId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;version&gt;1.8.0&lt;/version&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/dependency&gt;--&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-2-Âú®resourcesÁõÆÂΩï‰∏ãÂàõÂª∫shiro-iniÊñá‰ª∂ÔºåIEDAÈúÄË¶ÅÂÆâË£Ö-iniÂπ∂ÈáçÂêØÊñπÂèØÁîüÊïà"><a href="#6-2-Âú®resourcesÁõÆÂΩï‰∏ãÂàõÂª∫shiro-iniÊñá‰ª∂ÔºåIEDAÈúÄË¶ÅÂÆâË£Ö-iniÂπ∂ÈáçÂêØÊñπÂèØÁîüÊïà" class="headerlink" title="6.2 Âú®resourcesÁõÆÂΩï‰∏ãÂàõÂª∫shiro.iniÊñá‰ª∂ÔºåIEDAÈúÄË¶ÅÂÆâË£Ö*.iniÂπ∂ÈáçÂêØÊñπÂèØÁîüÊïà"></a>6.2 Âú®resourcesÁõÆÂΩï‰∏ãÂàõÂª∫shiro.iniÊñá‰ª∂ÔºåIEDAÈúÄË¶ÅÂÆâË£Ö*.iniÂπ∂ÈáçÂêØÊñπÂèØÁîüÊïà</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÂØπÁî®Êà∑ÁöÑÈÖçÁΩÆ</span></span><br><span class="line">[<span class="built_in">users</span>]</span><br><span class="line"><span class="comment">#ÂØπÁî®Êà∑ÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÈÖçÁΩÆ</span></span><br><span class="line">jack=123</span><br><span class="line">tom=456</span><br></pre></td></tr></table></figure><h4 id="6-3-ÂàõÂª∫ËÆ§ËØÅÊµãËØïÁ±ª"><a href="#6-3-ÂàõÂª∫ËÆ§ËØÅÊµãËØïÁ±ª" class="headerlink" title="6.3 ÂàõÂª∫ËÆ§ËØÅÊµãËØïÁ±ª"></a>6.3 ÂàõÂª∫ËÆ§ËØÅÊµãËØïÁ±ª</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.authentication;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.SecurityUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UsernamePasswordToken;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.config.IniSecurityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.SecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.Subject;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.util.Factory;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthenticationDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Áî®Êà∑ÁôªÈôÜÂíåÈÄÄÂá∫</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLoginAndLogout</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂàõÂª∫securityManagerÂ∑•ÂéÇÔºåÈÄöËøáiniÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫securityManagerÂ∑•ÂéÇ</span></span><br><span class="line">        Factory&lt;SecurityManager&gt; factory = <span class="keyword">new</span> <span class="title class_">IniSecurityManagerFactory</span>(</span><br><span class="line">                <span class="string">&quot;classpath:shiro.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂàõÂª∫SecurityManager</span></span><br><span class="line">        <span class="type">SecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> factory.getInstance();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Â∞ÜsecurityManagerËÆæÁΩÆÂΩìÂâçÁöÑËøêË°åÁéØÂ¢É‰∏≠</span></span><br><span class="line">        SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ‰ªéSecurityUtilsÈáåËæπÂàõÂª∫‰∏Ä‰∏™subject</span></span><br><span class="line">        <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Âú®ËÆ§ËØÅÊèê‰∫§ÂâçÂáÜÂ§átokenÔºà‰ª§ÁâåÔºâ</span></span><br><span class="line">        <span class="comment">// ËøôÈáåÁöÑË¥¶Âè∑ÂíåÂØÜÁ†Å Â∞ÜÊù•ÊòØÁî±Áî®Êà∑ËæìÂÖ•ËøõÂéª</span></span><br><span class="line">        <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÊâßË°åËÆ§ËØÅÊèê‰∫§</span></span><br><span class="line">        subject.login(token);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÊòØÂê¶ËÆ§ËØÅÈÄöËøá</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isAuthenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÈÄöËøáÔºö&quot;</span> + isAuthenticated);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÈÄÄÂá∫Êìç‰Ωú</span></span><br><span class="line">        subject.logout();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÊòØÂê¶ËÆ§ËØÅÈÄöËøá</span></span><br><span class="line">        isAuthenticated = subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÈÄöËøáÔºö&quot;</span> + isAuthenticated);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-4-ÊâßË°åÊµÅÁ®ã"><a href="#6-4-ÊâßË°åÊµÅÁ®ã" class="headerlink" title="6.4 ÊâßË°åÊµÅÁ®ã"></a>6.4 ÊâßË°åÊµÅÁ®ã</h4><blockquote><p>1„ÄÅÈÄöËøáiniÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫securityManager</p><p>2„ÄÅË∞ÉÁî®subject.loginÊñπÊ≥ï‰∏ª‰ΩìÊèê‰∫§ËÆ§ËØÅÔºåÊèê‰∫§ÁöÑtoken</p><p>3„ÄÅsecurityManagerËøõË°åËÆ§ËØÅÔºåsecurityManagerÊúÄÁªàÁî±ModularRealmAuthenticatorËøõË°åËÆ§ËØÅ„ÄÇ</p><p>4„ÄÅModularRealmAuthenticatorË∞ÉÁî®IniRealm(Áªôrealm‰º†ÂÖ•token) ÂéªiniÈÖçÁΩÆÊñá‰ª∂‰∏≠Êü•ËØ¢Áî®Êà∑‰ø°ÊÅØ</p><p>5„ÄÅIniRealmÊ†πÊçÆËæìÂÖ•ÁöÑtokenÔºàUsernamePasswordTokenÔºâ‰ªé shiro.iniÊü•ËØ¢Áî®Êà∑‰ø°ÊÅØÔºåÊ†πÊçÆË¥¶Âè∑Êü•ËØ¢Áî®Êà∑‰ø°ÊÅØÔºàË¥¶Âè∑ÂíåÂØÜÁ†ÅÔºâ</p><p>‚Äã      Â¶ÇÊûúÊü•ËØ¢Âà∞Áî®Êà∑‰ø°ÊÅØÔºåÂ∞±ÁªôModularRealmAuthenticatorËøîÂõûÁî®Êà∑‰ø°ÊÅØÔºàË¥¶Âè∑ÂíåÂØÜÁ†ÅÔºâ</p><p>‚Äã      Â¶ÇÊûúÊü•ËØ¢‰∏çÂà∞ÔºåÂ∞±ÁªôModularRealmAuthenticatorËøîÂõûnull</p><p>6„ÄÅModularRealmAuthenticatorÊé•Êî∂IniRealmËøîÂõûAuthenticationËÆ§ËØÅ‰ø°ÊÅØ</p><p>‚Äã      Â¶ÇÊûúËøîÂõûÁöÑËÆ§ËØÅ‰ø°ÊÅØÊòØnullÔºåModularRealmAuthenticatorÊäõÂá∫ÂºÇÂ∏∏</p><p>Ôºàorg.apache.shiro.authc.UnknownAccountExceptionÔºâ</p><p>‚Äã      Â¶ÇÊûúËøîÂõûÁöÑËÆ§ËØÅ‰ø°ÊÅØ‰∏çÊòØnullÔºàËØ¥ÊòéinirealmÊâæÂà∞‰∫ÜÁî®Êà∑ÔºâÔºåÂØπIniRealmËøîÂõûÁî®Êà∑ÂØÜÁ†Å ÔºàÂú®iniÊñá‰ª∂‰∏≠Â≠òÂú®Ôºâ</p><p>‚Äã      Âíå token‰∏≠ÁöÑÂØÜÁ†Å ËøõË°åÂØπÊØîÔºåÂ¶ÇÊûú‰∏ç‰∏ÄËá¥ÊäõÂá∫ÂºÇÂ∏∏</p><p>Ôºàorg.apache.shiro.authc.IncorrectCredentialsExceptionÔºâ</p></blockquote><h4 id="6-5-ÊÄªÁªì"><a href="#6-5-ÊÄªÁªì" class="headerlink" title="6.5 ÊÄªÁªì"></a>6.5 ÊÄªÁªì</h4><blockquote><p>ModularRealmAuthenticator‰ΩúÁî®ÊòØËøõË°åËÆ§ËØÅÔºåÈúÄË¶ÅË∞ÉÁî®realmÊù•Êü•ËØ¢Áî®Êà∑‰ø°ÊÅØÔºàÂú®Êï∞ÊçÆÂ∫ì‰∏≠Â≠òÂú®Áî®Êà∑‰ø°ÊÅØÔºâÂπ∂‰∏îËøõË°åÂØÜÁ†ÅÂØπÊØîÔºàËÆ§ËØÅËøáÁ®ãÔºâ</p><p>realmÔºöÈúÄË¶ÅÊ†πÊçÆtoken‰∏≠ÁöÑË∫´‰ªΩ‰ø°ÊÅØÂéªÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºàÂÖ•Èó®Á®ãÂ∫è‰ΩøÁî®iniÈÖçÁΩÆÊñá‰ª∂ÔºâÔºåÂ¶ÇÊûúÊü•Âà∞Áî®Êà∑ËøîÂõûËÆ§ËØÅ‰ø°ÊÅØÔºåÂ¶ÇÊûúÊü•ËØ¢‰∏çÂà∞ËøîÂõûnull</p></blockquote><h3 id="‰∏É„ÄÅ‰ΩøÁî®realmËÆ§ËØÅ"><a href="#‰∏É„ÄÅ‰ΩøÁî®realmËÆ§ËØÅ" class="headerlink" title="‰∏É„ÄÅ‰ΩøÁî®realmËÆ§ËØÅ"></a>‰∏É„ÄÅ‰ΩøÁî®realmËÆ§ËØÅ</h3><hr><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249769.png"></p><h4 id="7-1-ÂàõÂª∫Ëá™ÂÆö‰πârealm"><a href="#7-1-ÂàõÂª∫Ëá™ÂÆö‰πârealm" class="headerlink" title="7.1 ÂàõÂª∫Ëá™ÂÆö‰πârealm"></a>7.1 ÂàõÂª∫Ëá™ÂÆö‰πârealm</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.realm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.SimpleAuthenticationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authz.AuthorizationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.realm.AuthorizingRealm;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.PrincipalCollection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">realmDemo</span> <span class="keyword">extends</span> <span class="title class_">AuthorizingRealm</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">realmName</span>  <span class="operator">=</span> <span class="string">&quot;realmDemo&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ËÆ§ËØÅ</span></span><br><span class="line">    <span class="keyword">protected</span> AuthenticationInfo <span class="title function_">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken </span></span><br><span class="line"><span class="params">authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line"><span class="comment">//‰ªétoken‰∏≠ÂèñÂá∫Áî®Êà∑‰ø°ÊÅØ</span></span><br><span class="line">        <span class="comment">//Áî®Êà∑ÂêçÔºåË∫´‰ªΩ‰ø°ÊÅØ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">principal</span> <span class="operator">=</span> (String)authenticationToken.getPrincipal();</span><br><span class="line">        System.out.println(principal);</span><br><span class="line">        <span class="comment">//ÂØÜÁ†ÅÔºåÂá≠ËØÅ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">credentials</span> <span class="operator">=</span> authenticationToken.getCredentials();</span><br><span class="line"><span class="comment">//Á±ªÂûãËΩ¨Âåñ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>((<span class="type">char</span>[]) credentials);</span><br><span class="line">        System.out.println(password);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;jack&quot;</span>.equals(principal) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(password))&#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">SimpleAuthenticationInfo</span> <span class="variable">simpleAuthenticationInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleAuthenticationInfo</span>(principal,password,realmName);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> simpleAuthenticationInfo;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÊéàÊùÉ</span></span><br><span class="line">    <span class="keyword">protected</span> AuthorizationInfo <span class="title function_">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-2-Âú®resourceÁõÆÂΩï‰∏ãÂàõÂª∫shiro-realm-iniÔºàÊ≥®ÊÑèÔºörealmË∑ØÂæÑÂà´ÈÖçÁΩÆÈîô‰∫ÜÔºâ"><a href="#7-2-Âú®resourceÁõÆÂΩï‰∏ãÂàõÂª∫shiro-realm-iniÔºàÊ≥®ÊÑèÔºörealmË∑ØÂæÑÂà´ÈÖçÁΩÆÈîô‰∫ÜÔºâ" class="headerlink" title="7.2 Âú®resourceÁõÆÂΩï‰∏ãÂàõÂª∫shiro-realm.iniÔºàÊ≥®ÊÑèÔºörealmË∑ØÂæÑÂà´ÈÖçÁΩÆÈîô‰∫ÜÔºâ"></a>7.2 Âú®resourceÁõÆÂΩï‰∏ãÂàõÂª∫shiro-realm.iniÔºàÊ≥®ÊÑèÔºörealmË∑ØÂæÑÂà´ÈÖçÁΩÆÈîô‰∫ÜÔºâ</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[main]</span><br><span class="line"><span class="comment">#Ëá™ÂÆö‰πârealm</span></span><br><span class="line">realmDemo=com.qf.realm.realmDemo</span><br><span class="line"><span class="comment">#Â∞ÜrealmËÆæÁΩÆÂà∞securityManager</span></span><br><span class="line">securityManager.realms=<span class="variable">$realmDemo</span></span><br></pre></td></tr></table></figure><h4 id="7-3-Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"><a href="#7-3-Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï" class="headerlink" title="7.3 Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"></a>7.3 Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ëá™ÂÆö‰πârealm</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRealmDemo</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÂàõÂª∫securityManagerÂ∑•ÂéÇÔºåÈÄöËøáiniÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫securityManagerÂ∑•ÂéÇ</span></span><br><span class="line">    Factory&lt;SecurityManager&gt; factory = <span class="keyword">new</span> <span class="title class_">IniSecurityManagerFactory</span>(</span><br><span class="line">            <span class="string">&quot;classpath:shiro-realm.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÂàõÂª∫SecurityManager</span></span><br><span class="line">    <span class="type">SecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> factory.getInstance();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Â∞ÜsecurityManagerËÆæÁΩÆÂΩìÂâçÁöÑËøêË°åÁéØÂ¢É‰∏≠</span></span><br><span class="line">    SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ‰ªéSecurityUtilsÈáåËæπÂàõÂª∫‰∏Ä‰∏™subject</span></span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Âú®ËÆ§ËØÅÊèê‰∫§ÂâçÂáÜÂ§átokenÔºà‰ª§ÁâåÔºâ</span></span><br><span class="line">    <span class="comment">// ËøôÈáåÁöÑË¥¶Âè∑ÂíåÂØÜÁ†Å Â∞ÜÊù•ÊòØÁî±Áî®Êà∑ËæìÂÖ•ËøõÂéª</span></span><br><span class="line">    <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// ÊâßË°åËÆ§ËØÅÊèê‰∫§</span></span><br><span class="line">        subject.login(token);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (AuthenticationException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÊòØÂê¶ËÆ§ËØÅÈÄöËøá</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isAuthenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÈÄöËøáÔºö&quot;</span> + isAuthenticated);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ËÆøÈóÆcontrollerÊµãËØïÂç≥ÂèØ</p></blockquote><h3 id="ÂÖ´„ÄÅMD5Âä†ÂØÜ"><a href="#ÂÖ´„ÄÅMD5Âä†ÂØÜ" class="headerlink" title="ÂÖ´„ÄÅMD5Âä†ÂØÜ"></a>ÂÖ´„ÄÅMD5Âä†ÂØÜ</h3><hr><blockquote><p>ÈÄöÂ∏∏ÈúÄË¶ÅÂØπÂØÜÁ†Å ËøõË°åÊï£ÂàóÔºåÂ∏∏Áî®ÁöÑÊúâMD5„ÄÅSHAÔºå</p><p>ÂØπMD5ÂØÜÁ†ÅÔºåÂ¶ÇÊûúÁü•ÈÅìÊï£ÂàóÂêéÁöÑÂÄºÂèØ‰ª•ÈÄöËøáÁ©∑‰∏æÁÆóÊ≥ïÔºåÂæóÂà∞md5ÂØÜÁ†ÅÂØπÂ∫îÁöÑÊòéÊñáÔºàÊåáÂä†ÂØÜÂâçÁöÑÂØÜÁ†ÅÔºâ„ÄÇ</p><p>Âª∫ËÆÆÂØπMD5ËøõË°åÊï£ÂàóÊó∂Âä†saltÔºàÁõêÔºâÔºåËøõË°åÂä†ÂØÜÁõ∏ÂΩì‰∫éÂØπÂéüÂßãÂØÜÁ†Å+ÁõêËøõË°åÊï£Âàó„ÄÇ</p><p>Ê≠£Â∏∏‰ΩøÁî®Êó∂Êï£ÂàóÊñπÊ≥ïÔºö</p><p>Âú®Á®ãÂ∫è‰∏≠ÂØπÂéüÂßãÂØÜÁ†Å+ÁõêËøõË°åÊï£ÂàóÔºåÂ∞ÜÊï£ÂàóÂÄºÂ≠òÂÇ®Âà∞Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂπ∂‰∏îËøòË¶ÅÂ∞ÜÁõê‰πüË¶ÅÂ≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ</p><p>Â¶ÇÊûúËøõË°åÂØÜÁ†ÅÂØπÊØîÊó∂Ôºå‰ΩøÁî®Áõ∏ÂêåÊñπÊ≥ïÔºåÂ∞ÜÂéüÂßãÂØÜÁ†Å+ÁõêËøõË°åÊï£ÂàóÔºåËøõË°åÊØîÂØπ„ÄÇ</p></blockquote><h4 id="8-1-ÂàõÂª∫MD5DemoÊµãËØïÁ±ªÔºåËøõË°åÊµãËØï"><a href="#8-1-ÂàõÂª∫MD5DemoÊµãËØïÁ±ªÔºåËøõË°åÊµãËØï" class="headerlink" title="8.1.ÂàõÂª∫MD5DemoÊµãËØïÁ±ªÔºåËøõË°åÊµãËØï"></a>8.1.ÂàõÂª∫MD5DemoÊµãËØïÁ±ªÔºåËøõË°åÊµãËØï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.shiro.crypto.hash.Md5Hash;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.crypto.hash.SimpleHash;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MD5Demo</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">// ÂéüÂßã ÂØÜÁ†Å</span></span><br><span class="line"><span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="comment">// Áõê</span></span><br><span class="line"><span class="type">String</span> <span class="variable">salt</span> <span class="operator">=</span> <span class="string">&quot;abcde&quot;</span>;</span><br><span class="line"><span class="comment">// Êï£ÂàóÊ¨°Êï∞</span></span><br><span class="line"><span class="type">int</span> <span class="variable">hashIterations</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="comment">// ‰∏äËæπÊï£Âàó1Ê¨°Ôºö7bc6c31880aeda581aa34e218af25753</span></span><br><span class="line"><span class="comment">// ‰∏äËæπÊï£Âàó2Ê¨°Ôºö6585096f3f6735025449cfb351c8cff9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Á¨¨‰∏ÄÁßçÊñπÂºè</span></span><br><span class="line"><span class="comment">// ÊûÑÈÄ†ÊñπÊ≥ï‰∏≠Ôºö</span></span><br><span class="line"><span class="comment">// Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÊòéÊñáÔºåÂéüÂßãÂØÜÁ†Å</span></span><br><span class="line"><span class="comment">// Á¨¨‰∫å‰∏™ÂèÇÊï∞ÔºöÁõêÔºåÈÄöËøá‰ΩøÁî®ÈöèÊú∫Êï∞</span></span><br><span class="line"><span class="comment">// Á¨¨‰∏â‰∏™ÂèÇÊï∞ÔºöÊï£ÂàóÁöÑÊ¨°Êï∞ÔºåÊØîÂ¶ÇÊï£Âàó‰∏§Ê¨°ÔºåÁõ∏ÂΩì ‰∫émd5(md5(&#x27;&#x27;))</span></span><br><span class="line"><span class="type">Md5Hash</span> <span class="variable">md5Hash</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Md5Hash</span>(password, salt, hashIterations);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">password_md5</span> <span class="operator">=</span> md5Hash.toString();</span><br><span class="line">System.out.println(password_md5);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Á¨¨‰∫åÁßçÊñπÂºè</span></span><br><span class="line"><span class="comment">// Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºöÊï£ÂàóÁÆóÊ≥ï</span></span><br><span class="line"><span class="type">SimpleHash</span> <span class="variable">simpleHash</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleHash</span>(<span class="string">&quot;md5&quot;</span>, password, salt,</span><br><span class="line">hashIterations);</span><br><span class="line">System.out.println(simpleHash.toString());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-2Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"><a href="#8-2Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï" class="headerlink" title="8.2Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"></a>8.2Âú®AuthenticationDemoÁ±ª‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊµãËØïMD5</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMD5</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÂàõÂª∫securityManagerÂ∑•ÂéÇÔºåÈÄöËøáiniÈÖçÁΩÆÊñá‰ª∂ÂàõÂª∫securityManagerÂ∑•ÂéÇ</span></span><br><span class="line">    Factory&lt;SecurityManager&gt; factory =</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">IniSecurityManagerFactory</span>(<span class="string">&quot;classpath:shiro-realm-md5.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÂàõÂª∫SecurityManager</span></span><br><span class="line">    <span class="type">SecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> factory.getInstance();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Â∞ÜsecurityManagerËÆæÁΩÆÂΩìÂâçÁöÑËøêË°åÁéØÂ¢É‰∏≠</span></span><br><span class="line">    SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ‰ªéSecurityUtilsÈáåËæπÂàõÂª∫‰∏Ä‰∏™subject</span></span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Âú®ËÆ§ËØÅÊèê‰∫§ÂâçÂáÜÂ§átokenÔºà‰ª§ÁâåÔºâ</span></span><br><span class="line">    <span class="comment">// ËøôÈáåÁöÑË¥¶Âè∑ÂíåÂØÜÁ†Å Â∞ÜÊù•ÊòØÁî±Áî®Êà∑ËæìÂÖ•ËøõÂéª</span></span><br><span class="line">    <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// ÊâßË°åËÆ§ËØÅÊèê‰∫§</span></span><br><span class="line">        subject.login(token);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (AuthenticationException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÊòØÂê¶ËÆ§ËØÅÈÄöËøá</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isAuthenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÈÄöËøáÔºö&quot;</span> + isAuthenticated);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-3ÂàõÂª∫shiro-realm-md5-ini"><a href="#8-3ÂàõÂª∫shiro-realm-md5-ini" class="headerlink" title="8.3ÂàõÂª∫shiro-realm-md5.ini"></a>8.3ÂàõÂª∫shiro-realm-md5.ini</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[main]</span><br><span class="line"><span class="comment">#Ëá™ÂÆö‰πârealm</span></span><br><span class="line">realmDemo=com.qf.realm.realmDemoMD5</span><br><span class="line"><span class="comment">#Â∞ÜrealmËÆæÁΩÆÂà∞securityManager</span></span><br><span class="line">securityManager.realms=<span class="variable">$realmDemo</span></span><br></pre></td></tr></table></figure><h4 id="8-4ÂàõÂª∫realmMD5"><a href="#8-4ÂàõÂª∫realmMD5" class="headerlink" title="8.4ÂàõÂª∫realmMD5"></a>8.4ÂàõÂª∫realmMD5</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.realm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.SimpleAuthenticationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authz.AuthorizationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.crypto.hash.Md5Hash;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.realm.AuthorizingRealm;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.PrincipalCollection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">realmDemoMD5</span> <span class="keyword">extends</span> <span class="title class_">AuthorizingRealm</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">realmName</span>  <span class="operator">=</span> <span class="string">&quot;realmDemoMD5&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ËÆ§ËØÅ</span></span><br><span class="line">    <span class="keyword">protected</span> AuthenticationInfo <span class="title function_">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line">        <span class="comment">//Áî®Êà∑Âêç</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">principal</span> <span class="operator">=</span> (String)authenticationToken.getPrincipal();</span><br><span class="line">        <span class="comment">//System.out.println(principal);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ÂØÜÁ†Å</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">credentials</span> <span class="operator">=</span> authenticationToken.getCredentials();</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>((<span class="type">char</span>[]) credentials);</span><br><span class="line">        System.out.println(password);</span><br><span class="line">        </span><br><span class="line">        <span class="type">Md5Hash</span> <span class="variable">md5Hash</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Md5Hash</span>(password, <span class="string">&quot;abcde&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password_md5</span> <span class="operator">=</span> md5Hash.toString();</span><br><span class="line">        System.out.println(password_md5);</span><br><span class="line">        <span class="comment">//‰ªéÊï∞ÊçÆÂ∫ìÊü•Âá∫Êù•ÁöÑÂØÜÁ†Å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">dbpassword</span> <span class="operator">=</span> <span class="string">&quot;6585096f3f6735025449cfb351c8cff9&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;jack&quot;</span>.equals(principal) &amp;&amp;password_md5.equals(dbpassword))&#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">SimpleAuthenticationInfo</span> </span><br><span class="line"><span class="variable">simpleAuthenticationInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleAuthenticationInfo</span>(principal,password,realmName);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> simpleAuthenticationInfo;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÊéàÊùÉ</span></span><br><span class="line">    <span class="keyword">protected</span> AuthorizationInfo <span class="title function_">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="‰πù„ÄÅÊéàÊùÉÊµÅÁ®ã"><a href="#‰πù„ÄÅÊéàÊùÉÊµÅÁ®ã" class="headerlink" title="‰πù„ÄÅÊéàÊùÉÊµÅÁ®ã"></a>‰πù„ÄÅÊéàÊùÉÊµÅÁ®ã</h3><hr><p><img src="https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071250363.png"></p><h4 id="9-1ÂàõÂª∫shiro-permission-iniÔºàshiro-permission-iniÈáåËæπÁöÑÂÜÖÂÆπÁõ∏ÂΩì‰∫éÂú®Êï∞ÊçÆÂ∫ìÔºâ"><a href="#9-1ÂàõÂª∫shiro-permission-iniÔºàshiro-permission-iniÈáåËæπÁöÑÂÜÖÂÆπÁõ∏ÂΩì‰∫éÂú®Êï∞ÊçÆÂ∫ìÔºâ" class="headerlink" title="9.1ÂàõÂª∫shiro-permission.iniÔºàshiro-permission.iniÈáåËæπÁöÑÂÜÖÂÆπÁõ∏ÂΩì‰∫éÂú®Êï∞ÊçÆÂ∫ìÔºâ"></a>9.1ÂàõÂª∫shiro-permission.iniÔºàshiro-permission.iniÈáåËæπÁöÑÂÜÖÂÆπÁõ∏ÂΩì‰∫éÂú®Êï∞ÊçÆÂ∫ìÔºâ</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Áî®Êà∑</span></span><br><span class="line">[<span class="built_in">users</span>]</span><br><span class="line"><span class="comment">#Áî®Êà∑jackÁöÑÂØÜÁ†ÅÊòØ123ÔºåÊ≠§Áî®Êà∑ÂÖ∑Êúârole1Âíårole2‰∏§‰∏™ËßíËâ≤</span></span><br><span class="line">jack=123,role1,role2</span><br><span class="line">tom=456,role2</span><br><span class="line"></span><br><span class="line"><span class="comment">#ÊùÉÈôê</span></span><br><span class="line">[roles]</span><br><span class="line"><span class="comment">#ËßíËâ≤role1ÂØπËµÑÊ∫êuserÊã•Êúâcreate„ÄÅupdateÊùÉÈôê</span></span><br><span class="line">role1=user:create,user:update</span><br><span class="line"><span class="comment">#ËßíËâ≤role2ÂØπËµÑÊ∫êuserÊã•Êúâcreate„ÄÅdeleteÊùÉÈôê</span></span><br><span class="line">role2=user:create,user:delete</span><br><span class="line"><span class="comment">#ËßíËâ≤role3ÂØπËµÑÊ∫êuserÊã•ÊúâqueryÊùÉÈôê</span></span><br><span class="line">role3=user:query</span><br></pre></td></tr></table></figure><h4 id="9-2ÂàõÂª∫AuthorizationDemo"><a href="#9-2ÂàõÂª∫AuthorizationDemo" class="headerlink" title="9.2ÂàõÂª∫AuthorizationDemo"></a>9.2ÂàõÂª∫AuthorizationDemo</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.authorization;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.SecurityUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UsernamePasswordToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.config.IniSecurityManagerFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.SecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.Subject;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.util.Factory;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthorizationDemo</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ËßíËâ≤ÊéàÊùÉ„ÄÅËµÑÊ∫êÊéàÊùÉÊµãËØï</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAuthorization</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÂàõÂª∫SecurityManagerÂ∑•ÂéÇ</span></span><br><span class="line">Factory&lt;SecurityManager&gt; factory = <span class="keyword">new</span> <span class="title class_">IniSecurityManagerFactory</span>(</span><br><span class="line"><span class="string">&quot;classpath:shiro-permission.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÂàõÂª∫SecurityManager</span></span><br><span class="line"><span class="type">SecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> factory.getInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Â∞ÜSecurityManagerËÆæÁΩÆÂà∞Á≥ªÁªüËøêË°åÁéØÂ¢ÉÔºåÂ∞ÜSecurityManagerÈÖçÁΩÆspringÂÆπÂô®‰∏≠Ôºå‰∏ÄËà¨Âçï‰æãÁÆ°ÁêÜ</span></span><br><span class="line">SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÂàõÂª∫subject</span></span><br><span class="line"><span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÂàõÂª∫token‰ª§Áâå</span></span><br><span class="line"><span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(<span class="string">&quot;jack&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ËÆ§ËØÅ</span></span><br><span class="line">        subject.login(token);</span><br><span class="line">        <span class="comment">//ÊòØÂê¶ËÆ§ËØÅÊàêÂäü</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">authenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line">        System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÊàêÂäüÔºö&quot;</span>+authenticated);</span><br><span class="line"></span><br><span class="line"><span class="comment">//--------ËÆ§ËØÅÈÄöËøá‰πãÂêéËøõË°åÊéàÊùÉ----------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Âü∫‰∫éËßíËâ≤ÁöÑÊéàÊùÉ </span></span><br><span class="line">        <span class="comment">//Âçï‰∏™ËßíËâ≤Âà§Êñ≠</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">role1</span> <span class="operator">=</span> subject.hasRole(<span class="string">&quot;role1&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;role1Ôºö&quot;</span>+role1);</span><br><span class="line">        <span class="comment">//Â§ö‰∏™ËßíËâ≤Âà§Êñ≠</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">allRoles</span> <span class="operator">=</span> subject.hasAllRoles(Arrays.asList(<span class="string">&quot;role1&quot;</span>, <span class="string">&quot;role2&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;role1 + role2Ôºö&quot;</span>+allRoles);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//subject.checkRole(&quot;role3&quot;);//Ê£ÄÊü•ÊòØÂê¶ÊúâÂΩìÂâçËßíËâ≤</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Âü∫‰∫éËµÑÊ∫êÁöÑÊéàÊùÉ</span></span><br><span class="line">        <span class="comment">//Âçï‰∏™ÊùÉÈôêÂà§Êñ≠</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">permitted</span> <span class="operator">=</span> subject.isPermitted(<span class="string">&quot;user:create&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user:createÔºö&quot;</span>+permitted);</span><br><span class="line">        <span class="comment">//Â§ö‰∏™ÊùÉÈôêÂà§Êñ≠</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">permittedAll</span> <span class="operator">=</span> subject.isPermittedAll(<span class="string">&quot;user:create&quot;</span>, <span class="string">&quot;user:update&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user:create + user:updateÔºö&quot;</span>+permittedAll);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//subject.checkPermissions(&quot;user:query&quot;, &quot;user:add&quot;);</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ÂçÅ„ÄÅ‰ΩøÁî®realmÊéàÊùÉ"><a href="#ÂçÅ„ÄÅ‰ΩøÁî®realmÊéàÊùÉ" class="headerlink" title="ÂçÅ„ÄÅ‰ΩøÁî®realmÊéàÊùÉ"></a>ÂçÅ„ÄÅ‰ΩøÁî®realmÊéàÊùÉ</h3><hr><blockquote><p>ÈúÄÊ±Ç</p><p>‰∏äËæπÁöÑÁ®ãÂ∫èÈÄöËøáshiro-permission.iniÂØπÊùÉÈôê‰ø°ÊÅØËøõË°åÈùôÊÄÅÈÖçÁΩÆÔºåÂÆûÈôÖÂºÄÂèë‰∏≠‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Ëé∑ÂèñÊùÉÈôêÊï∞ÊçÆ„ÄÇÂ∞±ÈúÄË¶ÅËá™ÂÆö‰πârealmÔºåÁî±realm‰ªéÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÊùÉÈôêÊï∞ÊçÆÔºårealm‰ºöÊ†πÊçÆÁî®Êà∑Ë∫´‰ªΩÊü•ËØ¢ÊùÉÈôêÊï∞ÊçÆÔºåÂ∞ÜÊùÉÈôêÊï∞ÊçÆËøîÂõûÁªôauthorizerÔºàÊéàÊùÉÂô®Ôºâ„ÄÇ</p></blockquote><h4 id="10-1‰øÆÊîπ‰πãÂâçrealmDemo-java‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï"><a href="#10-1‰øÆÊîπ‰πãÂâçrealmDemo-java‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï" class="headerlink" title="10.1‰øÆÊîπ‰πãÂâçrealmDemo.java‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï"></a>10.1‰øÆÊîπ‰πãÂâçrealmDemo.java‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊéàÊùÉ</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> AuthorizationInfo <span class="title function_">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ‰ªé principalsËé∑Âèñ‰∏ªË∫´‰ªΩ‰ø°ÊÅØ</span></span><br><span class="line">    <span class="comment">// Â∞ÜgetPrimaryPrincipalÊñπÊ≥ïËøîÂõûÂÄºËΩ¨‰∏∫ÁúüÂÆûË∫´‰ªΩÁ±ªÂûãÔºàÂú®‰∏äËæπÁöÑdoGetAuthenticationInfoËÆ§ËØÅÈÄöËøáÂ°´ÂÖÖÂà∞SimpleAuthenticationInfo‰∏≠Ë∫´‰ªΩÁ±ªÂûãÔºâ</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">primaryPrincipal</span> <span class="operator">=</span> (String)principalCollection.getPrimaryPrincipal();</span><br><span class="line">    System.out.println(<span class="string">&quot;primaryPrincipalÔºö&quot;</span>+primaryPrincipal);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Ê†πÊçÆË∫´‰ªΩ‰ø°ÊÅØËé∑ÂèñÊùÉÈôê‰ø°ÊÅØ</span></span><br><span class="line">    <span class="comment">// ËøûÊé•Êï∞ÊçÆÂ∫ì...</span></span><br><span class="line">    <span class="comment">// Ê®°Êãü‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÂà∞Êï∞ÊçÆ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÊääÊï∞ÊçÆÂ∫ì‰∏≠Êü•Âà∞ÁöÑËßíËâ≤ÊîæËøõÈõÜÂêà‰∏≠</span></span><br><span class="line">    ArrayList&lt;String&gt; roles = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    roles.add(<span class="string">&quot;role1&quot;</span>);</span><br><span class="line">    roles.add(<span class="string">&quot;role2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÊääÊï∞ÊçÆÂ∫ì‰∏≠Êü•Âà∞ÁöÑËµÑÊ∫êÊîæËøõÈõÜÂêà‰∏≠</span></span><br><span class="line">    HashSet&lt;String&gt; permissions = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    permissions.add(<span class="string">&quot;user:add&quot;</span>);</span><br><span class="line">    permissions.add(<span class="string">&quot;user:update&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Êü•Âà∞ÊùÉÈôêÊï∞ÊçÆÔºåËøîÂõûÊéàÊùÉ‰ø°ÊÅØÔºàÂåÖÊã¨‰ª•‰∏äÁöÑËßíËâ≤ÊàñËÄÖËµÑÊ∫êÔºâ</span></span><br><span class="line">    <span class="type">SimpleAuthorizationInfo</span> <span class="variable">simpleAuthorizationInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleAuthorizationInfo</span>();</span><br><span class="line">    <span class="comment">//ÈÄöËøáËßíËâ≤ÊéàÊùÉ</span></span><br><span class="line">    <span class="comment">//simpleAuthorizationInfo.addRoles(roles);</span></span><br><span class="line">    <span class="comment">//ÈÄöËøáËµÑÊ∫êÊéàÊùÉ</span></span><br><span class="line">    simpleAuthorizationInfo.addStringPermissions(permissions);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> simpleAuthorizationInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10-2ÂàõÂª∫shiro-realm-iniÊñá‰ª∂ÔºåÈÖçÁΩÆËá™ÂÆö‰πâÁöÑrealmÔºåÂ∞ÜrealmËÆæÁΩÆÂà∞securityManager‰∏≠ÔºåÂõ†‰∏∫‰πãÂâçÂ∑≤ÁªèÈÖçÁΩÆËøáÔºåËØ•Ê≠•È™§ÂèØ‰ª•ÁúÅÁï•"><a href="#10-2ÂàõÂª∫shiro-realm-iniÊñá‰ª∂ÔºåÈÖçÁΩÆËá™ÂÆö‰πâÁöÑrealmÔºåÂ∞ÜrealmËÆæÁΩÆÂà∞securityManager‰∏≠ÔºåÂõ†‰∏∫‰πãÂâçÂ∑≤ÁªèÈÖçÁΩÆËøáÔºåËØ•Ê≠•È™§ÂèØ‰ª•ÁúÅÁï•" class="headerlink" title="10.2ÂàõÂª∫shiro-realm.iniÊñá‰ª∂ÔºåÈÖçÁΩÆËá™ÂÆö‰πâÁöÑrealmÔºåÂ∞ÜrealmËÆæÁΩÆÂà∞securityManager‰∏≠ÔºåÂõ†‰∏∫‰πãÂâçÂ∑≤ÁªèÈÖçÁΩÆËøáÔºåËØ•Ê≠•È™§ÂèØ‰ª•ÁúÅÁï•"></a>10.2ÂàõÂª∫shiro-realm.iniÊñá‰ª∂ÔºåÈÖçÁΩÆËá™ÂÆö‰πâÁöÑrealmÔºåÂ∞ÜrealmËÆæÁΩÆÂà∞securityManager‰∏≠ÔºåÂõ†‰∏∫‰πãÂâçÂ∑≤ÁªèÈÖçÁΩÆËøáÔºåËØ•Ê≠•È™§ÂèØ‰ª•ÁúÅÁï•</h4><h4 id="10-3Âú®AuthorizationDemo‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"><a href="#10-3Âú®AuthorizationDemo‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï" class="headerlink" title="10.3Âú®AuthorizationDemo‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï"></a>10.3Âú®AuthorizationDemo‰∏≠Ê∑ªÂä†ÊñπÊ≥ïËøõË°åÊµãËØï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊéàÊùÉ</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAuthorization</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÂáÜÂ§áÁéØÂ¢É</span></span><br><span class="line">    <span class="type">IniSecurityManagerFactory</span> <span class="variable">iniSecurityManagerFactory</span> <span class="operator">=</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">IniSecurityManagerFactory</span>(<span class="string">&quot;classpath:shiro-realm.ini&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">SecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> iniSecurityManagerFactory.getInstance();</span><br><span class="line"></span><br><span class="line">    SecurityUtils.setSecurityManager(securityManager);</span><br><span class="line">    <span class="comment">//Ëé∑Âèñ‰∏ª‰Ωì</span></span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">    <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(<span class="string">&quot;jack&quot;</span>,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    <span class="comment">//ËÆ§ËØÅ</span></span><br><span class="line">    subject.login(token);</span><br><span class="line">    <span class="comment">//ÊòØÂê¶ËÆ§ËØÅÊàêÂäü</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">authenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line">    System.out.println(<span class="string">&quot;ÊòØÂê¶ËÆ§ËØÅÊàêÂäüÔºö&quot;</span>+authenticated);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//--------ËÆ§ËØÅÈÄöËøá‰πãÂêéËøõË°åÊéàÊùÉ----------</span></span><br><span class="line">    <span class="comment">//Âçï‰∏™ËßíËâ≤Âà§Êñ≠</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">role1</span> <span class="operator">=</span> subject.hasRole(<span class="string">&quot;role1&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;role1Ôºö&quot;</span>+role1);</span><br><span class="line">    <span class="comment">//Â§ö‰∏™ËßíËâ≤Âà§Êñ≠</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">allRoles</span> <span class="operator">=</span> subject.hasAllRoles(Arrays.asList(<span class="string">&quot;role1&quot;</span>, <span class="string">&quot;role2&quot;</span>));</span><br><span class="line">    System.out.println(<span class="string">&quot;role1 + role2Ôºö&quot;</span>+allRoles);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//subject.checkRole(&quot;role3&quot;);//Ê£ÄÊü•ÊòØÂê¶ÊúâÂΩìÂâçËßíËâ≤</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//-------Âà§Êñ≠ÊùÉÈôê--------</span></span><br><span class="line">    <span class="comment">//Âçï‰∏™ÊùÉÈôêÂà§Êñ≠</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">permitted</span> <span class="operator">=</span> subject.isPermitted(<span class="string">&quot;user:create&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;user:createÔºö&quot;</span>+permitted);</span><br><span class="line">    <span class="comment">//Â§ö‰∏™ÊùÉÈôêÂà§Êñ≠</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">permittedAll</span> <span class="operator">=</span> subject.isPermittedAll(<span class="string">&quot;user:create&quot;</span>, <span class="string">&quot;user:update&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;user:create + user:updateÔºö&quot;</span>+permittedAll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//subject.checkPermissions(&quot;user:query&quot;, &quot;user:add&quot;);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10-4-ÊéàÊùÉÊµÅÁ®ã"><a href="#10-4-ÊéàÊùÉÊµÅÁ®ã" class="headerlink" title="10.4 ÊéàÊùÉÊµÅÁ®ã"></a>10.4 ÊéàÊùÉÊµÅÁ®ã</h4><blockquote><p>1„ÄÅÂØπsubjectËøõË°åÊéàÊùÉÔºåË∞ÉÁî®ÊñπÊ≥ïisPermittedÔºà‚Äùpermission‰∏≤‚ÄùÔºâ<br>2„ÄÅSecurityManagerÊâßË°åÊéàÊùÉÔºåÈÄöËøáModularRealmAuthorizerÊâßË°åÊéàÊùÉ<br>3„ÄÅModularRealmAuthorizerÊâßË°årealmÔºàËá™ÂÆö‰πâÁöÑRealmÔºâ‰ªéÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÊùÉÈôêÊï∞ÊçÆÔºåË∞ÉÁî®realmÁöÑdoGetAuthorizationInfoÊéàÊùÉÊñπÊ≥ï<br>4„ÄÅrealm‰ªéÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÊùÉÈôêÊï∞ÊçÆÔºåËøîÂõûModularRealmAuthorizer<br>5„ÄÅModularRealmAuthorizerË∞ÉÁî®PermissionResolverËøõË°åÊùÉÈôê‰∏≤ÊØîÂØπ<br>6„ÄÅÂ¶ÇÊûúÊØîÂØπÂêéÔºåisPermitted‰∏≠‚Äùpermission‰∏≤‚ÄùÂú®realmÊü•ËØ¢Âà∞ÊùÉÈôêÊï∞ÊçÆ‰∏≠ÔºåËØ¥ÊòéÁî®Êà∑ËÆøÈóÆpermission‰∏≤ÊúâÊùÉÈôêÔºåÂê¶Âàô Ê≤°ÊúâÊùÉÈôêÔºåÊäõÂá∫ÂºÇÂ∏∏„ÄÇ</p></blockquote><h3 id="ÂçÅ‰∏Ä„ÄÅSpringBootÊï¥ÂêàShiro"><a href="#ÂçÅ‰∏Ä„ÄÅSpringBootÊï¥ÂêàShiro" class="headerlink" title="ÂçÅ‰∏Ä„ÄÅSpringBootÊï¥ÂêàShiro"></a>ÂçÅ‰∏Ä„ÄÅSpringBootÊï¥ÂêàShiro</h3><hr><h4 id="11-1ÂØºÂÖ•‰æùËµñ"><a href="#11-1ÂØºÂÖ•‰æùËµñ" class="headerlink" title="11.1ÂØºÂÖ•‰æùËµñ"></a>11.1ÂØºÂÖ•‰æùËµñ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shiro<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>shiro-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="11-2ÈÖçÁΩÆapplication-yml"><a href="#11-2ÈÖçÁΩÆapplication-yml" class="headerlink" title="11.2ÈÖçÁΩÆapplication.yml"></a>11.2ÈÖçÁΩÆapplication.yml</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">session:</span></span><br><span class="line">      <span class="comment">#ÂéªÈô§ËÆøÈóÆË∑ØÂæÑÂêéÊê∫Â∏¶sessionid</span></span><br><span class="line">      <span class="attr">tracking-modes:</span> <span class="string">cookie</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/shiro?serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">  <span class="attr">thymeleaf:</span></span><br><span class="line">    <span class="attr">cache:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">prefix:</span> <span class="string">classpath:/templates</span></span><br><span class="line">    <span class="attr">suffix:</span> <span class="string">.html</span></span><br><span class="line">    <span class="attr">encoding:</span> <span class="string">UTF-8</span></span><br><span class="line">    <span class="attr">mode:</span> <span class="string">HTML5</span></span><br><span class="line">    <span class="attr">servlet:</span></span><br><span class="line">      <span class="attr">content-type:</span> <span class="string">text/html</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">    <span class="comment">#È©ºÂ≥∞ÂΩ¢Âºè</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="11-3ÁºñÂÜôShiroRealm"><a href="#11-3ÁºñÂÜôShiroRealm" class="headerlink" title="11.3ÁºñÂÜôShiroRealm"></a>11.3ÁºñÂÜôShiroRealm</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.realm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authz.AuthorizationInfo;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.realm.AuthorizingRealm;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.PrincipalCollection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShiroRealm</span> <span class="keyword">extends</span> <span class="title class_">AuthorizingRealm</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> AuthorizationInfo <span class="title function_">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> AuthenticationInfo <span class="title function_">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-4ÁºñÂÜôShiroConfig"><a href="#11-4ÁºñÂÜôShiroConfig" class="headerlink" title="11.4ÁºñÂÜôShiroConfig"></a>11.4ÁºñÂÜôShiroConfig</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> at.pollux.thymeleaf.shiro.dialect.ShiroDialect;</span><br><span class="line"><span class="keyword">import</span> com.qf.realm.ShiroRealm;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.DefaultSecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.SecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.spring.web.ShiroFilterFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.mgt.CookieRememberMeManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.mgt.DefaultWebSecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.servlet.SimpleCookie;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShiroConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ShiroRealm <span class="title function_">getShiroRealm</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ShiroRealm</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÂÆâÂÖ®ÁÆ°ÁêÜÂØπË±°</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityManager <span class="title function_">getSecurityManager</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DefaultWebSecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultWebSecurityManager</span>();</span><br><span class="line">        securityManager.setRealm(getShiroRealm());</span><br><span class="line">        <span class="keyword">return</span> securityManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ShiroËøáÊª§Âô®ÈÖçÁΩÆ</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ShiroFilterFactoryBean <span class="title function_">getShiroFilterFactoryBean</span><span class="params">(SecurityManager securityManager)</span>&#123;</span><br><span class="line">        <span class="comment">//ÂàõÂª∫ShiroÂ∑•ÂéÇÂØπË±°</span></span><br><span class="line">        <span class="type">ShiroFilterFactoryBean</span> <span class="variable">shiroFilterFactoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShiroFilterFactoryBean</span>();</span><br><span class="line">        <span class="comment">//ËÆæÁΩÆÂÆâÂÖ®ÁÆ°ÁêÜÂô®</span></span><br><span class="line">        shiroFilterFactoryBean.setSecurityManager(securityManager);</span><br><span class="line">        <span class="comment">//Êú™ËÆ§ËØÅËÆøÈóÆÈ°µÈù¢</span></span><br><span class="line">        shiroFilterFactoryBean.setLoginUrl(<span class="string">&quot;/toLogin&quot;</span>);</span><br><span class="line">        <span class="comment">//ËÆ§ËØÅÊàêÂäüË∑≥ËΩ¨È°µÈù¢Ôºà‰∏ÄËà¨‰∏çËÆæÁΩÆÔºåÈªòËÆ§ÁôªÂΩïÊàêÂäüË∑≥ËΩ¨ÂΩìÂâçÈ°µÈù¢Ôºâ</span></span><br><span class="line">        <span class="comment">//shiroFilterFactoryBean.setSuccessUrl(&quot;/index&quot;);</span></span><br><span class="line">        <span class="comment">//Êú™ÊéàÊùÉËÆøÈóÆÈ°µÈù¢</span></span><br><span class="line">        shiroFilterFactoryBean.setUnauthorizedUrl(<span class="string">&quot;/refuse&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÄöËøámapÈÖçÁΩÆËÆøÈóÆÊµÅÁ®ãÔºàÈ°∫Â∫èÂæàÈáçË¶ÅÔºâ</span></span><br><span class="line">        LinkedHashMap&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line">        map.put(<span class="string">&quot;/js/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/css/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/jquery/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/layui/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆloginÈ°µÈù¢</span></span><br><span class="line">        map.put(<span class="string">&quot;/login&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆlogoutÈÄÄÂá∫</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/logout&quot;,&quot;logout&quot;);</span></span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÊéàÊùÉ</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/delete&quot;,&quot;perms[user:delete]&quot;);</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/select&quot;,&quot;perms[user:select]&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//userËÆæÁΩÆËÆ∞‰ΩèÊàëÔºà‰∫åÊ¨°ÁôªÂΩï‰∏çÂÅöËÆ§ËØÅÊìç‰ΩúÔºâ</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/index&quot;,&quot;user&quot;);</span></span><br><span class="line"></span><br><span class="line">        map.put(<span class="string">&quot;/**&quot;</span>,<span class="string">&quot;authc&quot;</span>);<span class="comment">//ËØ•Ë∑ØÂæÑËÆ§ËØÅÂêéÊâçËÉΩËÆøÈóÆ</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/**&quot;,&quot;anon&quot;);//ÊâÄÊúâË∑ØÂæÑÈÉΩÂèØ‰ª•ÂåøÂêçËÆøÈóÆ</span></span><br><span class="line"></span><br><span class="line">        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);</span><br><span class="line">        <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><table><thead><tr><th>ËøáÊª§Âô®ÁÆÄÁß∞</th><th>ÂØπÂ∫îÁöÑjavaÁ±ª</th></tr></thead><tbody><tr><td>anon</td><td>org.apache.shiro.web.filter.authc.AnonymousFilter</td></tr><tr><td>authc</td><td>org.apache.shiro.web.filter.authc.FormAuthenticationFilter</td></tr><tr><td>authcBasic</td><td>org.apache.shiro.web.filter.authc.BasicHttpAuthenticationFilter</td></tr><tr><td>perms</td><td>org.apache.shiro.web.filter.authz.PermissionsAuthorizationFilter</td></tr><tr><td>port</td><td>org.apache.shiro.web.filter.authz.PortFilter</td></tr><tr><td>rest</td><td>org.apache.shiro.web.filter.authz.HttpMethodPermissionFilter</td></tr><tr><td>roles</td><td>org.apache.shiro.web.filter.authz.RolesAuthorizationFilter</td></tr><tr><td>ssl</td><td>org.apache.shiro.web.filter.authz.SslFilter</td></tr><tr><td>user</td><td>org.apache.shiro.web.filter.authc.UserFilter</td></tr><tr><td>logout</td><td>org.apache.shiro.web.filter.authc.LogoutFilter</td></tr></tbody></table></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">anonÔºöadmins<span class="comment">/**=anon Ê≤°ÊúâÂèÇÊï∞ÔºåË°®Á§∫ÂèØ‰ª•ÂåøÂêç‰ΩøÁî®„ÄÇ</span></span><br><span class="line"><span class="comment">authcÔºö/admins/user/**=authcË°®Á§∫ÈúÄË¶ÅËÆ§ËØÅ(ÁôªÂΩï)ÊâçËÉΩ‰ΩøÁî®ÔºåFormAuthenticationFilterÊòØË°®ÂçïËÆ§ËØÅÔºåÊ≤°ÊúâÂèÇÊï∞ </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rolesÔºö/admins/user/**=roles[admin],ÂèÇÊï∞ÂèØ‰ª•ÂÜôÂ§ö‰∏™ÔºåÂ§ö‰∏™Êó∂ÂøÖÈ°ªÂä†‰∏äÂºïÂè∑ÔºåÂπ∂‰∏îÂèÇÊï∞‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÂâ≤ÔºåÂΩìÊúâÂ§ö‰∏™ÂèÇÊï∞Êó∂Ôºå‰æãÂ¶Çadmins/user/**=roles[&quot;admin,guest&quot;],ÊØè‰∏™ÂèÇÊï∞ÈÄöËøáÊâçÁÆóÈÄöËøáÔºåÁõ∏ÂΩì‰∫éhasAllRoles()ÊñπÊ≥ï„ÄÇ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">permsÔºö/admins/user/**=perms[user:add:*],ÂèÇÊï∞ÂèØ‰ª•ÂÜôÂ§ö‰∏™ÔºåÂ§ö‰∏™Êó∂ÂøÖÈ°ªÂä†‰∏äÂºïÂè∑ÔºåÂπ∂‰∏îÂèÇÊï∞‰πãÈó¥Áî®ÈÄóÂè∑ÂàÜÂâ≤Ôºå‰æãÂ¶Ç/admins/user/**=perms[&quot;user:add:*,user:modify:*&quot;]ÔºåÂΩìÊúâÂ§ö‰∏™ÂèÇÊï∞Êó∂ÂøÖÈ°ªÊØè‰∏™ÂèÇÊï∞ÈÉΩÈÄöËøáÊâçÈÄöËøáÔºåÊÉ≥ÂΩì‰∫éisPermitedAll()ÊñπÊ≥ï„ÄÇ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">restÔºö/admins/user/**=rest[user],Ê†πÊçÆËØ∑Ê±ÇÁöÑÊñπÊ≥ïÔºåÁõ∏ÂΩì‰∫é/admins/user/**=perms[user:method] ,ÂÖ∂‰∏≠method‰∏∫postÔºågetÔºådeleteÁ≠â„ÄÇ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">portÔºö/admins/user/**=port[8081],ÂΩìËØ∑Ê±ÇÁöÑurlÁöÑÁ´ØÂè£‰∏çÊòØ8081ÊòØË∑≥ËΩ¨Âà∞schemalÔºö//serverName:8081?queryString,ÂÖ∂‰∏≠schmalÊòØÂçèËÆÆhttpÊàñhttpsÁ≠âÔºåserverNameÊòØ‰Ω†ËÆøÈóÆÁöÑhost,8081ÊòØurlÈÖçÁΩÆÈáåportÁöÑÁ´ØÂè£ÔºåqueryStringÊòØ‰Ω†ËÆøÈóÆÁöÑurlÈáåÁöÑÔºüÂêéÈù¢ÁöÑÂèÇÊï∞„ÄÇ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">authcBasicÔºö‰æãÂ¶Ç/admins/user/**=authcBasicÊ≤°ÊúâÂèÇÊï∞Ë°®Á§∫httpBasicËÆ§ËØÅ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">sslÔºö/admins/user/**=sslÊ≤°ÊúâÂèÇÊï∞ÔºåË°®Á§∫ÂÆâÂÖ®ÁöÑurlËØ∑Ê±ÇÔºåÂçèËÆÆ‰∏∫https</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">userÔºö/admins/user/**=userÊ≤°ÊúâÂèÇÊï∞Ë°®Á§∫ÂøÖÈ°ªÂ≠òÂú®Áî®Êà∑, Ë∫´‰ªΩËÆ§ËØÅÈÄöËøáÊàñÈÄöËøáËÆ∞‰ΩèÊàëËÆ§ËØÅÈÄöËøáÁöÑÂèØ‰ª•ËÆøÈóÆÔºåÂΩìÁôªÂÖ•Êìç‰ΩúÊó∂‰∏çÂÅöÊ£ÄÊü•</span></span><br></pre></td></tr></table></figure><blockquote><p>anonÔºåauthcBasicÔºåauthcÔºåuserÊòØËÆ§ËØÅËøáÊª§Âô®</p><p>permsÔºårolesÔºåsslÔºårestÔºåportÊòØÊéàÊùÉËøáÊª§Âô®</p></blockquote><h4 id="11-5ÂàõÂª∫controller"><a href="#11-5ÂàõÂª∫controller" class="headerlink" title="11.5ÂàõÂª∫controller"></a>11.5ÂàõÂª∫controller</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.SecurityUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.IncorrectCredentialsException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UnknownAccountException;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.UsernamePasswordToken;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.subject.Subject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;toLogin&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toLgoin</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;toLogin&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;login&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;refuse&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">refuse</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;refuse&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/refuse&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;index&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;index&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/add&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;select&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">select</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/select&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;delete&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">delete</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delete&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/delete&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @RequestMapping(&quot;logout&quot;)</span></span><br><span class="line"><span class="comment">//    public String logout()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;logout&quot;);</span></span><br><span class="line"><span class="comment">//        Subject subject = SecurityUtils.getSubject();</span></span><br><span class="line"><span class="comment">//        subject.logout();</span></span><br><span class="line"><span class="comment">//        return &quot;/login&quot;;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ÂêØÂä®Â∑•Á®ãÔºåËøõË°åÊµãËØï</p></blockquote><h4 id="11-6ÁºñÂÜôÂØπÂ∫îÁöÑlogin-htmlÈ°µÈù¢Ôºà‰ª•ÂèäÂÖ∂‰ªñÈ°µÈù¢Ôºâ"><a href="#11-6ÁºñÂÜôÂØπÂ∫îÁöÑlogin-htmlÈ°µÈù¢Ôºà‰ª•ÂèäÂÖ∂‰ªñÈ°µÈù¢Ôºâ" class="headerlink" title="11.6ÁºñÂÜôÂØπÂ∫îÁöÑlogin.htmlÈ°µÈù¢Ôºà‰ª•ÂèäÂÖ∂‰ªñÈ°µÈù¢Ôºâ"></a>11.6ÁºñÂÜôÂØπÂ∫îÁöÑlogin.htmlÈ°µÈù¢Ôºà‰ª•ÂèäÂÖ∂‰ªñÈ°µÈù¢Ôºâ</h4><blockquote><p>login.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;login&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        Áî®Êà∑ÂêçÔºö<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        ÂØÜÁ†ÅÔºö<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ÁôªÂΩï&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>refuse.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span>&gt;</span>ÊãíÁªùËÆøÈóÆÔºÅÔºÅÔºÅ<span class="tag">&lt;/<span class="name">font</span>&gt;</span> <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>index.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:shiro</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>‰∏ªÈ°µÈù¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;add&quot;</span>&gt;</span>Ê∑ªÂä†Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;select&quot;</span>&gt;</span>Êü•ËØ¢Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;delete&quot;</span>&gt;</span>Âà†Èô§Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;update&quot;</span>&gt;</span>‰øÆÊîπÁî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/logout&quot;</span>&gt;</span>ÈÄÄÂá∫<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>add.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Ê∑ªÂä†Áî®Êà∑<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>select.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Êü•ËØ¢Áî®Êà∑<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>delete.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Âà†Èô§Áî®Êà∑<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="11-7ÂÆûÁé∞Áî®Êà∑ËÆ§ËØÅÔºå‰øÆÊîπUserController‰∏≠ÁöÑloginÊñπÊ≥ï"><a href="#11-7ÂÆûÁé∞Áî®Êà∑ËÆ§ËØÅÔºå‰øÆÊîπUserController‰∏≠ÁöÑloginÊñπÊ≥ï" class="headerlink" title="11.7ÂÆûÁé∞Áî®Êà∑ËÆ§ËØÅÔºå‰øÆÊîπUserController‰∏≠ÁöÑloginÊñπÊ≥ï"></a>11.7ÂÆûÁé∞Áî®Êà∑ËÆ§ËØÅÔºå‰øÆÊîπUserController‰∏≠ÁöÑloginÊñπÊ≥ï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(String username, String password)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;login&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">    <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(username, password);</span><br><span class="line"></span><br><span class="line">    subject.login(token);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">authenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(authenticated)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-8‰øÆÊîπShiroRealm‰∏≠ÁöÑAuthenticationInfoÊñπÊ≥ï"><a href="#11-8‰øÆÊîπShiroRealm‰∏≠ÁöÑAuthenticationInfoÊñπÊ≥ï" class="headerlink" title="11.8‰øÆÊîπShiroRealm‰∏≠ÁöÑAuthenticationInfoÊñπÊ≥ï"></a>11.8‰øÆÊîπShiroRealm‰∏≠ÁöÑAuthenticationInfoÊñπÊ≥ï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> AuthenticationInfo <span class="title function_">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken token)</span> <span class="keyword">throws</span> AuthenticationException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Ë∫´‰ªΩ‰ø°ÊÅØÔºåÁî®Êà∑Âêç</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">principal</span> <span class="operator">=</span> (String)token.getPrincipal();</span><br><span class="line">        System.out.println(principal);</span><br><span class="line">        <span class="comment">//Âá≠ËØÅ‰ø°ÊÅØÔºåÂØÜÁ†Å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">credentials</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>((<span class="type">char</span>[])token.getCredentials());</span><br><span class="line">        System.out.println(credentials);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Âà§Êñ≠</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;jack&quot;</span>.equals(principal) &amp;&amp; <span class="string">&quot;123&quot;</span>.equals(credentials))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SimpleAuthenticationInfo</span>(principal,credentials,<span class="string">&quot;ShiroRealm&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><blockquote><p>ËÆøÈóÆË∑ØÂæÑËøõË°åÊµãËØïÂç≥ÂèØÔºÅ</p></blockquote><h4 id="11-9ÂÆûÁé∞Áî®Êà∑ÊéàÊùÉÔºåÂú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†Ë¢´ÊéàÊùÉÁöÑ‰ø°ÊÅØ"><a href="#11-9ÂÆûÁé∞Áî®Êà∑ÊéàÊùÉÔºåÂú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†Ë¢´ÊéàÊùÉÁöÑ‰ø°ÊÅØ" class="headerlink" title="11.9ÂÆûÁé∞Áî®Êà∑ÊéàÊùÉÔºåÂú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†Ë¢´ÊéàÊùÉÁöÑ‰ø°ÊÅØ"></a>11.9ÂÆûÁé∞Áî®Êà∑ÊéàÊùÉÔºåÂú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†Ë¢´ÊéàÊùÉÁöÑ‰ø°ÊÅØ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÈÖçÁΩÆÊéàÊùÉ</span></span><br><span class="line">map.put(<span class="string">&quot;/delete&quot;</span>,<span class="string">&quot;perms[user:delete]&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;/select&quot;</span>,<span class="string">&quot;perms[user:select]&quot;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>ÈÖçÁΩÆ‰πãÂêéÈáçÂêØÈ°πÁõÆÔºåËÆøÈóÆËØ•ËµÑÊ∫êË∑ØÂæÑÊó∂ÂàôÊó†Ê≥ïËÆøÈóÆÔºåÊ≠§Êó∂ÈúÄË¶ÅÈÖçÁΩÆÊéàÊùÉ‰ø°ÊÅØ</p></blockquote><h4 id="11-10‰øÆÊîπShiroRealm‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï"><a href="#11-10‰øÆÊîπShiroRealm‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï" class="headerlink" title="11.10‰øÆÊîπShiroRealm‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï"></a>11.10‰øÆÊîπShiroRealm‰∏≠ÁöÑdoGetAuthorizationInfoÊñπÊ≥ï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> AuthorizationInfo <span class="title function_">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principals)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">SimpleAuthorizationInfo</span> <span class="variable">simpleAuthorizationInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleAuthorizationInfo</span>();</span><br><span class="line"></span><br><span class="line">    HashSet&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    set.add(<span class="string">&quot;user:select&quot;</span>);</span><br><span class="line">    set.add(<span class="string">&quot;user:update&quot;</span>);</span><br><span class="line"></span><br><span class="line">    simpleAuthorizationInfo.addStringPermissions(set);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> simpleAuthorizationInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ÁÑ∂ÂêéÈáçÂêØÈ°πÁõÆÔºåÂÜçÊ¨°ËÆøÈóÆÁõ∏Â∫îÊéàÊùÉË∑ØÂæÑÈ°µÈù¢</p></blockquote><h4 id="11-11ShiroÊï¥ÂêàthymleafÊ†áÁ≠æ"><a href="#11-11ShiroÊï¥ÂêàthymleafÊ†áÁ≠æ" class="headerlink" title="11.11ShiroÊï¥ÂêàthymleafÊ†áÁ≠æ"></a>11.11ShiroÊï¥ÂêàthymleafÊ†áÁ≠æ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.theborakompanioni<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-extras-shiro<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="11-12Âú®ShiroConfig‰∏≠Ê∑ªÂä†ËØ•ÊñπÊ≥ï"><a href="#11-12Âú®ShiroConfig‰∏≠Ê∑ªÂä†ËØ•ÊñπÊ≥ï" class="headerlink" title="11.12Âú®ShiroConfig‰∏≠Ê∑ªÂä†ËØ•ÊñπÊ≥ï"></a>11.12Âú®ShiroConfig‰∏≠Ê∑ªÂä†ËØ•ÊñπÊ≥ï</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> ShiroDialect <span class="title function_">getShiroDialect</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ShiroDialect</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-13‰øÆÊîπindex-htmlÈ°µÈù¢‰∏≠ÊµãËØï"><a href="#11-13‰øÆÊîπindex-htmlÈ°µÈù¢‰∏≠ÊµãËØï" class="headerlink" title="11.13‰øÆÊîπindex.htmlÈ°µÈù¢‰∏≠ÊµãËØï"></a>11.13‰øÆÊîπindex.htmlÈ°µÈù¢‰∏≠ÊµãËØï</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:shiro</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>‰∏ªÈ°µÈù¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;add&quot;</span>&gt;</span>Ê∑ªÂä†Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;select&quot;</span>&gt;</span>Êü•ËØ¢Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;delete&quot;</span> <span class="attr">shiro:hasPermission</span>=<span class="string">&quot;user:delete&quot;</span>&gt;</span>Âà†Èô§Áî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;update&quot;</span> <span class="attr">shiro:hasPermission</span>=<span class="string">&quot;user:update&quot;</span>&gt;</span>‰øÆÊîπÁî®Êà∑<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/logout&quot;</span>&gt;</span>ÈÄÄÂá∫<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ÂêØÂä®Â∑•Á®ãÔºåÂÜçÊ¨°ËøõË°åÊµãËØïÂç≥ÂèØ</p></blockquote><h4 id="11-14ÂÆûÁé∞Áî®Êà∑ÈÄÄÂá∫Ôºà‰∏§ÁßçÊñπÂºèÔºâÔºåÂú®Áõ∏ÂÖ≥index-htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†Ë∂ÖÈìæÊé•"><a href="#11-14ÂÆûÁé∞Áî®Êà∑ÈÄÄÂá∫Ôºà‰∏§ÁßçÊñπÂºèÔºâÔºåÂú®Áõ∏ÂÖ≥index-htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†Ë∂ÖÈìæÊé•" class="headerlink" title="11.14ÂÆûÁé∞Áî®Êà∑ÈÄÄÂá∫Ôºà‰∏§ÁßçÊñπÂºèÔºâÔºåÂú®Áõ∏ÂÖ≥index.htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†Ë∂ÖÈìæÊé•"></a>11.14ÂÆûÁé∞Áî®Êà∑ÈÄÄÂá∫Ôºà‰∏§ÁßçÊñπÂºèÔºâÔºåÂú®Áõ∏ÂÖ≥index.htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†Ë∂ÖÈìæÊé•</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/logout&quot;</span>&gt;</span>ÈÄÄÂá∫<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="11-15Âú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†ÈÄÄÂá∫ÈÖçÁΩÆÔºàÁ¨¨‰∏ÄÁßçÔºâ"><a href="#11-15Âú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†ÈÄÄÂá∫ÈÖçÁΩÆÔºàÁ¨¨‰∏ÄÁßçÔºâ" class="headerlink" title="11.15Âú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†ÈÄÄÂá∫ÈÖçÁΩÆÔºàÁ¨¨‰∏ÄÁßçÔºâ"></a>11.15Âú®ShiroConfig‰∏≠ÁöÑshiroFilterÊñπÊ≥ï‰∏≠Ê∑ªÂä†ÈÄÄÂá∫ÈÖçÁΩÆÔºàÁ¨¨‰∏ÄÁßçÔºâ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÈÖçÁΩÆÈÄÄÂá∫</span></span><br><span class="line">map.put(<span class="string">&quot;/logout&quot;</span>,<span class="string">&quot;logout&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="11-16Âú®UserController‰∏≠Ê∑ªÂä†logoutÊñπÊ≥ïÔºàÁ¨¨‰∫åÁßçÔºâ"><a href="#11-16Âú®UserController‰∏≠Ê∑ªÂä†logoutÊñπÊ≥ïÔºàÁ¨¨‰∫åÁßçÔºâ" class="headerlink" title="11.16Âú®UserController‰∏≠Ê∑ªÂä†logoutÊñπÊ≥ïÔºàÁ¨¨‰∫åÁßçÔºâ"></a>11.16Âú®UserController‰∏≠Ê∑ªÂä†logoutÊñπÊ≥ïÔºàÁ¨¨‰∫åÁßçÔºâ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;logout&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">logout</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;logout&quot;</span>);</span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line">    subject.logout();</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-17ËÆ∞‰ΩèÊàërememberMeÔºåÂú®login-htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†ËÆ∞‰ΩèÊàë"><a href="#11-17ËÆ∞‰ΩèÊàërememberMeÔºåÂú®login-htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†ËÆ∞‰ΩèÊàë" class="headerlink" title="11.17ËÆ∞‰ΩèÊàërememberMeÔºåÂú®login.htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†ËÆ∞‰ΩèÊàë"></a>11.17ËÆ∞‰ΩèÊàërememberMeÔºåÂú®login.htmlÈ°µÈù¢‰∏≠Ê∑ªÂä†ËÆ∞‰ΩèÊàë</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;rememberMe&quot;</span>&gt;</span>ËÆ∞‰ΩèÊàë<span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="11-18Âú®UserController‰∏≠ÁöÑloginÊñπÊ≥ïÈÖçÁΩÆrememberMeÂèÇÊï∞"><a href="#11-18Âú®UserController‰∏≠ÁöÑloginÊñπÊ≥ïÈÖçÁΩÆrememberMeÂèÇÊï∞" class="headerlink" title="11.18Âú®UserController‰∏≠ÁöÑloginÊñπÊ≥ïÈÖçÁΩÆrememberMeÂèÇÊï∞"></a>11.18Âú®UserController‰∏≠ÁöÑloginÊñπÊ≥ïÈÖçÁΩÆrememberMeÂèÇÊï∞</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(String username, String password,<span class="type">boolean</span> rememberMe)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;login&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Subject</span> <span class="variable">subject</span> <span class="operator">=</span> SecurityUtils.getSubject();</span><br><span class="line"></span><br><span class="line">    <span class="type">UsernamePasswordToken</span> <span class="variable">token</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UsernamePasswordToken</span>(username, password,rememberMe);</span><br><span class="line"></span><br><span class="line">    subject.login(token);</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">authenticated</span> <span class="operator">=</span> subject.isAuthenticated();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(authenticated)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;/login&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="11-19Âú®ShiroConfigÁ±ª‰∏≠Ê∑ªÂä†Áõ∏ÂÖ≥ÊñπÊ≥ï‰ª•Âèä‰ª£Á†Å"><a href="#11-19Âú®ShiroConfigÁ±ª‰∏≠Ê∑ªÂä†Áõ∏ÂÖ≥ÊñπÊ≥ï‰ª•Âèä‰ª£Á†Å" class="headerlink" title="11.19Âú®ShiroConfigÁ±ª‰∏≠Ê∑ªÂä†Áõ∏ÂÖ≥ÊñπÊ≥ï‰ª•Âèä‰ª£Á†Å"></a>11.19Âú®ShiroConfigÁ±ª‰∏≠Ê∑ªÂä†Áõ∏ÂÖ≥ÊñπÊ≥ï‰ª•Âèä‰ª£Á†Å</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.couture.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> at.pollux.thymeleaf.shiro.dialect.ShiroDialect;</span><br><span class="line"><span class="keyword">import</span> com.qf.realm.ShiroRealm;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.DefaultSecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.mgt.SecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.spring.web.ShiroFilterFactoryBean;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.mgt.CookieRememberMeManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.mgt.DefaultWebSecurityManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.shiro.web.servlet.SimpleCookie;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShiroConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CookieRememberMeManager <span class="title function_">getCookieRememberMeManager</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">SimpleCookie</span> <span class="variable">simpleCookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleCookie</span>(<span class="string">&quot;renemberMe&quot;</span>);</span><br><span class="line">        simpleCookie.setMaxAge(<span class="number">3600</span>*<span class="number">24</span>*<span class="number">31</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">CookieRememberMeManager</span> <span class="variable">cookieRememberMeManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CookieRememberMeManager</span>();</span><br><span class="line">        cookieRememberMeManager.setCookie(simpleCookie);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> cookieRememberMeManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ShiroRealm <span class="title function_">getShiroRealm</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ShiroRealm</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityManager <span class="title function_">getSecurityManager</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DefaultWebSecurityManager</span> <span class="variable">securityManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultWebSecurityManager</span>();</span><br><span class="line">        securityManager.setRealm(getShiroRealm());</span><br><span class="line">        securityManager.setRememberMeManager(getCookieRememberMeManager());</span><br><span class="line">        <span class="keyword">return</span> securityManager;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÈÖçÁΩÆShiroDialect</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ShiroDialect <span class="title function_">getShiroDialect</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ShiroDialect</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//shiroËøáÊª§Âô®ÈÖçÁΩÆ</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ShiroFilterFactoryBean <span class="title function_">getShiroFilterFactoryBean</span><span class="params">(SecurityManager securityManager)</span>&#123;</span><br><span class="line">        <span class="type">ShiroFilterFactoryBean</span> <span class="variable">shiroFilterFactoryBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShiroFilterFactoryBean</span>();</span><br><span class="line">        shiroFilterFactoryBean.setSecurityManager(securityManager);</span><br><span class="line">        <span class="comment">//Êú™ËÆ§ËØÅËÆøÈóÆÈ°µÈù¢</span></span><br><span class="line">        shiroFilterFactoryBean.setLoginUrl(<span class="string">&quot;/toLogin&quot;</span>);</span><br><span class="line">        <span class="comment">//ËÆ§ËØÅÊàêÂäüË∑≥ËΩ¨È°µÈù¢Ôºà‰∏ÄËà¨‰∏çËÆæÁΩÆÔºåÈªòËÆ§ÁôªÂΩïÊàêÂäüË∑≥ËΩ¨ÂΩìÂâçÈ°µÈù¢Ôºâ</span></span><br><span class="line">        <span class="comment">//shiroFilterFactoryBean.setSuccessUrl(&quot;/index&quot;);</span></span><br><span class="line">        <span class="comment">//Êú™ÊéàÊùÉËÆøÈóÆÈ°µÈù¢</span></span><br><span class="line">        shiroFilterFactoryBean.setUnauthorizedUrl(<span class="string">&quot;/refuse&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÄöËøámapÈÖçÁΩÆËÆøÈóÆÊµÅÁ®ãÔºàÈ°∫Â∫èÂæàÈáçË¶ÅÔºâ</span></span><br><span class="line">        LinkedHashMap&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÈùôÊÄÅËµÑÊ∫ê</span></span><br><span class="line">        map.put(<span class="string">&quot;/js/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/css/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/jquery/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/layui/**&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆloginÈ°µÈù¢</span></span><br><span class="line">        map.put(<span class="string">&quot;/login&quot;</span>,<span class="string">&quot;anon&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆlogoutÈÄÄÂá∫</span></span><br><span class="line">        map.put(<span class="string">&quot;/logout&quot;</span>,<span class="string">&quot;logout&quot;</span>);</span><br><span class="line">        <span class="comment">//ÈÖçÁΩÆÊéàÊùÉ</span></span><br><span class="line">        map.put(<span class="string">&quot;/delete&quot;</span>,<span class="string">&quot;perms[user:delete]&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;/select&quot;</span>,<span class="string">&quot;perms[user:select]&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//userËÆæÁΩÆËÆ∞‰ΩèÊàëÔºà‰∫åÊ¨°ÁôªÂΩï‰∏çÂÅöËÆ§ËØÅÊìç‰ΩúÔºâ</span></span><br><span class="line">        map.put(<span class="string">&quot;/index&quot;</span>,<span class="string">&quot;user&quot;</span>);</span><br><span class="line"></span><br><span class="line">        map.put(<span class="string">&quot;/**&quot;</span>,<span class="string">&quot;authc&quot;</span>);<span class="comment">//ËØ•Ë∑ØÂæÑËÆ§ËØÅÂêéÊâçËÉΩËÆøÈóÆ</span></span><br><span class="line">        <span class="comment">//map.put(&quot;/**&quot;,&quot;anon&quot;);//ÊâÄÊúâË∑ØÂæÑÈÉΩÂèØ‰ª•ÂåøÂêçËÆøÈóÆ</span></span><br><span class="line"></span><br><span class="line">        shiroFilterFactoryBean.setFilterChainDefinitionMap(map);</span><br><span class="line">        <span class="keyword">return</span> shiroFilterFactoryBean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><code>ps:</code>ÁôªÂΩïÈ°µÈù¢ÂãæÈÄâ ËÆ∞‰ΩèÊàë ËøõË°åÊµãËØï</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/CoutureOne/blogimg@main/img/202211071249775.png&quot; alt=&quot;1587372890081&quot;&gt;&lt;/p&gt;
&lt;p&gt;[TOC]&lt;/p&gt;
&lt;h3 id=&quot;‰∏Ä„ÄÅRBAC‰ªãÁªç&quot;&gt;&lt;a href=&quot;#‰∏Ä„ÄÅRBAC‰ªãÁªç&quot; class=&quot;headerlink&quot; title=&quot;‰∏Ä„ÄÅRBAC‰ªãÁªç&quot;&gt;&lt;/a&gt;‰∏Ä„ÄÅRBAC‰ªãÁªç&lt;/h3&gt;&lt;hr&gt;
&lt;h4 id=&quot;1-1-RBACÁÆÄ‰ªã&quot;&gt;&lt;a href=&quot;#1-1-RBACÁÆÄ‰ªã&quot; class=&quot;headerlink&quot; title=&quot;1.1 RBACÁÆÄ‰ªã&quot;&gt;&lt;/a&gt;1.1 RBACÁÆÄ‰ªã&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;RBACÊòØÂü∫‰∫éËßíËâ≤ÁöÑËÆøÈóÆÊéßÂà∂ÔºàRole-Based Access Control ÔºâÂú® RBAC ‰∏≠ÔºåÊùÉÈôê‰∏éËßíËâ≤Áõ∏ÂÖ≥ËÅîÔºåÁî®Êà∑ÈÄöËøáÊàê‰∏∫ÈÄÇÂΩìËßíËâ≤ÁöÑÊàêÂëòËÄåÂæóÂà∞Ëøô‰∫õËßíËâ≤ÁöÑÊùÉÈôê„ÄÇËøôÂ∞±ÊûÅÂ§ßÂú∞ÁÆÄÂåñ‰∫ÜÊùÉÈôêÁöÑÁÆ°ÁêÜ„ÄÇËøôÊ†∑ÁÆ°ÁêÜÈÉΩÊòØÂ±ÇÁ∫ßÁõ∏‰∫í‰æùËµñÁöÑÔºåÊùÉÈôêËµã‰∫àÁªôËßíËâ≤ÔºåËÄåÊääËßíËâ≤ÂèàËµã‰∫àÁî®Êà∑ÔºåËøôÊ†∑ÁöÑÊùÉÈôêËÆæËÆ°ÂæàÊ∏ÖÊ•öÔºåÁÆ°ÁêÜËµ∑Êù•ÂæàÊñπ‰æø„ÄÇ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Âú®RBACÊ®°ÂûãÈáåÈù¢ÔºåÊúâ3‰∏™Âü∫Á°ÄÁªÑÊàêÈÉ®ÂàÜÔºåÂàÜÂà´ÊòØÔºöÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ&lt;/p&gt;
&lt;p&gt;RBACÈÄöËøáÂÆö‰πâËßíËâ≤ÁöÑÊùÉÈôêÔºåÂπ∂ÂØπÁî®Êà∑Êéà‰∫àÊüê‰∏™ËßíËâ≤‰ªéËÄåÊù•ÊéßÂà∂Áî®Êà∑ÁöÑÊùÉÈôêÔºåÂÆûÁé∞‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÈÄªËæëÂàÜÁ¶ªÔºåÊûÅÂ§ßÂú∞Êñπ‰æø‰∫ÜÊùÉÈôêÁöÑÁÆ°ÁêÜÔºåÂú®ËÆ≤Ëß£‰πãÂâçÔºåÂÖà‰ªãÁªç‰∏Ä‰∫õÂêçËØçÔºö&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="ÂêéÁ´ØÂ≠¶‰π†" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="java" scheme="http://example.com/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/java/"/>
    
    
    <category term="ÂêéÁ´Ø" scheme="http://example.com/tags/%E5%90%8E%E7%AB%AF/"/>
    
    <category term="java" scheme="http://example.com/tags/java/"/>
    
  </entry>
  
</feed>
